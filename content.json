{"meta":{"title":"lovelves","subtitle":null,"description":"å…‰é¢–","author":"lovelves","url":"https://www.lovelves.cn"},"pages":[{"title":"about","date":"2021-06-12T14:14:36.000Z","updated":"2021-06-10T15:27:41.000Z","comments":false,"path":"about/index.html","permalink":"https://www.lovelves.cn/about/index.html","excerpt":"","text":"[lovelvesçš„å®¶] ä¸&nbsp; lovelves&nbsp; ï¼ˆ é¾™å‚²å¤© ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2021-06-21T13:51:19.118Z","comments":false,"path":"bangumi/index.html","permalink":"https://www.lovelves.cn/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"client/index.html","permalink":"https://www.lovelves.cn/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"booklist","date":"2021-06-20T16:05:07.920Z","updated":"2021-06-20T16:05:07.920Z","comments":false,"path":"booklist/index.html","permalink":"https://www.lovelves.cn/booklist/index.html","excerpt":"","text":"å­¦ä¹ ç¬”è®°æ€»ç»“ springå­¦ä¹ 1.1 spring xmlé…ç½®1.2 springæ³¨è§£é…ç½®1.3 spring AOP","keywords":"ç¬”è®°æ€»ç»“"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"comment/index.html","permalink":"https://www.lovelves.cn/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"donate/index.html","permalink":"https://www.lovelves.cn/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"lab/index.html","permalink":"https://www.lovelves.cn/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"rss/index.html","permalink":"https://www.lovelves.cn/rss/index.html","excerpt":"","text":""},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2021-06-20T14:26:37.289Z","comments":false,"path":"music/index.html","permalink":"https://www.lovelves.cn/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"links/index.html","permalink":"https://www.lovelves.cn/links/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://www.lovelves.cn/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"video/index.html","permalink":"https://www.lovelves.cn/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"tags/index.html","permalink":"https://www.lovelves.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"macOSæŠ€å·§","slug":"macOSæŠ€å·§","date":"2021-07-17T04:27:31.000Z","updated":"2021-07-17T04:29:23.451Z","comments":true,"path":"2021/07/17/macOSæŠ€å·§/","link":"","permalink":"https://www.lovelves.cn/2021/07/17/macOSæŠ€å·§/","excerpt":"","text":"å…³é—­macOs ä¸­çƒ¦äººçš„æ›´æ–°æ­¥éª¤ 1åˆ°ã€Œåº”ç”¨ç¨‹å¼ã€&gt;ã€Œå·¥å…·ç¨‹å¼ã€å†…å¼€å¯ã€Œç»ˆç«¯æœºã€ã€‚æ­¥éª¤ 2å¼€å¯ç»ˆç«¯æœºï¼ˆTerminalï¼‰åï¼Œå¤åˆ¶åº•ä¸‹æŒ‡ä»¤åæŒ‰ã€ŒEnterã€æ‰§è¡Œï¼Œè¿‡ç¨‹ä¸­ä¼šéœ€è¦ä½ è¾“å…¥ç®¡ç†è€…å¯†ç æ‰èƒ½æ‰§è¡Œï¼Œè¾“å…¥å®Œæ¯•åé‡æ–°å¼€æœºä¸€æ¬¡å³å¯ã€‚ sudo softwareupdate --ignore &quot;macOS Catalina&quot; sudo softwareupdate --ignore &quot;macOS big sur&quot; æ­¥éª¤ 3ç»§ç»­å¤åˆ¶åº•ä¸‹æŒ‡ä»¤ï¼Œç›´æ¥è´´ä¸Šç»ˆç«¯æœºåæŒ‰ã€ŒEnterã€æ‰§è¡Œã€‚ defaults delete com.apple.preferences.softwareupdate æ­¥éª¤ 4æœ€åæ‰§è¡Œåº•ä¸‹æŒ‡ä»¤ï¼Œæ‰§è¡Œç»“æœä¼šæ˜¾ç¤ºmacOS Catalina 10.15.5 ä¸å»ºè®®å…³é—­ç³»ç»Ÿæ›´æ–°ï¼Œä¸è¿‡å…¶å®è¾“å…¥æŒ‡ä»¤åä¹ŸåŒæ ·æ˜¯å¯ä»¥å¼ºåˆ¶å…³é—­ã€‚ softwareupdate --list æ­¥éª¤ 5å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæœ€åè¿˜æ˜¯ä¼šå‘ç°æœ‰çº¢è‰²æç¤ºmacOS æ›´æ–°è®¯æ¯ï¼Œæœ€åè¦æ›´æ–°ç¼“å­˜ã€‚ defaults delete com.apple.systempreferences AttentionPrefBundleIDs; killall Dock","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"macOSæŠ€å·§","slug":"macOSæŠ€å·§","permalink":"https://www.lovelves.cn/tags/macOSæŠ€å·§/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"äººå·¥æ™ºèƒ½å®æˆ˜å­¦ä¹ 01","slug":"äººå·¥æ™ºèƒ½å®æˆ˜å­¦ä¹ 01","date":"2021-07-10T15:15:59.000Z","updated":"2021-07-17T04:30:45.215Z","comments":true,"path":"2021/07/10/äººå·¥æ™ºèƒ½å®æˆ˜å­¦ä¹ 01/","link":"","permalink":"https://www.lovelves.cn/2021/07/10/äººå·¥æ™ºèƒ½å®æˆ˜å­¦ä¹ 01/","excerpt":"","text":"äººå·¥æ™ºèƒ½å­¦ä¹ è¯¾ç¨‹ä¹‹ï¼ˆç¯å¢ƒå‡†å¤‡ï¼‰å®‰è£…pythonhttps://www.python.org/downloads/å®‰è£…condahttps://www.anaconda.com/products/individualåœ¨anacondaä¸­åˆ›å»ºæ–°çš„ç¯å¢ƒ è¾“å…¥å‘½ä»¤ åˆ›å»ºä¸€ä¸ªç¯å¢ƒ åå­—å«ai conda create -n ai ç„¶åæ¿€æ´»ç¯å¢ƒ conda activate ai ç„¶åæŒ‰è£…jupyterjupyterç•Œé¢ä¼˜åŒ– pip install jupyterthemes jt -t grade3 -f fira -fs 16 -cellw 90% -ofs 11 -dfs 11 -T å®‰è£…pandas pip install pandas -i https://pypi.douban.com/simple å®‰è£…matplotlib pip install matplotlib -i https://pypi.douban.com/simple å®‰è£…sklearn pip install sklearn -i https://pypi.douban.com/simple äººå·¥æ™ºèƒ½å­¦ä¹ è¯¾ç¨‹ä¹‹ï¼ˆçº¿æ€§å›å½’æ¨¡å‹ï¼‰å¼•å…¥pandasåº“ æŠŠæ•°æ®å¼•å…¥(2.csv)çš„æ•°æ®å¦‚ä¸‹x,y1, 72, 93, 114, 135, 156, 177, 198, 219, 2310, 25 æ•°æ®å¼•å…¥é˜¶æ®µ import pandas as pd import numpy as np data=pd.read_csv(&#39;2.csv&#39;) #æŠŠ2.csvæ–‡ä»¶çš„æ•°æ®è¯»å…¥åˆ°dataä¸­ data.head() # æŸ¥çœ‹æ•°æ®å‰å‡ è¡Œ print(type(data),data.shape) #æŸ¥çœ‹æ•°æ®çš„ç±»å‹ å’Œ ç»´åº¦ &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; (10, 2) x = data.loc[:,&#39;x&#39;] #æŠŠæ•°æ®ä¸­çš„xåˆ—è¯»å…¥åˆ°xä¸­ y = data.loc[:,&#39;y&#39;] #æŠŠæ•°æ®ä¸­çš„xåˆ—è¯»å…¥åˆ°yä¸­ x=np.array(x).reshape(-1,1) #æŠŠæ•°æ®è½¬æ¢ä¸ºäºŒç»´ y=np.array(y).reshape(-1,1) #æŠŠæ•°æ®è½¬æ¢ä¸ºäºŒç»´ æ•°æ®å±•ç¤ºé˜¶æ®µ from matplotlib import pyplot as plt plt.figure(figsize=(10,10)) #åˆ›å»º10*10å¤§å°çš„ç”»æ¿ plt.scatter(x,y) #ç”»æ•£ç‚¹å›¾ plt.show() # å±•ç¤ºå›¾ç‰‡ æ•°æ®åˆ†æé˜¶æ®µ import sklearn from sklearn.linear_model import LinearRegression # å¼•å…¥çº¿æ€§å›å½’æ¨¡å‹ l_model = LinearRegression()# åˆå§‹åŒ–çº¿æ€§å›å½’æ¨¡å‹ l_model.fit(x,y)#æŠŠæ•°æ®ä¸¢ç»™æ¨¡å‹å¤„ç† y_predict = l_model.predict(x) # é¢„æµ‹æ•°æ®é€šè¿‡ç»™x é¢„æµ‹yçš„å€¼ y_predict = l_model.predict([[2.5]]) # é¢„æµ‹æ•°æ®é€šè¿‡ç»™x=2.5 é¢„æµ‹yçš„å€¼ a=l_model.coef_ # æ±‚å‡ºçº¿æ€§ä¸­açš„å€¼ y=ax+b b=l_model.intercept_ # æ±‚å‡ºçº¿æ€§ä¸­bçš„å€¼ y=ax+b print(a,b) #[[2.]] [5.] åˆ¤æ–­æ¨¡å‹å»ºç«‹çš„å¥½ä¸å¥½ from sklearn.metrics import mean_squared_error,r2_score mse = mean_squared_error(y,y_predict) # mseçš„å€¼è¶Šå°è¶Šå¥½ r2 = r2_score(y,y_predict) # r2çš„å€¼è¶Šæ¥è¿‘1è¶Šå¥½ print(mse,r2) # 3.1554436208840474e-31 1.0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"äººå·¥æ™ºèƒ½","slug":"äººå·¥æ™ºèƒ½","permalink":"https://www.lovelves.cn/tags/äººå·¥æ™ºèƒ½/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"pythonå›¾å½¢ç•Œé¢å­¦ä¹ ","slug":"pythonå›¾å½¢ç•Œé¢å­¦ä¹ ","date":"2021-06-26T11:37:42.000Z","updated":"2021-07-01T12:02:27.302Z","comments":true,"path":"2021/06/26/pythonå›¾å½¢ç•Œé¢å­¦ä¹ /","link":"","permalink":"https://www.lovelves.cn/2021/06/26/pythonå›¾å½¢ç•Œé¢å­¦ä¹ /","excerpt":"","text":"pyside2 å­¦ä¹ è™šæ‹Ÿç¯å¢ƒå‡†å¤‡å®‰è£…è™šæ‹Ÿç¯å¢ƒ pip install -i https://pypi.tuna.tsinghua.edu.cn/simple virtualenv è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆä¼šå¤šäº†ä¸€ä¸ªç›®å½•åå­—å«venvï¼‰ virtualenv venv æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆè¿›å…¥è™šæ‹Ÿç¯å¢ƒ æ­£å¸¸çš„é€šè¿‡å‘½ä»¤pip å®‰è£…è‡ªå·±éœ€è¦çš„åŒ… å®‰è£…çš„åŒ…å­˜æ”¾åœ¨venvä¸­çš„lib/python/site-packagesä¸­ï¼‰ macä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æˆ‘çš„venvçš„ä½ç½®åœ¨æ ¹ç›®å½• æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ source venv/bin/activate windowsä¸‹ ç›´æ¥ç”¨å‘½ä»¤è¡Œçª—å£å®šä½åˆ°venv\\Scripts\\ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ activate é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼ˆé€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼‰ deactivate pyside2 å®‰è£…pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyside2 ç¬¬ä¸€ä¸ªpyside2å°æ¡ˆä¾‹ from PySide2.QtWidgets import QApplication, QMainWindow, QPushButton, QPlainTextEdit app = QApplication([]) #QApplication æä¾›äº†æ•´ä¸ªå›¾å½¢ç•Œé¢ç¨‹åºçš„åº•å±‚ç®¡ç†åŠŸèƒ½ window = QMainWindow() #åˆ›å»ºWindowsæ§ä»¶ window.resize(500, 400) #å®šä¹‰çª—å£å¤§å° window.move(300, 310) #å®šä¹‰çª—å£çš„ä½ç½® window.setWindowTitle(&#39;è–ªèµ„ç»Ÿè®¡&#39;) # å®šä¹‰çª—å£çš„æ ‡é¢˜ textEdit = QPlainTextEdit(window) #åˆ›å»ºæ–‡æœ¬ç¼–è¾‘æ¡† textEdit.setPlaceholderText(&quot;è¯·è¾“å…¥è–ªèµ„è¡¨&quot;) #æ˜¾ç¤ºé»˜è®¤è¯­å¥ textEdit.move(10,25) textEdit.resize(300,350) button = QPushButton(&#39;ç»Ÿè®¡&#39;, window) #åˆ›å»ºæŒ‰é’® button.move(380,80) window.show() #æ˜¾ç¤ºçª—å£ app.exec_() # è¿›å…¥QApplicationçš„äº‹ä»¶å¤„ç†å¾ªç¯ï¼Œæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ï¼ˆï¼‰ï¼Œå¹¶ä¸”åˆ†é…ç»™ç›¸åº”çš„å¯¹è±¡å»å¤„ç† ç»Ÿè®¡æŒ‰é’®çš„äº‹ä»¶ç»‘å®š def handleCalc(): print(&#39;ç»Ÿè®¡æŒ‰é’®è¢«ç‚¹å‡»äº†&#39;) button.clicked.connect(handleCalc) #ç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™è§¦å‘handlecalcæ–¹æ³• è·å–ç¼–è¾‘æ¡†çš„æ–‡æœ¬(toPlainText) text = edit.toPlainText() from PySide2.QtWidgets import QApplication, QMainWindow, QPushButton, QPlainTextEdit,QMessageBox class Stats(): def __init__(self): self.window = QMainWindow() self.window.resize(500, 400) self.window.move(300, 300) self.window.setWindowTitle(&#39;è–ªèµ„ç»Ÿè®¡&#39;) self.textEdit = QPlainTextEdit(self.window) self.textEdit.setPlaceholderText(&quot;è¯·è¾“å…¥è–ªèµ„è¡¨&quot;) self.textEdit.move(10, 25) self.textEdit.resize(300, 350) self.button = QPushButton(&#39;ç»Ÿè®¡&#39;, self.window) self.button.move(380, 80) self.button.clicked.connect(self.handleCalc) def handleCalc(self): info = self.textEdit.toPlainText() # è–ªèµ„20000 ä»¥ä¸Š å’Œ ä»¥ä¸‹ çš„äººå‘˜åå• salary_above_20k = &#39;&#39; salary_below_20k = &#39;&#39; for line in info.splitlines(): if not line.strip(): continue parts = line.split(&#39; &#39;) # å»æ‰åˆ—è¡¨ä¸­çš„ç©ºå­—ç¬¦ä¸²å†…å®¹ parts = [p for p in parts if p] name,salary,age = parts if int(salary) &gt;= 20000: salary_above_20k += name + &#39;\\n&#39; else: salary_below_20k += name + &#39;\\n&#39; QMessageBox.about(self.window, &#39;ç»Ÿè®¡ç»“æœ&#39;, f&#39;&#39;&#39;è–ªèµ„20000 ä»¥ä¸Šçš„æœ‰ï¼š\\n{salary_above_20k} \\nè–ªèµ„20000 ä»¥ä¸‹çš„æœ‰ï¼š\\n{salary_below_20k}&#39;&#39;&#39; ) app = QApplication([]) stats = Stats() stats.window.show() app.exec_() ç”¨Designeræ¥ç¼–è¾‘çª—å£ç•Œé¢å‰é¢çš„ä»£ç éƒ½æ˜¯æ‰‹åŠ¨å®šä¹‰æŒ‰é”®çš„ä½ç½®çš„ è¿™æ ·å¤ªéº»çƒ¦äº† æˆ‘ä»¬å¯ä»¥ç”¨ç•Œé¢è®¾è®¡å¸ˆæ¥å®Œæˆç•Œé¢çš„è®¾è®¡ æˆ‘æ˜¯ç”¨è™šæ‹Ÿç¯å¢ƒå®‰è£…çš„ å®‰è£…äº†pyside2å åœ¨site-packagesä¸­çš„pyside2æ–‡ä»¶ä¸­ä¼šæ‰¾åˆ° æ‰“å¼€çš„ç•Œé¢å¦‚ä¸‹ æŠŠè¦ç”¨åˆ°çš„ç»„ä»¶å¾€ç•Œé¢æ‹–å°±æ˜¯äº† å¾ˆç®€å•å½“ä½ æŠŠç»„ä»¶æ”¾ä¸Šå» ä½ ä¼šå‘ç° æœ‰äº›å¾ˆéš¾å¯¹é½ å³ä½¿å¯¹é½äº† ç•Œé¢æ‹–åˆ°å ä¸ä¼šè‡ªåŠ¨æ”¹å˜è‡ªå·±çš„å¤§å° è¿™æ—¶å€™æˆ‘ä»¬å°±ç”¨åˆ°å¸ƒå±€ Qtæ˜¯é€šè¿‡ç•Œé¢å¸ƒå±€Layoutç±»æ¥å®ç°è¿™ç§åŠŸèƒ½çš„ã€‚æˆ‘ä»¬æœ€å¸¸ç”¨çš„ Layoutå¸ƒå±€ æœ‰4ç§ï¼Œåˆ†åˆ«æ˜¯QHBoxLayout æ°´å¹³å¸ƒå±€QHBoxLayout æŠŠæ§ä»¶ä»å·¦åˆ°å³ æ°´å¹³æ¨ªç€æ‘†æ”¾QVBoxLayout å‚ç›´å¸ƒå±€QHBoxLayout æŠŠæ§ä»¶ä»ä¸Šåˆ°ä¸‹ç«–ç€æ‘†æ”¾ QGridLayout æ …æ ¼å¸ƒå±€QGridLayout æŠŠå¤šä¸ªæ§ä»¶ æŒ‰è¡¨æ ¼å¸ƒå±€ å¯¹ç•Œé¢å¸ƒå±€çš„ä¸€äº›å»ºè®®å…ˆä¸ä½¿ç”¨ä»»ä½•layoutï¼Œæ‰€æœ‰æ§ä»¶æŒ‰è‡ªå·±å–œæ¬¢çš„ä½ç½®å¾€ä¸Šæ‘†ç„¶ååœ¨ä»å†…å±‚å¼€å§‹å¸ƒå±€ åœ¨åˆ°å¤–å±‚æœ€åé€šè¿‡layoutæ§ä»¶å¤§å°æ¯”ä¾‹æ¥æ§åˆ¶ä½ç½®layoutstrentch è®¾ç½®å¥½åä¿å­˜å ä¼šæœ‰ä¸€ä¸ªUIæ–‡ä»¶ ç”¨pythonä»£ç æ¥åŠ è½½åˆšåˆ›å»ºçš„uiæ–‡ä»¶åŠ è½½ç•Œé¢æ–‡ä»¶ ui = QUiLoader().load(&#39;m.ui&#39;) é‡Œé¢çš„æ§ä»¶å¯¹è±¡ä¹Ÿæˆä¸ºçª—å£å¯¹è±¡çš„å±æ€§äº† å¯ä»¥é€šè¿‡ä»£ç å®šä½åˆ°ç»„ä»¶ æ¯”å¦‚æˆ‘æƒ³æŠŠæŒ‰é’®æ·»åŠ ä¸€ä¸ªæ–¹æ³• ui.pushButton.clicked.connect(self.handleCalc) å±æ€§å«ä»€ä¹ˆåå­— éƒ½æ˜¯è‡ªå·±å®šä¹‰çš„ æ¯”å¦‚è¿™ä¸ªæŒ‰é’®å°±æ˜¯ ui.pushButton_5 ä¸€ä¸ªå°çš„æ¡ˆä¾‹ from PySide2.QtWidgets import QApplication, QMessageBox from PySide2.QtUiTools import QUiLoader class Stats: def __init__(self): # ä»æ–‡ä»¶ä¸­åŠ è½½UIå®šä¹‰ # ä» UI å®šä¹‰ä¸­åŠ¨æ€ åˆ›å»ºä¸€ä¸ªç›¸åº”çš„çª—å£å¯¹è±¡ # æ³¨æ„ï¼šé‡Œé¢çš„æ§ä»¶å¯¹è±¡ä¹Ÿæˆä¸ºçª—å£å¯¹è±¡çš„å±æ€§äº† # æ¯”å¦‚ self.ui.button , self.ui.textEdit self.ui = QUiLoader().load(&#39;m.ui&#39;) self.ui.pushButton.clicked.connect(self.handleCalc) def handleCalc(self): info = self.ui.plainTextEdit.toPlainText() salary_above_20k = &#39;&#39; salary_below_20k = &#39;&#39; for line in info.splitlines(): if not line.strip(): continue parts = line.split(&#39; &#39;) parts = [p for p in parts if p] name,salary,age = parts if int(salary) &gt;= 20000: salary_above_20k += name + &#39;\\n&#39; else: salary_below_20k += name + &#39;\\n&#39; QMessageBox.about(self.ui, &#39;ç»Ÿè®¡ç»“æœ&#39;, f&#39;&#39;&#39;è–ªèµ„20000 ä»¥ä¸Šçš„æœ‰ï¼š\\n{salary_above_20k} \\nè–ªèµ„20000 ä»¥ä¸‹çš„æœ‰ï¼š\\n{salary_below_20k}&#39;&#39;&#39; ) app = QApplication([]) stats = Stats() stats.ui.show() app.exec_() å¸¸ç”¨ç»„ä»¶QPushButton æŒ‰é’®è¢«ç‚¹å‡» pushButton.clicked.connect(handleCalc) #handleCalcæ˜¯ä¸€ä¸ªæ–¹æ³•çš„åå­— è´Ÿè´£å¤„ç†ç‚¹å‡»åæ‰§è¡Œçš„å†…å®¹ æ”¹å˜æŒ‰é”®çš„çš„æ–‡æœ¬ pushButton.setText(text) #text å­—ç¬¦ä¸² è¦å®šä¹‰çš„æ–‡æœ¬ æŠŠæŒ‰é”®ç¦ç”¨å’Œå¯ç”¨ pushButton.setEnabled(False) #ç¦ç”¨ pushButton.setEnabled(True) #å¯ç”¨ å•è¡Œæ–‡æœ¬æ¡†æ–‡æœ¬è¢«ä¿®æ”¹å½“æ–‡æœ¬æ¡†ä¸­çš„å†…å®¹è¢«é”®ç›˜ç¼–è¾‘ï¼Œè¢«ç‚¹å‡»å°±ä¼šå‘å‡º textChanged ä¿¡å·ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå¤„ç†è¯¥ä¿¡å·çš„å‡½æ•° edit.textChanged.connect(handleTextChange) #handleTextChange æ˜¯ä¸€ä¸ªæ–¹æ³•çš„åå­— è´Ÿè´£å¤„ç† æŒ‰ä¸‹å›è½¦é”®å½“ç”¨æˆ·åœ¨æ–‡æœ¬æ¡†ä¸­ä»»ä½•æ—¶å€™æŒ‰ä¸‹å›è½¦é”®ï¼Œå°±ä¼šå‘å‡º returnPressed ä¿¡å· passwordEdit.returnPressed.connect(onLogin) # onLogin æ˜¯ä¸€ä¸ªæ–¹æ³•çš„åå­— è´Ÿè´£å¤„ç† è·å–æ–‡æœ¬é€šè¿‡ text æ–¹æ³•è·å–ç¼–è¾‘æ¡†å†…çš„æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ text = edit.text() è®¾ç½®æç¤ºé€šè¿‡ setPlaceholderText æ–¹æ³•å¯ä»¥è®¾ç½®æç¤ºæ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ edit.setPlaceholderText(&#39;è¯·åœ¨è¿™é‡Œè¾“å…¥URL&#39;) è®¾ç½®æ–‡æœ¬ edit.setText(&#39;å¡«å…¥ä½ è¦å†™çš„æ–‡æœ¬&#39;) æ¸…é™¤æ‰€æœ‰æ–‡æœ¬ edit.clear() æ‹·è´æ–‡æœ¬åˆ°å‰ªè´´æ¿ edit.copy() ç²˜è´´å‰ªè´´æ¿æ–‡æœ¬ edit.paste() å¤šè¡Œçº¯æ–‡æœ¬æ¡†QPlainTextEdit æ˜¯å¯ä»¥ å¤šè¡Œ çš„çº¯æ–‡æœ¬ç¼–è¾‘æ¡†æ³¨æ„ï¼šåœ¨è‹¹æœMacOSä¸Šï¼Œæœ‰ æ›´æ–°æ–‡æœ¬æ¡†å†…å®¹åï¼Œéœ€è¦é¼ æ ‡æ»‘è¿‡æ‰èƒ½æ›´æ–°æ˜¾ç¤ºçš„bug æ–‡æœ¬è¢«ä¿®æ”¹å½“æ–‡æœ¬æ¡†ä¸­çš„å†…å®¹è¢«é”®ç›˜ç¼–è¾‘ï¼Œè¢«ç‚¹å‡»å°±ä¼šå‘å‡º textChanged ä¿¡å·ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå¤„ç†è¯¥ä¿¡å·çš„å‡½æ•° edit.textChanged.connect(handleTextChange) å…‰æ ‡ä½ç½®æ”¹å˜å½“æ–‡æœ¬æ¡†ä¸­çš„å…‰æ ‡ä½ç½®å˜åŠ¨ï¼Œå°±ä¼šå‘å‡º cursorPositionChanged ä¿¡å·ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå¤„ç†è¯¥ä¿¡å·çš„å‡½æ•° edit.cursorPositionChanged.connect(handleChanged) è·å–æ–‡æœ¬é€šè¿‡ toPlainText æ–¹æ³•è·å–ç¼–è¾‘æ¡†å†…çš„æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ text = edit.toPlainText() è·å–é€‰ä¸­æ–‡æœ¬ # è·å– QTextCursor å¯¹è±¡ textCursor = edit.textCursor() selection = textCursor.selectedText() è®¾ç½®æç¤º edit.setPlaceholderText(&#39;è¯·åœ¨è¿™é‡Œè¾“å…¥&#39;) è®¾ç½®æ–‡æœ¬é€šè¿‡ setPlainText æ–¹æ³•è®¾ç½®ç¼–è¾‘æ¡†å†…çš„æ–‡æœ¬å†…å®¹ ä¸ºå‚æ•°é‡Œé¢çš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ edit.setPlainText(&#39;hello&#39;)# åŸæ¥çš„æ‰€æœ‰å†…å®¹ä¼šè¢«æ¸…é™¤ åœ¨æœ«å°¾æ·»åŠ æ–‡æœ¬é€šè¿‡ appendPlainText æ–¹æ³•åœ¨ç¼–è¾‘æ¡†æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ edit.appendPlainText(&#39;æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹&#39;) # æ³¨æ„ï¼šè¿™ç§æ–¹æ³•ä¼šåœ¨æ·»åŠ æ–‡æœ¬å è‡ªåŠ¨æ¢è¡Œ åœ¨å…‰æ ‡å¤„æ’å…¥æ–‡æœ¬é€šè¿‡ insertPlainText æ–¹æ³•åœ¨ç¼–è¾‘æ¡†æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ edit.insertPlainText(&#39;æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹&#39;) # æ³¨æ„ï¼šè¿™ç§æ–¹æ³• ä¸ä¼š åœ¨æ·»åŠ æ–‡æœ¬åè‡ªåŠ¨æ¢è¡Œ æ¸…é™¤æ‰€æœ‰æ–‡æœ¬clear æ–¹æ³•å¯ä»¥æ¸…é™¤ç¼–è¾‘æ¡†å†…æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ edit.clear() æ‹·è´æ–‡æœ¬åˆ°å‰ªè´´æ¿copy æ–¹æ³•å¯ä»¥æ‹·è´å½“å‰é€‰ä¸­æ–‡æœ¬åˆ°å‰ªè´´æ¿ï¼Œæ¯”å¦‚ edit.copy() ç²˜è´´å‰ªè´´æ¿æ–‡æœ¬paste æ–¹æ³•å¯ä»¥æŠŠå‰ªè´´æ¿å†…å®¹ï¼Œæ‹·è´åˆ°ç¼–è¾‘æ¡†å½“å‰å…‰æ ‡æ‰€åœ¨å¤„ï¼Œæ¯”å¦‚ edit.paste() æ–‡æœ¬æµè§ˆæ¡†QTextBrowser æ˜¯ åªèƒ½æŸ¥çœ‹æ–‡æœ¬ æ§ä»¶ã€‚é€šå¸¸ç”¨æ¥æ˜¾ç¤ºä¸€äº›æ“ä½œæ—¥å¿—ä¿¡æ¯ã€æˆ–è€…ä¸éœ€è¦ç”¨æˆ·ç¼–è¾‘çš„å¤§æ®µæ–‡æœ¬å†…å®¹ã€‚è¯¥æ§ä»¶ è·å–æ–‡æœ¬ã€è®¾ç½®æ–‡æœ¬ã€æ¸…é™¤æ–‡æœ¬ã€å‰ªè´´æ¿å¤åˆ¶ç²˜è´´ ç­‰ç­‰ï¼Œ éƒ½å’Œä¸Šé¢ä»‹ç»çš„ å¤šè¡Œçº¯æ–‡æœ¬æ¡†æ˜¯ä¸€æ ·çš„ã€‚ åœ¨æœ«å°¾æ·»åŠ æ–‡æœ¬é€šè¿‡ append æ–¹æ³•åœ¨ç¼–è¾‘æ¡†æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ textBrowser.append(&#39;æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹&#39;) æœ‰æ—¶ï¼Œæµè§ˆæ¡†é‡Œé¢çš„å†…å®¹é•¿åº¦è¶…å‡ºäº†å¯è§èŒƒå›´ï¼Œæˆ‘ä»¬åœ¨æœ«å°¾æ·»åŠ äº†å†…å®¹ï¼Œå¾€å¾€å¸Œæœ›æ§ä»¶è‡ªåŠ¨ç¿»æ»šåˆ°å½“å‰æ·»åŠ çš„è¿™è¡Œï¼Œå¯ä»¥é€šè¿‡ ensureCursorVisible æ–¹æ³•æ¥å®ç° textBrowser.append(&#39;æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹&#39;) textBrowser.ensureCursorVisible() #æ³¨æ„ï¼šè¿™ç§æ–¹æ³•ä¼šåœ¨æ·»åŠ æ–‡æœ¬å è‡ªåŠ¨æ¢è¡Œ åœ¨å…‰æ ‡å¤„æ’å…¥æ–‡æœ¬é€šè¿‡ insertPlainText æ–¹æ³•åœ¨ç¼–è¾‘æ¡†æœ«å°¾æ·»åŠ æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ edit.insertPlainText(&#39;æ·»åŠ æ–‡æœ¬å†…å®¹&#39;) # è¿™ç§æ–¹æ³• ä¸ä¼š åœ¨æ·»åŠ æ–‡æœ¬åè‡ªåŠ¨æ¢è¡Œ æ ‡ç­¾QLabel å°±æ˜¯å¸¸è§çš„æ ‡ç­¾ï¼Œå¯ä»¥ç”¨æ¥æ˜¾ç¤ºæ–‡å­—ï¼ˆåŒ…æ‹¬çº¯æ–‡æœ¬å’Œå¯Œæ–‡æœ¬ï¼‰ã€å›¾ç‰‡ ç”šè‡³åŠ¨ç”» æ”¹å˜æ–‡æœ¬ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ setText æ–¹æ³•æ¥æ”¹å˜æ ‡ç­¾æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ button.setText(text) å›¾ç‰‡QLabelå¯ä»¥ç”¨æ¥æ˜¾ç¤ºå›¾ç‰‡ï¼Œæœ‰æ—¶ä¸€ä¸ªå›¾ç‰‡å¯ä»¥è®©ç•Œé¢å¥½çœ‹å¾ˆå¤šï¼Œå¯ä»¥åœ¨ Qt Designerä¸Š å±æ€§ç¼–è¾‘å™¨ QLabel æ  çš„ pixmap å±æ€§è®¾ç½®ä¸­é€‰æ‹©å›¾ç‰‡æ–‡ä»¶æŒ‡å®šã€‚ ç»„åˆé€‰æ‹©æ¡† é€‰é¡¹æ”¹å˜å¦‚æœç”¨æˆ·æ“ä½œä¿®æ”¹äº†QComboBoxä¸­çš„é€‰é¡¹å°±ä¼šå‘å‡º currentIndexChanged ä¿¡å·ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå¤„ç†è¯¥ä¿¡å·çš„å‡½æ•° cbox.currentIndexChanged.connect(handleSelectionChange) æ·»åŠ ä¸€ä¸ªé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ addItem æ–¹æ³•æ¥æ·»åŠ ä¸€ä¸ªé€‰é¡¹åˆ° æœ«å°¾ ï¼Œå‚æ•°å°±æ˜¯é€‰é¡¹æ–‡æœ¬ cbox.addItem(&#39;byhy&#39;) æ·»åŠ å¤šä¸ªé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ addItems æ–¹æ³•æ¥æ·»åŠ å¤šä¸ªé€‰é¡¹åˆ° æœ«å°¾ï¼Œå‚æ•°æ˜¯åŒ…å«äº†å¤šä¸ªé€‰é¡¹æ–‡æœ¬çš„åˆ—è¡¨ cbox.addItems([&#39;java&#39;,&#39;c++&#39;,&#39;pythonæ•™ç¨‹&#39;]) æ¸…ç©ºé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ clear æ–¹æ³•æ¥æ¸…ç©ºé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤é€‰æ‹©æ¡†å†…æ‰€æœ‰çš„é€‰é¡¹ cbox.clear() è·å–å½“å‰é€‰é¡¹æ–‡æœ¬ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ currentText æ–¹æ³•æ¥è·å–å½“å‰ é€‰ä¸­çš„é€‰é¡¹ çš„æ–‡æœ¬ï¼Œæ¯”å¦‚ method = cbox.currentText() åˆ—è¡¨QListWidget æ˜¯åˆ—è¡¨æ§ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º æ·»åŠ ä¸€ä¸ªé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ addItem æ–¹æ³•æ¥æ·»åŠ ä¸€ä¸ªé€‰é¡¹åˆ° æœ«å°¾ ï¼Œå‚æ•°å°±æ˜¯é€‰é¡¹æ–‡æœ¬ listWidget.addItem(&#39;helo&#39;) æ·»åŠ å¤šä¸ªé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ addItems æ–¹æ³•æ¥æ·»åŠ å¤šä¸ªé€‰é¡¹åˆ° æœ«å°¾ï¼Œå‚æ•°æ˜¯åŒ…å«äº†å¤šä¸ªé€‰é¡¹æ–‡æœ¬çš„åˆ—è¡¨ listWidget.addItems([&#39;go&#39;,&#39;java&#39;,&#39;pythonæ•™ç¨‹&#39;]) åˆ é™¤ä¸€ä¸ªé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ takeItem æ–¹æ³•æ¥åˆ é™¤1ä¸ªé€‰é¡¹ï¼Œå‚æ•°æ˜¯è¯¥é€‰é¡¹æ‰€åœ¨è¡Œ listWidget.takeItem(1) #å°±ä¼šåˆ é™¤ç¬¬äºŒè¡Œé€‰é¡¹ æ¸…ç©ºé€‰é¡¹ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ clear æ–¹æ³•æ¥æ¸…ç©ºé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤é€‰æ‹©æ¡†å†…æ‰€æœ‰çš„é€‰é¡¹ listWidget.clear() è·å–å½“å‰é€‰é¡¹æ–‡æœ¬currentItem æ–¹æ³•å¯ä»¥å¾—åˆ°åˆ—è¡¨å½“å‰é€‰ä¸­é¡¹å¯¹è±¡ï¼ˆQListWidgetItemï¼‰ ï¼Œå†è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ text æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ listWidget.currentItem().text() # å°±è·å–äº† ç¬¬1è¡Œï¼Œç¬¬1åˆ— çš„å•å…ƒæ ¼é‡Œé¢çš„æ–‡æœ¬ã€‚ è¡¨æ ¼QTableWidget æ˜¯è¡¨æ ¼æ§ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º åˆ›å»ºåˆ— å’Œ æ ‡é¢˜æ æˆ‘ä»¬å¯ä»¥é€šè¿‡ Qt designer ä¸ºä¸€ä¸ªè¡¨æ ¼åˆ›å»ºåˆ—å’Œå¯¹åº”çš„æ ‡é¢˜æ ã€‚åªéœ€è¦åŒå‡» Qt designer è®¾è®¡çš„çª—ä½“ä¸­çš„ è¡¨æ ¼æ§ä»¶ï¼Œ å°±ä¼šå‡ºç°è¿™æ ·çš„å¯¹è¯æ¡†ã€‚ æ’å…¥ä¸€è¡Œã€åˆ é™¤ä¸€è¡ŒinsertRow æ–¹æ³•å¯ä»¥åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€è¡Œï¼Œæ¯”å¦‚ table.insertRow(0) # å°±æ’å…¥ä¸€è¡Œåˆ°ç¬¬ 1 è¡Œè¿™ä¸ªä½ç½®ï¼Œ è¡¨æ ¼åŸæ¥ç¬¬1è¡Œï¼ˆåŒ…æ‹¬åŸæ¥çš„ç¬¬1è¡Œï¼‰ä»¥åçš„å†…å®¹ï¼Œå…¨éƒ¨å¾€ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚ removeRow æ–¹æ³•å¯ä»¥åˆ é™¤æŒ‡å®šä½ç½®çš„ä¸€è¡Œï¼Œæ¯”å¦‚ table.removeRow(0) # å°±æ’å…¥ä¸€è¡Œåˆ°ç¬¬ 1 è¡Œè¿™ä¸ªä½ç½®ï¼Œ è¡¨æ ¼åŸæ¥ç¬¬1è¡Œï¼ˆåŒ…æ‹¬åŸæ¥çš„ç¬¬1è¡Œï¼‰ä»¥åçš„å†…å®¹ï¼Œå…¨éƒ¨å¾€ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚ è®¾ç½®å•å…ƒæ ¼æ–‡æœ¬å†…å®¹qtè¡¨æ ¼çš„å•å…ƒæ ¼å†…çš„å†…å®¹å¯¹è±¡ æ˜¯ä¸€ä¸ª å•å…ƒæ ¼å¯¹è±¡ QTableWidgetItem å®ä¾‹å¦‚æœå•å…ƒæ ¼ æ²¡æœ‰è¢«è®¾ç½®è¿‡ å†…å®¹ï¼Œå¯ä»¥è¿™æ · from PySide2.QtWidgets import QTableWidgetItem table.setItem(0, 0, QTableWidgetItem(&#39;hello&#39;))# 0è¡Œ0åˆ—æ·»åŠ æ–‡æœ¬hello å¦‚æœå¸Œæœ›æŸä¸ªå•å…ƒæ ¼ä¸º åªè¯»ï¼Œä¸å…è®¸ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨QTableWidgetItemå¯¹è±¡çš„ setFlags æ–¹æ³•ï¼Œåƒè¿™æ · from PySide2.QtWidgets import QTableWidgetItem from PySide2.QtCore import Qt item = QTableWidgetItem(&#39;hello&#39;) item.setFlags(Qt.ItemIsEnabled) # å‚æ•°åå­—æ®µä¸å…è®¸ä¿®æ”¹ table.setItem(row, 0, item) å¦‚æœæƒ³æ–‡æœ¬å†…å®¹ å±…ä¸­å¯¹é½ï¼Œæ¯ä¸ªå½“å¯¹åº”çš„QTableWidgetItem è°ƒç”¨ setTextAlignmentï¼Œå¦‚ä¸‹ from PySide2.QtWidgets import QTableWidgetItem from PySide2.QtCore import Qt item = QTableWidgetItem() item.setText(&#39;hello&#39;) # æ–‡æœ¬å±…ä¸­ item.setTextAlignment(Qt.AlignHCenter) table.setItem(row, 0, item) è·å–å•å…ƒæ ¼æ–‡æœ¬çš„å†…å®¹item æ–¹æ³•å¯ä»¥æŒ‡å®šä½ç½®çš„å•å…ƒæ ¼å¯¹è±¡ï¼ˆQTableWidgetItemï¼‰ ï¼Œå†è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ text æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ table.item(0,0).text() è·å–æ‰€æœ‰è¡Œæ•°ã€åˆ—æ•°ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ rowCount æ–¹æ³•æ¥è·å–è¡¨æ ¼æ‰€æœ‰çš„ è¡Œæ•° ï¼Œæ¯”å¦‚ rowcount = table.rowCount() å¯ä»¥ä½¿ç”¨ columnCount æ–¹æ³•æ¥è·å–è¡¨æ ¼æ‰€æœ‰çš„ åˆ—æ•° ï¼Œæ¯”å¦‚ rowcount = table.columnCount() è·å–å½“å‰é€‰ä¸­æ˜¯ç¬¬å‡ è¡Œä»£ç ä¸­å¯ä»¥ä½¿ç”¨ currentRow æ–¹æ³•æ¥è·å–å½“å‰é€‰ä¸­æ˜¯ç¬¬å‡ è¡Œï¼Œæ¯”å¦‚ currentrow = table.currentRow() è·å–é€‰ä¸­çš„è¡Œçš„å†…å®¹ table.selectedItems() è®¾ç½®è¡¨æ ¼è¡Œæ•°ã€åˆ—æ•°ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ setRowCount æ–¹æ³•æ¥è®¾ç½®è¡¨æ ¼ è¡Œæ•° ï¼Œæ¯”å¦‚ table.setRowCount(10) ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ setColumnCount æ–¹æ³•æ¥è®¾ç½®è¡¨æ ¼ åˆ—æ•° ï¼Œæ¯”å¦‚ table.setColumnCount(10) æ¸…é™¤/åˆ é™¤æ‰€æœ‰å†…å®¹clearContents æ–¹æ³•å¯ä»¥æ¸…é™¤è¡¨æ ¼æ‰€æœ‰çš„å†…å®¹ï¼Œæ¯”å¦‚ table.clearContents() æ¸…é™¤åï¼Œä»ç„¶ä¼šç•™ä¸‹è¡¨æ ¼æ å¦‚æœè¿è¡¨æ ¼æ éƒ½è¦åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨ setRowCount(0)ï¼Œåƒè¿™æ · table.setRowCount(0) è®¾å®šåˆ—å®½ã€å®½åº¦è‡ªåŠ¨ç¼©æ”¾Qt Designer ä¸Šç›®å‰æ²¡æ³•æ‹–æ‹½è®¾å®š æ¯ä¸ªåˆ—çš„å®½åº¦ï¼Œåªèƒ½åœ¨ä»£ç ä¸­æŒ‡å®šã€‚ #è®¾å®šç¬¬1åˆ—çš„å®½åº¦ä¸º 180åƒç´  table.setColumnWidth(0, 180) #è®¾å®šç¬¬2åˆ—çš„å®½åº¦ä¸º 100åƒç´  table.setColumnWidth(1, 100) å¦‚æƒ³è®© è¡¨æ ¼æ§ä»¶å®½åº¦ éšç€çˆ¶çª—å£çš„ç¼©æ”¾è‡ªåŠ¨ç¼©æ”¾ï¼Œå¯ä»¥ table.horizontalHeader().setStretchLastSection(True) å•å…ƒæ ¼å†…å®¹æ”¹åŠ¨å½“ç”¨æˆ·ä¿®æ”¹äº†ä¸€ä¸ªå•å…ƒæ ¼çš„å†…å®¹ï¼Œä¼šå‘å‡º cellChanged ä¿¡å·ï¼Œå¹¶ä¸”æºå¸¦å‚æ•°æŒ‡æ˜è¯¥å•å…ƒæ ¼çš„è¡Œå·å’Œåˆ—å·ã€‚æˆ‘ä»¬çš„ä»£ç å¯ä»¥å¯¹è¯¥ä¿¡å·è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ def __init__(self): # æŒ‡å®šå•å…ƒæ ¼æ”¹åŠ¨ä¿¡å·å¤„ç†å‡½æ•° self.ui.table.cellChanged.connect(self.cfgItemChanged) def cfgItemChanged(self,row,column): # è·å–æ›´æ”¹å†…å®¹ cfgName = self.ui.table.item(row, 0).text() # é¦–åˆ—ä¸ºé…ç½®åç§° cfgValue = self.ui.table.item(row, column).text()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonå›¾å½¢ç•Œé¢","slug":"pythonå›¾å½¢ç•Œé¢","permalink":"https://www.lovelves.cn/tags/pythonå›¾å½¢ç•Œé¢/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"ç¼–ç¨‹çš„æ–¹æ³•ï¼ˆç¼–è¾‘ä¸­ï¼‰","slug":"ç¼–ç¨‹æ€æƒ³","date":"2021-06-25T15:46:54.000Z","updated":"2021-07-05T14:08:06.715Z","comments":true,"path":"2021/06/25/ç¼–ç¨‹æ€æƒ³/","link":"","permalink":"https://www.lovelves.cn/2021/06/25/ç¼–ç¨‹æ€æƒ³/","excerpt":"","text":"ç¼–ç¨‹æ€æƒ³çš„å­¦ä¹ æœ€åƒåœ¾çš„ä»£ç (ç¬¬ä¸€ç‰ˆ)main ä¸»æ–¹æ³• package test; import awkward.hero.Camille; import awkward.hero.Diana; import awkward.hero.Lrelia; import java.util.Scanner; public class Main { public static void main(String[] args) { String name = Main.getPlayerInput(); switch (name){ case &quot;Camille&quot;: Camille camille = new Camille(); camille.r(); break; case &quot;Lrelia&quot;: Lrelia lrelia = new Lrelia(); lrelia.r(); break; case &quot;Diana&quot;: Diana diana = new Diana(); diana.r(); break; } } private static String getPlayerInput(){ System.out.println(&quot;enter a hero name:&quot;); Scanner scanner = new Scanner(System.in); return scanner.nextLine(); } } å„ä¸ªè‹±é›„çš„æ–¹æ³• package awkward.hero; public class Camille { public void r(){ System.out.println(&quot;camille r&quot;); } } package awkward.hero; public class Diana { public void r(){ System.out.println(&quot;Diana r&quot;); } } package awkward.hero; public class Lrelia { public void r(){ System.out.println(&quot;Lrelia r&quot;); } } æœ€åƒåœ¾çš„ä»£ç ï¼ˆç¬¬äºŒç‰ˆï¼‰è¿ç”¨é¢å‘å¯¹è±¡ä¸­interface æ¥å£mainä¸»æ–¹æ³• package test; import awkward.hero.Camille; import awkward.hero.Diana; import awkward.hero.Hero; import awkward.hero.Lrelia; import java.util.Scanner; public class Main { public static void main(String[] args) { String name = Main.getPlayerInput(); Hero hero =null; switch (name){ case &quot;Camille&quot;: hero = new Camille(); break; case &quot;Lrelia&quot;: hero = new Lrelia(); break; case &quot;Diana&quot;: hero = new Diana(); break; } hero.r(); } private static String getPlayerInput(){ System.out.println(&quot;enter a hero name:&quot;); Scanner scanner = new Scanner(System.in); return scanner.nextLine(); } } å„ä¸ªè‹±é›„çš„æ–¹æ³• package awkward.hero; public interface Hero { public void r(); } package awkward.hero; public class Camille implements Hero{ public void r(){ System.out.println(&quot;camille r&quot;); } } package awkward.hero; public class Diana implements Hero{ public void r(){ System.out.println(&quot;Diana r&quot;); } } package awkward.hero; public class Lrelia implements Hero{ public void r(){ System.out.println(&quot;Lrelia r&quot;); } } ç»“è®ºæ¥å£ åªç»Ÿä¸€äº†æ–¹æ³•çš„è°ƒç”¨ ä¸èƒ½ç»Ÿä¸€å¯¹è±¡çš„å®ä¾‹åŒ–é¢å‘å¯¹è±¡åªåšäº†ä¸¤ä»¶äº‹æƒ… å®ä¾‹åŒ–å¯¹è±¡ è°ƒç”¨æ–¹æ³• ï¼ˆå®Œæˆä¸šåŠ¡é€»è¾‘ï¼‰è¦ä¿æŒä¸€æ®µä»£ç çš„ç¨³å®šæ€§ è¿™æ®µä»£ç å°±ä¸åº”è¯¥è´Ÿè´£å¯¹è±¡çš„å®ä¾‹åŒ–ï¼ˆä¸åº”è¯¥å‡ºç°newå…³é”®å­—ï¼‰æ‰€ä»¥å¯¹è±¡çš„å®ä¾‹åŒ–è¿‡ç¨‹è¦è½¬ç§»åˆ°å…¶ä»–ä»£ç ç‰‡æ®µé‡Œ æœ€åƒåœ¾çš„ä»£ç ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰æŠŠå¯¹è±¡å®ä¾‹åŒ–çš„è¿‡ç¨‹è½¬ç§»åˆ°å…¶ä»–ä»£ç ç‰‡æ®µä¸­ ä»£ç æ€»æ˜¯æœ‰ä¸ç¨³å®šçš„ æŠŠä¸ç¨³å®šçš„ä»£ç éš”ç¦» ä¿è¯å…¶ä»–ä»£ç ç¨³å®šmainæ–¹æ³• package test; import awkward.Factory; import awkward.hero.Hero; import java.util.Scanner; public class Main { public static void main(String[] args) { String name = Main.getPlayerInput(); Hero hero = Factory.getHero(name); hero.r(); } private static String getPlayerInput(){ System.out.println(&quot;enter a hero name:&quot;); Scanner scanner = new Scanner(System.in); return scanner.nextLine(); } } å·¥å‚æ–¹æ³• package awkward; import awkward.hero.Camille; import awkward.hero.Diana; import awkward.hero.Hero; import awkward.hero.Lrelia; public class Factory { public static Hero getHero(String name){ Hero hero = null; switch (name){ case &quot;Camille&quot;: hero = new Camille(); break; case &quot;Lrelia&quot;: hero = new Lrelia(); break; case &quot;Diana&quot;: hero = new Diana(); break; } return hero; } } å„ä¸ªè‹±é›„æ–¹æ³• package awkward.hero; public interface Hero { public void r(); } package awkward.hero; public class Camille implements Hero{ public void r(){ System.out.println(&quot;camille r&quot;); } } package awkward.hero; public class Diana implements Hero{ public void r(){ System.out.println(&quot;Diana r&quot;); } } package awkward.hero; public class Lrelia implements Hero{ public void r(){ System.out.println(&quot;Lrelia r&quot;); } } æœ€åƒåœ¾çš„ä»£ç ï¼ˆç¬¬å››ç‰ˆï¼‰åœ¨ç¬¬ä¸‰ç‰ˆçš„åŸºç¡€ä¸Šæ”¹è¿› åº”ç”¨åå°„åªä¿®æ”¹ç¬¬ä¸‰ç‰ˆçš„å·¥å‚æ–¹æ³• package awkward; import awkward.hero.Camille; import awkward.hero.Diana; import awkward.hero.Hero; import awkward.hero.Lrelia; import java.lang.reflect.InvocationTargetException; public class Factory { public static Hero getHero(String name) throws ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException { name = &quot;awkward.hero.&quot;+name; Class&lt;?&gt; cls = Class.forName(name); Object obj = cls.getDeclaredConstructor().newInstance(); return (Hero) obj; } } æ€»ç»“å‰é¢æ¼”ç¤ºçš„å‡ ç‰ˆä»£ç ä¸­ ç¨‹åºæ˜¯å˜åŒ–çš„ æ˜¯ç”¨æˆ·è¾“å…¥çš„å˜åŒ– è¿˜æ˜¯éœ€æ±‚çš„å˜åŒ– è¿™äº›éƒ½æ˜¯ä¸ç¨³å®šçš„å› ç´  æŠŠä¸ç¨³å®šçš„å› ç´ å°½é‡æ”¾åœ¨ä¸€èµ· åç»­å¯ç»´æŠ¤æ€§å¤§å¤§æé«˜ spring ä¸­çš„ioc æ§åˆ¶åè½¬ æŠŠå¯¹è±¡çš„åˆ›å»º è£…é… ç­‰æ“ä½œ éƒ½äº¤ç»™springå®¹å™¨æ¥å¤„ç† å°±ç›¸å½“äºç°å®ç”Ÿæ´»ä¸­ springå°±æ˜¯ä¸€ä¸ªç”Ÿæˆç§¯æœ¨çš„å‚å®¶ ä»–åªè´Ÿè´£ç”Ÿæˆç§¯æœ¨ è‡³äºç§¯æœ¨å¦‚ä½•æ­é…å½¢çŠ¶ è¿™äº›å®ƒä¸è€ƒè™‘åªç»™è´­ä¹°ç§¯æœ¨çš„äººå»è€ƒè™‘ è‡³äºæ­æˆä»€ä¹ˆæ ·å½¢çŠ¶çš„ç§¯æœ¨ç”±è´­ä¹°ç§¯æœ¨çš„äººå†³å®š æ§åˆ¶åè½¬ å°±æ˜¯ æŠŠä¸»æ§æƒäº¤ç»™ç”¨æˆ· æœ€ä¸ºä»£è¡¨æ€§çš„æ˜¯springä¸­çš„di ä¾èµ–æ³¨å…¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"ç¼–ç¨‹æ–¹æ³•","slug":"ç¼–ç¨‹æ–¹æ³•","permalink":"https://www.lovelves.cn/tags/ç¼–ç¨‹æ–¹æ³•/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"jsçš„é€†å‘å­¦ä¹ ","slug":"jsçš„é€†å‘å­¦ä¹ ","date":"2021-06-21T13:15:27.000Z","updated":"2021-06-21T13:17:15.351Z","comments":true,"path":"2021/06/21/jsçš„é€†å‘å­¦ä¹ /","link":"","permalink":"https://www.lovelves.cn/2021/06/21/jsçš„é€†å‘å­¦ä¹ /","excerpt":"","text":"JSçš„è§£æå­¦ä¹ ç›®æ ‡ï¼š äº†è§£ å®šä½jsçš„æ–¹æ³• äº†è§£ æ·»åŠ æ–­ç‚¹è§‚å¯Ÿjsçš„æ‰§è¡Œè¿‡ç¨‹çš„æ–¹æ³• åº”ç”¨ js2pyè·å–jsçš„æ–¹æ³• 1 ç¡®å®šjsçš„ä½ç½® å¯¹äºå‰é¢äººäººç½‘çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“äº†urlåœ°å€ä¸­æœ‰éƒ¨åˆ†å‚æ•°ï¼Œä½†æ˜¯å‚æ•°æ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Ÿ æ¯«æ— ç–‘é—®ï¼Œå‚æ•°è‚¯å®šæ˜¯jsç”Ÿæˆçš„ï¼Œé‚£ä¹ˆå¦‚ä½•è·å–è¿™äº›å‚æ•°çš„è§„å¾‹å‘¢ï¼Ÿé€šè¿‡ä¸‹é¢çš„å­¦ä¹ æ¥äº†è§£ 1.1 è§‚å¯ŸæŒ‰é’®çš„ç»‘å®šjsäº‹ä»¶ é€šè¿‡ç‚¹å‡»æŒ‰é’®ï¼Œç„¶åç‚¹å‡»Event Listenerï¼Œéƒ¨åˆ†ç½‘ç«™å¯ä»¥æ‰¾åˆ°ç»‘å®šçš„äº‹ä»¶ï¼Œå¯¹åº”çš„ï¼Œåªéœ€è¦ç‚¹å‡»å³å¯è·³è½¬åˆ°jsçš„ä½ç½® 1.2 é€šè¿‡search all file æ¥æœç´¢éƒ¨åˆ†ç½‘ç«™çš„æŒ‰é’®å¯èƒ½å¹¶æ²¡æœ‰ç»‘å®šjsäº‹ä»¶ç›‘å¬ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡æœç´¢è¯·æ±‚ä¸­çš„å…³é”®å­—æ¥æ‰¾åˆ°jsçš„ä½ç½®ï¼Œæ¯”å¦‚livecell ç‚¹å‡»ç¾åŒ–è¾“å‡ºé€‰é¡¹ å¯ä»¥ç»§ç»­åœ¨å…¶ä¸­æœç´¢å…³é”®å­— 2 è§‚å¯Ÿjsçš„æ‰§è¡Œè¿‡ç¨‹æ‰¾åˆ°jsçš„ä½ç½®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ¥é€šè¿‡è§‚å¯Ÿjsçš„ä½ç½®ï¼Œæ‰¾åˆ°jså…·ä½“åœ¨å¦‚ä½•æ‰§è¡Œï¼Œåç»­æˆ‘ä»¬å¯ä»¥é€šè¿‡pythonç¨‹åºæ¥æ¨¡æ‹Ÿjsçš„æ‰§è¡Œï¼Œæˆ–è€…æ˜¯ä½¿ç”¨ç±»ä¼¼js2pyç›´æ¥æŠŠjsä»£ç è½¬åŒ–ä¸ºpythonç¨‹åºå»æ‰§è¡Œ è§‚å¯Ÿjsçš„æ‰§è¡Œè¿‡ç¨‹æœ€ç®€å•çš„æ–¹å¼æ˜¯æ·»åŠ æ–­ç‚¹ æ·»åŠ æ–­ç‚¹çš„æ–¹å¼ï¼šåœ¨å·¦è¾¹è¡Œå·ç‚¹å‡»å³å¯æ·»åŠ ï¼Œå¯¹åº”çš„å³è¾¹BreakPointsä¸­ä¼šå‡ºç°ç°æœ‰çš„æ‰€æœ‰æ–­ç‚¹ æ·»åŠ æ–­ç‚¹ä¹‹åç»§ç»­ç‚¹å‡»ç™»å½•ï¼Œæ¯æ¬¡ç¨‹åºåœ¨æ–­ç‚¹ä½ç½®éƒ½ä¼šåœæ­¢ï¼Œé€šè¿‡å¦‚æœè¯¥è¡Œæœ‰å˜é‡äº§ç”Ÿï¼Œéƒ½ä¼šæŠŠå˜é‡çš„ç»“æœå±•ç¤ºåœ¨Scoopeä¸­ åœ¨ä¸Šå›¾çš„å³ä¸Šè§’æœ‰1ï¼Œ2ï¼Œ3ä¸‰ä¸ªåŠŸèƒ½ï¼Œåˆ†åˆ«è¡¨ç¤ºï¼š - 1ï¼šç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ - 2ï¼šè¿›å…¥è°ƒç”¨çš„å‡½æ•°ä¸­ - 3ï¼šä»è°ƒç”¨çš„å‡½æ•°ä¸­è·³å‡ºæ¥ 3 js2pyçš„ä½¿ç”¨ åœ¨çŸ¥é“äº†jså¦‚ä½•ç”Ÿæˆæˆ‘ä»¬æƒ³è¦çš„æ•°æ®ä¹‹åï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ç¨‹åºè·å–jsæ‰§è¡Œä¹‹åçš„ç»“æœäº† 3.1 js2pyçš„ä»‹ç»js2pyæ˜¯ä¸€ä¸ªjsçš„ç¿»è¯‘å·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªé€šè¿‡çº¯pythonå®ç°çš„jsçš„è§£é‡Šå™¨ï¼Œgithubä¸Šæºç ä¸ç¤ºä¾‹ 3.2 jsçš„æ‰§è¡Œæ€è·¯jsçš„æ‰§è¡Œæ–¹å¼å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼š åœ¨äº†è§£äº†jså†…å®¹å’Œæ‰§è¡Œé¡ºåºä¹‹åï¼Œé€šè¿‡pythonæ¥å®Œæˆjsçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå¾—åˆ°ç»“æœ åœ¨äº†è§£äº†jså†…å®¹å’Œæ‰§è¡Œé¡ºåºä¹‹åï¼Œä½¿ç”¨ç±»ä¼¼js2pyçš„æ¨¡å—æ¥æ‰§jsä»£ç ï¼Œå¾—åˆ°ç»“æœ ä½†æ˜¯åœ¨ä½¿ç”¨pythonç¨‹åºå®ç°jsçš„æ‰§è¡Œæ—¶å€™ï¼Œéœ€è¦è§‚å¯Ÿçš„jsçš„æ¯ä¸€ä¸ªæ­¥éª¤ï¼Œéå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥æ›´å¤šçš„æ—¶å€™æˆ‘ä»¬ä¼šé€‰æ‹©ä½¿ç”¨ç±»ä¼¼js2pyçš„æ¨¡å—å»æ‰§è¡Œjsï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä½¿ç”¨js2pyå®ç°äººäººç½‘ç™»å½•å‚æ•°çš„è·å– 3.3 å…·ä½“çš„å®ç°å®šä½è¿›è¡Œç™»å½•jsä»£ç  formSubmit: function() { var e, t = {}; $(&quot;.login&quot;).addEventListener(&quot;click&quot;, function() { t.phoneNum = $(&quot;.phonenum&quot;).value, t.password = $(&quot;.password&quot;).value, e = loginValidate(t), t.c1 = c1 || 0, e.flag ? ajaxFunc(&quot;get&quot;, &quot;http://activity.renren.com/livecell/rKey&quot;, &quot;&quot;, function(e) { var n = JSON.parse(e).data; if (0 == n.code) { t.password = t.password.split(&quot;&quot;).reverse().join(&quot;&quot;), setMaxDigits(130); var o = new RSAKeyPair(n.e,&quot;&quot;,n.n) , r = encryptedString(o, t.password); t.password = r, t.rKey = n.rkey } else toast(&quot;å…¬é’¥è·å–å¤±è´¥&quot;), t.rKey = &quot;&quot;; ajaxFunc(&quot;post&quot;, &quot;http://activity.renren.com/livecell/ajax/clog&quot;, t, function(e) { var e = JSON.parse(e).logInfo; 0 == e.code ? location.href = localStorage.getItem(&quot;url&quot;) || &quot;&quot; : toast(e.msg || &quot;ç™»å½•å‡ºé”™&quot;) }) }) : toast(e.msg) }) } ä»ä»£ç ä¸­æˆ‘ä»¬çŸ¥é“: æˆ‘ä»¬è¦ç™»å½•éœ€è¦å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å’Œè·å–rkeyå­—æ®µçš„å€¼ rkeyå­—æ®µçš„å€¼æˆ‘ä»¬ç›´æ¥å‘é€è¯·æ±‚rkeyè¯·æ±‚å°±å¯ä»¥è·å¾— å¯†ç æ˜¯å…ˆåè½¬ç„¶åä½¿ç”¨RSAè¿›è¡ŒåŠ å¯†, jsä»£ç å¾ˆå¤æ‚, æˆ‘ä»¬å¸Œæœ›èƒ½é€šè¿‡åœ¨pythonä¸­æ‰§è¡Œjsæ¥å®ç° å®ç°æ€è·¯: ä½¿ç”¨sessionå‘é€rKeyè·å–ç™»å½•éœ€è¦ä¿¡æ¯ url: http://activity.renren.com/livecell/rKey æ–¹æ³•: get æ ¹æ®è·å–ä¿¡æ¯å¯¹å¯†ç è¿›è¡ŒåŠ å¯† 2.1 å‡†å¤‡ç”¨æˆ·åå’Œå¯†ç  2.2 ä½¿ç”¨js2pyç”Ÿæˆjsçš„æ‰§è¡Œç¯å¢ƒ:context 2.3 æ‹·è´ä½¿ç”¨åˆ°jsæ–‡ä»¶çš„å†…å®¹åˆ°æœ¬é¡¹ç›®ä¸­ 2.4 è¯»å–jsæ–‡ä»¶çš„å†…å®¹,ä½¿ç”¨contextæ¥æ‰§è¡Œå®ƒä»¬ 2.5 å‘contextç¯å¢ƒä¸­æ·»åŠ éœ€è¦æ•°æ® 2.6 ä½¿ç”¨contextæ‰§è¡ŒåŠ å¯†å¯†ç çš„jså­—ç¬¦ä¸² 2.7 é€šè¿‡contextè·å–åŠ å¯†åå¯†ç ä¿¡æ¯ ä½¿ç”¨sessionå‘é€ç™»å½•è¯·æ±‚ URL: http://activity.renren.com/livecell/ajax/clog è¯·æ±‚æ–¹æ³•: POST æ•°æ®: phoneNum: xxxxxxx password: (åŠ å¯†åç”Ÿäº§çš„) c1: 0 rKey: rkeyè¯·æ±‚è·å–çš„ å…·ä½“ä»£ç éœ€è¦æå‰ä¸‹è½½å‡ ä¸ªjsæ–‡ä»¶åˆ°æœ¬åœ°ï¼š BigInt.js RSA.js Barrett.js import requests import json import js2py # - å®ç°æ€è·¯: # - ä½¿ç”¨sessionå‘é€rKeyè·å–ç™»å½•éœ€è¦ä¿¡æ¯ # - url: http://activity.renren.com/livecell/rKey # - æ–¹æ³•: get # è·å–sessionå¯¹è±¡ session = requests.session() headers = { &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Mobile Safari/537.36&quot;, &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;, &quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot; } # è®¾ç½®sessionçš„è¯·æ±‚å¤´ä¿¡æ¯ session.headers = headers response = session.get(&quot;http://activity.renren.com/livecell/rKey&quot;) # print(response.content.decode()) n = json.loads(response.content)[&#39;data&#39;] # - æ ¹æ®è·å–ä¿¡æ¯å¯¹å¯†ç è¿›è¡ŒåŠ å¯† # - å‡†å¤‡ç”¨æˆ·åå’Œå¯†ç  phoneNum = &quot;131...&quot; password = &quot;****&quot; # - ä½¿ç”¨js2pyç”Ÿæˆjsçš„æ‰§è¡Œç¯å¢ƒ:context context = js2py.EvalJs() # - æ‹·è´ä½¿ç”¨åˆ°jsæ–‡ä»¶çš„å†…å®¹åˆ°æœ¬é¡¹ç›®ä¸­ # - è¯»å–jsæ–‡ä»¶çš„å†…å®¹,ä½¿ç”¨contextæ¥æ‰§è¡Œå®ƒä»¬ with open(&quot;BigInt.js&quot;, &#39;r&#39;, encoding=&#39;utf8&#39;) as f: context.execute(f.read()) with open(&quot;RSA.js&quot;, &#39;r&#39;, encoding=&#39;utf8&#39;) as f: context.execute(f.read()) with open(&quot;Barrett.js&quot;, &#39;r&#39;, encoding=&#39;utf8&#39;) as f: context.execute(f.read()) # - å‘contextç¯å¢ƒä¸­æ·»åŠ éœ€è¦æ•°æ® context.t = {&#39;password&#39;: password} context.n = n # - æ‰§è¡ŒåŠ å¯†å¯†ç çš„jså­—ç¬¦ js = &#39;&#39;&#39; t.password = t.password.split(&quot;&quot;).reverse().join(&quot;&quot;), setMaxDigits(130); var o = new RSAKeyPair(n.e,&quot;&quot;,n.n) , r = encryptedString(o, t.password); &#39;&#39;&#39; context.execute(js) # - é€šè¿‡contextè·å–åŠ å¯†åå¯†ç ä¿¡æ¯ # print(context.r) password = context.r # - ä½¿ç”¨sessionå‘é€ç™»å½•è¯·æ±‚ # - URL: http://activity.renren.com/livecell/ajax/clog # - è¯·æ±‚æ–¹æ³•: POST # - æ•°æ®: # - phoneNum: 15565280933 # - password: (åŠ å¯†åç”Ÿäº§çš„) # - c1: 0 # - rKey: rkeyè¯·æ±‚è·å–çš„ data = { &#39;phoneNum&#39;: &#39;131....&#39;, &#39;password&#39;: password, &#39;c1&#39;:0, &#39;rKey&#39;:n[&#39;rkey&#39;] } # print(session.headers) response = session.post(&quot;http://activity.renren.com/livecell/ajax/clog&quot;, data=data) print(response.content.decode()) # è®¿é—®ç™»å½•çš„èµ„æº response = session.get(&quot;http://activity.renren.com/home#profile&quot;) print(response.content.decode()) å°ç»“ é€šè¿‡åœ¨chromeä¸­è§‚å¯Ÿå…ƒç´ çš„ç»‘å®šäº‹ä»¶å¯ä»¥ç¡®å®šjs é€šè¿‡åœ¨chromeä¸­search all file æœç´¢å…³é”®å­—å¯ä»¥ç¡®å®šjsçš„ä½ç½® è§‚å¯Ÿjsçš„æ•°æ®ç”Ÿæˆè¿‡ç¨‹å¯ä»¥ä½¿ç”¨æ·»åŠ æ–­ç‚¹çš„æ–¹å¼è§‚å¯Ÿ js2pyçš„ä½¿ç”¨ éœ€è¦å‡†å¤‡jsçš„å†…å®¹ ç”Ÿæˆjsçš„æ‰§è¡Œç¯å¢ƒ åœ¨æ‰§è¡Œç¯å¢ƒä¸­æ‰§è¡Œjsçš„å­—ç¬¦ä¸²ï¼Œä¼ å…¥æ•°æ®ï¼Œè·å–ç»“æœ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://www.lovelves.cn/tags/çˆ¬è™«/"},{"name":"python","slug":"python","permalink":"https://www.lovelves.cn/tags/python/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"çˆ¬è™«å­¦ä¹ ä¹‹æ—…03-chromeæµè§ˆå™¨çš„ä½¿ç”¨","slug":"çˆ¬è™«ä¹‹æµè§ˆå™¨çš„ä½¿ç”¨","date":"2021-06-21T13:09:48.000Z","updated":"2021-06-21T13:13:28.023Z","comments":true,"path":"2021/06/21/çˆ¬è™«ä¹‹æµè§ˆå™¨çš„ä½¿ç”¨/","link":"","permalink":"https://www.lovelves.cn/2021/06/21/çˆ¬è™«ä¹‹æµè§ˆå™¨çš„ä½¿ç”¨/","excerpt":"","text":"chromeæµè§ˆå™¨ä½¿ç”¨æ–¹æ³•ä»‹ç»å­¦ä¹ ç›®æ ‡ äº†è§£ æ–°å»ºéšèº«çª—å£çš„ç›®çš„ äº†è§£ chromeä¸­networkçš„ä½¿ç”¨ äº†è§£ å¯»æ‰¾ç™»å½•æ¥å£çš„æ–¹æ³• 1 æ–°å»ºéšèº«çª—å£ æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€ç½‘ç«™ï¼Œä¼šè‡ªåŠ¨å¸¦ä¸Šä¹‹å‰ç½‘ç«™æ—¶ä¿å­˜çš„cookieï¼Œä½†æ˜¯åœ¨çˆ¬è™«ä¸­é¦–æ¬¡è·å–é¡µé¢æ˜¯æ²¡æœ‰æºå¸¦cookieçš„ï¼Œè¿™ç§æƒ…å†µå¦‚ä½•è§£å†³å‘¢ï¼Ÿ ä½¿ç”¨éšèº«çª—å£ï¼Œé¦–æ¬¡æ‰“å¼€ç½‘ç«™ï¼Œä¸ä¼šå¸¦ä¸Šcookieï¼Œèƒ½å¤Ÿè§‚å¯Ÿé¡µé¢çš„è·å–æƒ…å†µï¼ŒåŒ…æ‹¬å¯¹æ–¹æœåŠ¡å™¨å¦‚ä½•è®¾ç½®cookieåœ¨æœ¬åœ° 2 chromeä¸­networkçš„æ›´å¤šåŠŸèƒ½ 2.1 Perserve logé»˜è®¤æƒ…å†µä¸‹ï¼Œé¡µé¢å‘ç”Ÿè·³è½¬ä¹‹åï¼Œä¹‹å‰çš„è¯·æ±‚urlåœ°å€ç­‰ä¿¡æ¯éƒ½ä¼šæ¶ˆå¤±ï¼Œå‹¾é€‰perserve logåä¹‹å‰çš„è¯·æ±‚éƒ½ä¼šè¢«ä¿ç•™ 2.2 filterè¿‡æ»¤åœ¨urlåœ°å€å¾ˆå¤šçš„æ—¶å€™ï¼Œå¯ä»¥åœ¨filterä¸­è¾“å…¥éƒ¨åˆ†urlåœ°å€ï¼Œå¯¹æ‰€æœ‰çš„urlåœ°å€èµ·åˆ°ä¸€å®šçš„è¿‡æ»¤æ•ˆæœï¼Œå…·ä½“ä½ç½®åœ¨ä¸Šé¢ç¬¬äºŒå¹…å›¾ä¸­çš„2çš„ä½ç½® 2.3 è§‚å¯Ÿç‰¹å®šç§ç±»çš„è¯·æ±‚åœ¨ä¸Šé¢ç¬¬äºŒå¹…å›¾ä¸­çš„3çš„ä½ç½®ï¼Œæœ‰å¾ˆå¤šé€‰é¡¹ï¼Œé»˜è®¤æ˜¯é€‰æ‹©çš„allï¼Œå³ä¼šè§‚å¯Ÿåˆ°æ‰€æœ‰ç§ç±»çš„è¯·æ±‚ å¾ˆå¤šæ—¶å€™å¤„äºè‡ªå·±çš„ç›®çš„å¯ä»¥é€‰æ‹©allå³è¾¹çš„å…¶ä»–é€‰é¡¹ï¼Œæ¯”å¦‚å¸¸è§çš„é€‰é¡¹ï¼š XHR:å¤§éƒ¨åˆ†æƒ…å†µè¡¨ç¤ºajaxè¯·æ±‚ JS:jsè¯·æ±‚ CSS:cssè¯·æ±‚ ä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯æˆ‘ä»¬éœ€è¦çš„è¯·æ±‚æ˜¯ä»€ä¹ˆç±»å‹ï¼Œç‰¹åˆ«æ˜¯æˆ‘ä»¬ä¸æ¸…æ¥šä¸€ä¸ªè¯·æ±‚æ˜¯å¦ä¸ºajaxè¯·æ±‚çš„æ—¶å€™ï¼Œç›´æ¥é€‰æ‹©all,ä»å‰å¾€åè§‚å¯Ÿå³å¯ï¼Œå…¶ä¸­jsï¼Œcssï¼Œå›¾ç‰‡ç­‰ä¸å»è§‚å¯Ÿå³å¯ ä¸è¦è¢«æµè§ˆå™¨ä¸­çš„ä¸€å †è¯·æ±‚å“åˆ°äº†ï¼Œè¿™äº›è¯·æ±‚ä¸­é™¤äº†jsï¼Œcssï¼Œå›¾ç‰‡çš„è¯·æ±‚å¤–ï¼Œå…¶ä»–çš„è¯·æ±‚å¹¶æ²¡æœ‰å¤šå°‘ä¸ª 3 å¯»æ‰¾ç™»å½•æ¥å£ å›é¡¾ä¹‹å‰äººäººç½‘çš„çˆ¬è™«æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªç™»é™†æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£ä»å“ªé‡Œæ‰¾åˆ°çš„å‘¢ï¼Ÿ http://www.renren.com 3.1 å¯»æ‰¾actionå¯¹çš„urlåœ°å€ å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯åœ¨ç™»å½•çš„formè¡¨å•ä¸­actionå¯¹åº”çš„urlåœ°å€ï¼Œå›é¡¾å‰ç«¯çš„çŸ¥è¯†ç‚¹ï¼Œå¯ä»¥å‘ç°å°±æ˜¯è¿›è¡Œè¡¨å•æäº¤çš„åœ°å€ï¼Œå¯¹åº”çš„ï¼Œæäº¤çš„æ•°æ®ï¼Œä»…ä»…éœ€è¦ï¼šç”¨æˆ·åçš„inputæ ‡ç­¾ä¸­ï¼Œnameçš„å€¼ä½œä¸ºé”®ï¼Œç”¨æˆ·åä½œä¸ºå€¼ï¼Œå¯†ç çš„inputæ ‡ç­¾ä¸­ï¼Œnameçš„å€¼ä½œä¸ºé”®ï¼Œå¯†ç ä½œä¸ºå€¼å³å¯ æ€è€ƒï¼šå¦‚æœactionå¯¹åº”çš„æ²¡æœ‰urlåœ°å€çš„æ—¶å€™å¯ä»¥æ€ä¹ˆåšï¼Ÿ 3.2 é€šè¿‡æŠ“åŒ…å¯»æ‰¾ç™»å½•çš„urlåœ°å€ é€šè¿‡æŠ“åŒ…å¯ä»¥å‘ç°ï¼Œåœ¨è¿™ä¸ªurlåœ°å€å’Œè¯·æ±‚ä½“ä¸­å‡æœ‰å‚æ•°ï¼Œæ¯”å¦‚uniqueTimestampå’Œrkeyä»¥åŠåŠ å¯†ä¹‹åçš„password è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿæ‰‹æœºç‰ˆçš„ç™»å½•æ¥å£ï¼Œæ˜¯å¦ä¹Ÿæ˜¯ä¸€æ ·çš„ å¯ä»¥å‘ç°åœ¨æ‰‹æœºç‰ˆä¸­ï¼Œä¾ç„¶æœ‰å‚æ•°ï¼Œä½†æ˜¯å‚æ•°çš„ä¸ªæ•°å°‘ä¸€äº›ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰‹æœºç‰ˆä½œä¸ºå‚è€ƒï¼Œä¸‹ä¸€èŠ‚æ¥å­¦ä¹ å¦‚ä½•åˆ†æjs å°ç»“ ä½¿ç”¨éšèº«çª—å£çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†é¿å…é¦–æ¬¡æ‰“å¼€ç½‘ç«™æºå¸¦cookieçš„é—®é¢˜ chromeçš„networkä¸­ï¼Œperserve logé€‰é¡¹èƒ½å¤Ÿåœ¨é¡µé¢å‘ç”Ÿè·³è½¬ä¹‹åä»»ç„¶èƒ½å¤Ÿè§‚å¯Ÿä¹‹å‰çš„è¯·æ±‚ ç¡®å®šç™»å½•çš„åœ°å€æœ‰ä¸¤ç§æ–¹æ³•ï¼š å¯»æ‰¾fromè¡¨å•actionçš„urlåœ°å€ é€šè¿‡æŠ“åŒ…è·å–","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://www.lovelves.cn/tags/çˆ¬è™«/"},{"name":"python","slug":"python","permalink":"https://www.lovelves.cn/tags/python/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"çˆ¬è™«å­¦ä¹ ä¹‹æ—…02-çˆ¬è™«ä¹‹éªŒè¯ç å¤„ç†","slug":"çˆ¬è™«ä¹‹éªŒè¯ç å¤„ç†","date":"2021-06-21T13:05:41.000Z","updated":"2021-06-21T13:08:31.629Z","comments":true,"path":"2021/06/21/çˆ¬è™«ä¹‹éªŒè¯ç å¤„ç†/","link":"","permalink":"https://www.lovelves.cn/2021/06/21/çˆ¬è™«ä¹‹éªŒè¯ç å¤„ç†/","excerpt":"","text":"éªŒè¯ç å¤„ç†å­¦ä¹ ç›®æ ‡ äº†è§£ éªŒè¯ç çš„ç›¸å…³çŸ¥è¯† æŒæ¡ å›¾ç‰‡è¯†åˆ«å¼•æ“çš„ä½¿ç”¨ äº†è§£ å¸¸è§çš„æ‰“ç å¹³å° æŒæ¡ é€šè¿‡æ‰“ç å¹³å°å¤„ç†éªŒè¯ç çš„æ–¹æ³• 1.å›¾ç‰‡éªŒè¯ç 1.1 ä»€ä¹ˆæ˜¯å›¾ç‰‡éªŒè¯ç  éªŒè¯ç ï¼ˆCAPTCHAï¼‰æ˜¯â€œCompletely Automated Public Turing test to tell Computers and Humans Apartâ€ï¼ˆå…¨è‡ªåŠ¨åŒºåˆ†è®¡ç®—æœºå’Œäººç±»çš„å›¾çµæµ‹è¯•ï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§åŒºåˆ†ç”¨æˆ·æ˜¯è®¡ç®—æœºè¿˜æ˜¯äººçš„å…¬å…±å…¨è‡ªåŠ¨ç¨‹åºã€‚ 1.2 éªŒè¯ç çš„ä½œç”¨ é˜²æ­¢æ¶æ„ç ´è§£å¯†ç ã€åˆ·ç¥¨ã€è®ºå›çŒæ°´ã€åˆ·é¡µã€‚æœ‰æ•ˆé˜²æ­¢æŸä¸ªé»‘å®¢å¯¹æŸä¸€ä¸ªç‰¹å®šæ³¨å†Œç”¨æˆ·ç”¨ç‰¹å®šç¨‹åºæš´åŠ›ç ´è§£æ–¹å¼è¿›è¡Œä¸æ–­çš„ç™»å½•å°è¯•ï¼Œå®é™…ä¸Šä½¿ç”¨éªŒè¯ç æ˜¯ç°åœ¨å¾ˆå¤šç½‘ç«™é€šè¡Œçš„æ–¹å¼ï¼ˆæ¯”å¦‚æ‹›å•†é“¶è¡Œçš„ç½‘ä¸Šä¸ªäººé“¶è¡Œï¼Œç™¾åº¦ç¤¾åŒºï¼‰ï¼Œæˆ‘ä»¬åˆ©ç”¨æ¯”è¾ƒç®€æ˜“çš„æ–¹å¼å®ç°äº†è¿™ä¸ªåŠŸèƒ½ã€‚è™½ç„¶ç™»å½•éº»çƒ¦ä¸€ç‚¹ï¼Œä½†æ˜¯å¯¹ç½‘å‹çš„å¯†ç å®‰å…¨æ¥è¯´è¿™ä¸ªåŠŸèƒ½è¿˜æ˜¯å¾ˆæœ‰å¿…è¦ï¼Œä¹Ÿå¾ˆé‡è¦ã€‚ 1.3 å›¾ç‰‡éªŒè¯ç åœ¨çˆ¬è™«ä¸­çš„ä½¿ç”¨åœºæ™¯ æ³¨å†Œ ç™»å½• é¢‘ç¹å‘é€è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å¼¹å‡ºéªŒè¯ç è¿›è¡ŒéªŒè¯ 1.4 å›¾ç‰‡éªŒè¯ç çš„å¤„ç†æ–¹æ¡ˆ æ‰‹åŠ¨è¾“å…¥(input) è¿™ç§æ–¹æ³•ä»…é™äºç™»å½•ä¸€æ¬¡å°±å¯æŒç»­ä½¿ç”¨çš„æƒ…å†µ å›¾åƒè¯†åˆ«å¼•æ“è§£æ ä½¿ç”¨å…‰å­¦è¯†åˆ«å¼•æ“å¤„ç†å›¾ç‰‡ä¸­çš„æ•°æ®ï¼Œç›®å‰å¸¸ç”¨äºå›¾ç‰‡æ•°æ®æå–ï¼Œè¾ƒå°‘ç”¨äºéªŒè¯ç å¤„ç† æ‰“ç å¹³å° çˆ¬è™«å¸¸ç”¨çš„éªŒè¯ç è§£å†³æ–¹æ¡ˆ 2.å›¾ç‰‡è¯†åˆ«å¼•æ“ OCRï¼ˆOptical Character Recognitionï¼‰æ˜¯æŒ‡ä½¿ç”¨æ‰«æä»ªæˆ–æ•°ç ç›¸æœºå¯¹æ–‡æœ¬èµ„æ–™è¿›è¡Œæ‰«ææˆå›¾åƒæ–‡ä»¶ï¼Œç„¶åå¯¹å›¾åƒæ–‡ä»¶è¿›è¡Œåˆ†æå¤„ç†ï¼Œè‡ªåŠ¨è¯†åˆ«è·å–æ–‡å­—ä¿¡æ¯åŠç‰ˆé¢ä¿¡æ¯çš„è½¯ä»¶ã€‚ 2.1 ä»€ä¹ˆæ˜¯tesseract Tesseractï¼Œä¸€æ¬¾ç”±HPå®éªŒå®¤å¼€å‘ç”±Googleç»´æŠ¤çš„å¼€æºOCRå¼•æ“ï¼Œç‰¹ç‚¹æ˜¯å¼€æºï¼Œå…è´¹ï¼Œæ”¯æŒå¤šè¯­è¨€ï¼Œå¤šå¹³å°ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/tesseract-ocr/tesseract 2.2 å›¾ç‰‡è¯†åˆ«å¼•æ“ç¯å¢ƒçš„å®‰è£…1 å¼•æ“çš„å®‰è£… macç¯å¢ƒä¸‹ç›´æ¥æ‰§è¡Œå‘½ä»¤ brew install --with-training-tools tesseract windowsç¯å¢ƒä¸‹çš„å®‰è£…å¯ä»¥é€šè¿‡exeå®‰è£…åŒ…å®‰è£…ï¼Œä¸‹è½½åœ°å€å¯ä»¥ä»GitHubé¡¹ç›®ä¸­çš„wikiæ‰¾åˆ°ã€‚å®‰è£…å®Œæˆåè®°å¾—å°†Tesseract æ‰§è¡Œæ–‡ä»¶çš„ç›®å½•åŠ å…¥åˆ°PATHä¸­ï¼Œæ–¹ä¾¿åç»­è°ƒç”¨ã€‚ linuxç¯å¢ƒä¸‹çš„å®‰è£… sudo apt-get install tesseract-ocr 2 Pythonåº“çš„å®‰è£… # PILç”¨äºæ‰“å¼€å›¾ç‰‡æ–‡ä»¶ pip/pip3 install pillow # pytesseractæ¨¡å—ç”¨äºä»å›¾ç‰‡ä¸­è§£ææ•°æ® pip/pip3 install pytesseract 2.3 å›¾ç‰‡è¯†åˆ«å¼•æ“çš„ä½¿ç”¨ é€šè¿‡pytesseractæ¨¡å—çš„ image_to_string æ–¹æ³•å°±èƒ½å°†æ‰“å¼€çš„å›¾ç‰‡æ–‡ä»¶ä¸­çš„æ•°æ®æå–æˆå­—ç¬¦ä¸²æ•°æ®ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ from PIL import Image import pytesseract im = Image.open() result = pytesseract.image_to_string(im) print(result) 2.4 å›¾ç‰‡è¯†åˆ«å¼•æ“çš„ä½¿ç”¨æ‰©å±• tesseractç®€å•ä½¿ç”¨ä¸è®­ç»ƒ å…¶ä»–ocrå¹³å° å¾®è½¯Azure å›¾åƒè¯†åˆ«ï¼šhttps://azure.microsoft.com/zh-cn/services/cognitive-services/computer-vision/ æœ‰é“æ™ºäº‘æ–‡å­—è¯†åˆ«ï¼šhttp://aidemo.youdao.com/ocrdemo é˜¿é‡Œäº‘å›¾æ–‡è¯†åˆ«ï¼šhttps://www.aliyun.com/product/cdi/ è…¾è®¯OCRæ–‡å­—è¯†åˆ«ï¼šhttps://cloud.tencent.com/product/ocr 3 æ‰“ç å¹³å°1.ä¸ºä»€ä¹ˆéœ€è¦äº†è§£æ‰“ç å¹³å°çš„ä½¿ç”¨ç°åœ¨å¾ˆå¤šç½‘ç«™éƒ½ä¼šä½¿ç”¨éªŒè¯ç æ¥è¿›è¡Œåçˆ¬ï¼Œæ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿæ›´å¥½çš„è·å–æ•°æ®ï¼Œéœ€è¦äº†è§£å¦‚ä½•ä½¿ç”¨æ‰“ç å¹³å°çˆ¬è™«ä¸­çš„éªŒè¯ç  2 å¸¸è§çš„æ‰“ç å¹³å° äº‘æ‰“ç ï¼šhttp://www.yundama.com/ èƒ½å¤Ÿè§£å†³é€šç”¨çš„éªŒè¯ç è¯†åˆ« æéªŒéªŒè¯ç æ™ºèƒ½è¯†åˆ«è¾…åŠ©ï¼šhttp://jiyandoc.c2567.com/ èƒ½å¤Ÿè§£å†³å¤æ‚éªŒè¯ç çš„è¯†åˆ« 3 äº‘æ‰“ç çš„ä½¿ç”¨ä¸‹é¢ä»¥äº‘æ‰“ç ä¸ºä¾‹ï¼Œäº†è§£æ‰“ç å¹³å°å¦‚ä½•ä½¿ç”¨ 3.1 äº‘æ‰“ç å®˜æ–¹æ¥å£ä¸‹é¢ä»£ç æ˜¯äº‘æ‰“ç å¹³å°æä¾›ï¼Œåšäº†ä¸ªç®€å•ä¿®æ”¹ï¼Œå®ç°äº†ä¸¤ä¸ªæ–¹æ³•ï¼š indetify:ä¼ å…¥å›¾ç‰‡çš„å“åº”äºŒè¿›åˆ¶æ•°å³å¯ indetify_by_filepath:ä¼ å…¥å›¾ç‰‡çš„è·¯å¾„å³å¯è¯†åˆ« å…¶ä¸­éœ€è¦è‡ªå·±é…ç½®çš„åœ°æ–¹æ˜¯ï¼š username = &#39;whoarewe&#39; # ç”¨æˆ·å password = &#39;***&#39; # å¯†ç  appid = 4283 # appid appkey = &#39;02074c64f0d0bb9efb2df455537b01c3&#39; # appkey codetype = 1004 # éªŒè¯ç ç±»å‹ äº‘æ‰“ç å®˜æ–¹æä¾›çš„apiå¦‚ä¸‹ï¼š #yundama.py import requests import json import time class YDMHttp: apiurl = &#39;http://api.yundama.com/api.php&#39; username = &#39;&#39; password = &#39;&#39; appid = &#39;&#39; appkey = &#39;&#39; def __init__(self, username, password, appid, appkey): self.username = username self.password = password self.appid = str(appid) self.appkey = appkey def request(self, fields, files=[]): response = self.post_url(self.apiurl, fields, files) response = json.loads(response) return response def balance(self): data = {&#39;method&#39;: &#39;balance&#39;, &#39;username&#39;: self.username, &#39;password&#39;: self.password, &#39;appid&#39;: self.appid, &#39;appkey&#39;: self.appkey} response = self.request(data) if (response): if (response[&#39;ret&#39;] and response[&#39;ret&#39;] &lt; 0): return response[&#39;ret&#39;] else: return response[&#39;balance&#39;] else: return -9001 def login(self): data = {&#39;method&#39;: &#39;login&#39;, &#39;username&#39;: self.username, &#39;password&#39;: self.password, &#39;appid&#39;: self.appid, &#39;appkey&#39;: self.appkey} response = self.request(data) if (response): if (response[&#39;ret&#39;] and response[&#39;ret&#39;] &lt; 0): return response[&#39;ret&#39;] else: return response[&#39;uid&#39;] else: return -9001 def upload(self, filename, codetype, timeout): data = {&#39;method&#39;: &#39;upload&#39;, &#39;username&#39;: self.username, &#39;password&#39;: self.password, &#39;appid&#39;: self.appid, &#39;appkey&#39;: self.appkey, &#39;codetype&#39;: str(codetype), &#39;timeout&#39;: str(timeout)} file = {&#39;file&#39;: filename} response = self.request(data, file) if (response): if (response[&#39;ret&#39;] and response[&#39;ret&#39;] &lt; 0): return response[&#39;ret&#39;] else: return response[&#39;cid&#39;] else: return -9001 def result(self, cid): data = {&#39;method&#39;: &#39;result&#39;, &#39;username&#39;: self.username, &#39;password&#39;: self.password, &#39;appid&#39;: self.appid, &#39;appkey&#39;: self.appkey, &#39;cid&#39;: str(cid)} response = self.request(data) return response and response[&#39;text&#39;] or &#39;&#39; def decode(self, filename, codetype, timeout): cid = self.upload(filename, codetype, timeout) if (cid &gt; 0): for i in range(0, timeout): result = self.result(cid) if (result != &#39;&#39;): return cid, result else: time.sleep(1) return -3003, &#39;&#39; else: return cid, &#39;&#39; def post_url(self, url, fields, files=[]): # for key in files: # files[key] = open(files[key], &#39;rb&#39;); res = requests.post(url, files=files, data=fields) return res.text username = &#39;whoarewe&#39; # ç”¨æˆ·å password = &#39;***&#39; # å¯†ç  appid = 4283 # appid appkey = &#39;02074c64f0d0bb9efb2df455537b01c3&#39; # appkey filename = &#39;getimage.jpg&#39; # æ–‡ä»¶ä½ç½® codetype = 1004 # éªŒè¯ç ç±»å‹ # è¶…æ—¶ timeout = 60 def indetify(response_content): if (username == &#39;username&#39;): print(&#39;è¯·è®¾ç½®å¥½ç›¸å…³å‚æ•°å†æµ‹è¯•&#39;) else: # åˆå§‹åŒ– yundama = YDMHttp(username, password, appid, appkey) # ç™»é™†äº‘æ‰“ç  uid = yundama.login(); print(&#39;uid: %s&#39; % uid) # æŸ¥è¯¢ä½™é¢ balance = yundama.balance(); print(&#39;balance: %s&#39; % balance) # å¼€å§‹è¯†åˆ«ï¼Œå›¾ç‰‡è·¯å¾„ï¼ŒéªŒè¯ç ç±»å‹IDï¼Œè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¯†åˆ«ç»“æœ cid, result = yundama.decode(response_content, codetype, timeout) print(&#39;cid: %s, result: %s&#39; % (cid, result)) return result def indetify_by_filepath(file_path): if (username == &#39;username&#39;): print(&#39;è¯·è®¾ç½®å¥½ç›¸å…³å‚æ•°å†æµ‹è¯•&#39;) else: # åˆå§‹åŒ– yundama = YDMHttp(username, password, appid, appkey) # ç™»é™†äº‘æ‰“ç  uid = yundama.login(); print(&#39;uid: %s&#39; % uid) # æŸ¥è¯¢ä½™é¢ balance = yundama.balance(); print(&#39;balance: %s&#39; % balance) # å¼€å§‹è¯†åˆ«ï¼Œå›¾ç‰‡è·¯å¾„ï¼ŒéªŒè¯ç ç±»å‹IDï¼Œè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¯†åˆ«ç»“æœ cid, result = yundama.decode(file_path, codetype, timeout) print(&#39;cid: %s, result: %s&#39; % (cid, result)) return result if __name__ == &#39;__main__&#39;: pass 4 å¸¸è§çš„éªŒè¯ç çš„ç§ç±»4.1 urlåœ°å€ä¸å˜ï¼ŒéªŒè¯ç ä¸å˜è¿™æ˜¯éªŒè¯ç é‡Œé¢éå¸¸ç®€å•çš„ä¸€ç§ç±»å‹ï¼Œå¯¹åº”çš„åªéœ€è¦è·å–éªŒè¯ç çš„åœ°å€ï¼Œç„¶åè¯·æ±‚ï¼Œé€šè¿‡æ‰“ç å¹³å°è¯†åˆ«å³å¯ 4.2 urlåœ°å€ä¸å˜ï¼ŒéªŒè¯ç å˜åŒ–è¿™ç§éªŒè¯ç çš„ç±»å‹æ˜¯æ›´åŠ å¸¸è§çš„ä¸€ç§ç±»å‹ï¼Œå¯¹äºè¿™ç§éªŒè¯ç ï¼Œå¤§å®¶éœ€è¦æ€è€ƒï¼š åœ¨ç™»å½•çš„è¿‡ç¨‹ä¸­ï¼Œå‡è®¾æˆ‘è¾“å…¥çš„éªŒè¯ç æ˜¯å¯¹çš„ï¼Œå¯¹æ–¹æœåŠ¡å™¨æ˜¯å¦‚ä½•åˆ¤æ–­å½“å‰æˆ‘è¾“å…¥çš„éªŒè¯ç æ˜¯æ˜¾ç¤ºåœ¨æˆ‘å±å¹•ä¸Šçš„éªŒè¯ç ï¼Œè€Œä¸æ˜¯å…¶ä»–çš„éªŒè¯ç å‘¢ï¼Ÿ åœ¨è·å–ç½‘é¡µçš„æ—¶å€™ï¼Œè¯·æ±‚éªŒè¯ç ï¼Œä»¥åŠæäº¤éªŒè¯ç çš„æ—¶å€™ï¼Œå¯¹æ–¹æœåŠ¡å™¨è‚¯å®šé€šè¿‡äº†æŸç§æ‰‹æ®µéªŒè¯æˆ‘ä¹‹å‰è·å–çš„éªŒè¯ç å’Œæœ€åæäº¤çš„éªŒè¯ç æ˜¯åŒä¸€ä¸ªéªŒè¯ç ï¼Œé‚£è¿™ä¸ªæ‰‹æ®µæ˜¯ä»€ä¹ˆæ‰‹æ®µå‘¢ï¼Ÿ å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯é€šè¿‡cookieæ¥å®ç°çš„ï¼Œæ‰€ä»¥å¯¹åº”çš„ï¼Œåœ¨è¯·æ±‚é¡µé¢ï¼Œè¯·æ±‚éªŒè¯ç ï¼Œæäº¤éªŒè¯ç çš„åˆ°æ—¶å€™éœ€è¦ä¿è¯cookieçš„ä¸€è‡´æ€§ï¼Œå¯¹æ­¤å¯ä»¥ä½¿ç”¨requests.sessionæ¥è§£å†³ å°ç»“ äº†è§£ éªŒè¯ç çš„ç›¸å…³çŸ¥è¯† æŒæ¡ å›¾ç‰‡è¯†åˆ«å¼•æ“çš„ä½¿ç”¨ äº†è§£ å¸¸è§çš„æ‰“ç å¹³å° æŒæ¡ é€šè¿‡æ‰“ç å¹³å°å¤„ç†éªŒè¯ç çš„æ–¹æ³•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://www.lovelves.cn/tags/çˆ¬è™«/"},{"name":"python","slug":"python","permalink":"https://www.lovelves.cn/tags/python/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"çˆ¬è™«å­¦ä¹ ä¹‹æ—…01-é˜²çˆ¬å’Œå¸¸ç”¨çˆ¬è™«æ‰‹æ®µ","slug":"é˜²çˆ¬å’Œå¸¸ç”¨çˆ¬è™«æ‰‹æ®µ","date":"2021-06-21T12:58:31.000Z","updated":"2021-06-21T13:08:34.109Z","comments":true,"path":"2021/06/21/é˜²çˆ¬å’Œå¸¸ç”¨çˆ¬è™«æ‰‹æ®µ/","link":"","permalink":"https://www.lovelves.cn/2021/06/21/é˜²çˆ¬å’Œå¸¸ç”¨çˆ¬è™«æ‰‹æ®µ/","excerpt":"","text":"å¸¸è§çš„åçˆ¬æ‰‹æ®µå’Œè§£å†³æ€è·¯å­¦ä¹ ç›®æ ‡ äº†è§£ æœåŠ¡å™¨åçˆ¬çš„åŸå›  äº†è§£ æœåŠ¡å™¨å¸¸åä»€ä¹ˆæ ·çš„çˆ¬è™« äº†è§£ åçˆ¬è™«é¢†åŸŸå¸¸è§çš„ä¸€äº›æ¦‚å¿µ äº†è§£ åçˆ¬çš„ä¸‰ä¸ªæ–¹å‘ äº†è§£ å¸¸è§åŸºäºèº«ä»½è¯†åˆ«è¿›è¡Œåçˆ¬ äº†è§£ å¸¸è§åŸºäºçˆ¬è™«è¡Œä¸ºè¿›è¡Œåçˆ¬ äº†è§£ å¸¸è§åŸºäºæ•°æ®åŠ å¯†è¿›è¡Œåçˆ¬ 1 æœåŠ¡å™¨åçˆ¬çš„åŸå›  çˆ¬è™«å æ€»PV(PVæ˜¯æŒ‡é¡µé¢çš„è®¿é—®æ¬¡æ•°ï¼Œæ¯æ‰“å¼€æˆ–åˆ·æ–°ä¸€æ¬¡é¡µé¢ï¼Œå°±ç®—åšä¸€ä¸ªpv)æ¯”ä¾‹è¾ƒé«˜ï¼Œè¿™æ ·æµªè´¹é’±ï¼ˆå°¤å…¶æ˜¯ä¸‰æœˆä»½çˆ¬è™«ï¼‰ã€‚ ä¸‰æœˆä»½çˆ¬è™«æ˜¯ä¸ªä»€ä¹ˆæ¦‚å¿µå‘¢ï¼Ÿæ¯å¹´çš„ä¸‰æœˆä»½æˆ‘ä»¬ä¼šè¿æ¥ä¸€æ¬¡çˆ¬è™«é«˜å³°æœŸï¼Œæœ‰å¤§é‡çš„ç¡•å£«åœ¨å†™è®ºæ–‡çš„æ—¶å€™ä¼šé€‰æ‹©çˆ¬å–ä¸€äº›å¾€ç½‘ç«™ï¼Œå¹¶è¿›è¡Œèˆ†æƒ…åˆ†æã€‚å› ä¸ºäº”æœˆä»½äº¤è®ºæ–‡ï¼Œæ‰€ä»¥å˜›ï¼Œå¤§å®¶éƒ½æ˜¯è¯»è¿‡ä¹¦çš„ï¼Œä½ ä»¬æ‡‚çš„ï¼Œå‰æœŸå„ç§DotAï¼ŒLOLï¼Œåˆ°äº†ä¸‰æœˆä»½äº†ï¼Œæ¥ä¸åŠäº†ï¼Œèµ¶ç´§æŠ“æ•°æ®ï¼Œå››æœˆä»½åˆ†æä¸€ä¸‹ï¼Œäº”æœˆä»½äº¤è®ºæ–‡ï¼Œå°±æ˜¯è¿™ä¹ˆä¸ªèŠ‚å¥ã€‚ å…¬å¸å¯å…è´¹æŸ¥è¯¢çš„èµ„æºè¢«æ‰¹é‡æŠ“èµ°ï¼Œä¸§å¤±ç«äº‰åŠ›ï¼Œè¿™æ ·å°‘èµšé’±ã€‚ æ•°æ®å¯ä»¥åœ¨éç™»å½•çŠ¶æ€ä¸‹ç›´æ¥è¢«æŸ¥è¯¢ã€‚å¦‚æœå¼ºåˆ¶ç™»é™†ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å°æ€è´¦å·çš„æ–¹å¼è®©å¯¹æ–¹ä»˜å‡ºä»£ä»·ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šç½‘ç«™çš„åšæ³•ã€‚ä½†æ˜¯ä¸å¼ºåˆ¶å¯¹æ–¹ç™»å½•ã€‚é‚£ä¹ˆå¦‚æœæ²¡æœ‰åçˆ¬è™«ï¼Œå¯¹æ–¹å°±å¯ä»¥æ‰¹é‡å¤åˆ¶çš„ä¿¡æ¯ï¼Œå…¬å¸ç«äº‰åŠ›å°±ä¼šå¤§å¤§å‡å°‘ã€‚ç«äº‰å¯¹æ‰‹å¯ä»¥æŠ“åˆ°æ•°æ®ï¼Œæ—¶é—´é•¿äº†ç”¨æˆ·å°±ä¼šçŸ¥é“ï¼Œåªéœ€è¦å»ç«äº‰å¯¹æ‰‹é‚£é‡Œå°±å¯ä»¥äº†ï¼Œæ²¡å¿…è¦æ¥æˆ‘ä»¬ç½‘ç«™ï¼Œè¿™å¯¹æˆ‘ä»¬æ˜¯ä¸åˆ©çš„ã€‚ çŠ¶å‘Šçˆ¬è™«æˆåŠŸçš„å‡ ç‡å° çˆ¬è™«åœ¨å›½å†…è¿˜æ˜¯ä¸ªæ“¦è¾¹çƒï¼Œå°±æ˜¯æœ‰å¯èƒ½å¯ä»¥èµ·è¯‰æˆåŠŸï¼Œä¹Ÿå¯èƒ½å®Œå…¨æ— æ•ˆã€‚æ‰€ä»¥è¿˜æ˜¯éœ€è¦ç”¨æŠ€æœ¯æ‰‹æ®µæ¥åšæœ€åçš„ä¿éšœã€‚ 2 æœåŠ¡å™¨å¸¸åä»€ä¹ˆæ ·çš„çˆ¬è™« ååˆ†ä½çº§çš„åº”å±Šæ¯•ä¸šç”Ÿ åº”å±Šæ¯•ä¸šç”Ÿçš„çˆ¬è™«é€šå¸¸ç®€å•ç²—æš´ï¼Œæ ¹æœ¬ä¸ç®¡æœåŠ¡å™¨å‹åŠ›ï¼ŒåŠ ä¸Šäººæ•°ä¸å¯é¢„æµ‹ï¼Œå¾ˆå®¹æ˜“æŠŠç«™ç‚¹å¼„æŒ‚ã€‚ ååˆ†ä½çº§çš„åˆ›ä¸šå°å…¬å¸ ç°åœ¨çš„åˆ›ä¸šå…¬å¸è¶Šæ¥è¶Šå¤šï¼Œä¹Ÿä¸çŸ¥é“æ˜¯è¢«è°å¿½æ‚ çš„ç„¶åå¤§å®¶åˆ›ä¸šäº†å‘ç°ä¸çŸ¥é“å¹²ä»€ä¹ˆå¥½ï¼Œè§‰å¾—å¤§æ•°æ®æ¯”è¾ƒçƒ­ï¼Œå°±å¼€å§‹åšå¤§æ•°æ®ã€‚åˆ†æç¨‹åºå…¨å†™å·®ä¸å¤šäº†ï¼Œå‘ç°è‡ªå·±æ‰‹å¤´æ²¡æœ‰æ•°æ®ã€‚æ€ä¹ˆåŠï¼Ÿå†™çˆ¬è™«çˆ¬å•Šã€‚äºæ˜¯å°±æœ‰äº†ä¸è®¡å…¶æ•°çš„å°çˆ¬è™«ï¼Œå‡ºäºå…¬å¸ç”Ÿæ­»å­˜äº¡çš„è€ƒè™‘ï¼Œä¸æ–­çˆ¬å–æ•°æ®ã€‚ ä¸å°å¿ƒå†™é”™äº†æ²¡äººå»åœæ­¢çš„å¤±æ§å°çˆ¬è™« æœ‰äº›ç½‘ç«™å·²ç»åšäº†ç›¸åº”çš„åçˆ¬ï¼Œä½†æ˜¯çˆ¬è™«ä¾ç„¶å­œå­œä¸å€¦åœ°çˆ¬å–ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬æ ¹æœ¬çˆ¬ä¸åˆ°ä»»ä½•æ•°æ®ï¼Œé™¤äº†httpcodeæ˜¯200ä»¥å¤–ï¼Œä¸€åˆ‡éƒ½æ˜¯ä¸å¯¹çš„ï¼Œå¯æ˜¯çˆ¬è™«ä¾ç„¶ä¸åœæ­¢è¿™ä¸ªå¾ˆå¯èƒ½å°±æ˜¯ä¸€äº›æ‰˜ç®¡åœ¨æŸäº›æœåŠ¡å™¨ä¸Šçš„å°çˆ¬è™«ï¼Œå·²ç»æ— äººè®¤é¢†äº†ï¼Œä¾ç„¶åœ¨è¾›å‹¤åœ°å·¥ä½œç€ã€‚ æˆå‹çš„å•†ä¸šå¯¹æ‰‹ è¿™ä¸ªæ˜¯æœ€å¤§çš„å¯¹æ‰‹ï¼Œä»–ä»¬æœ‰æŠ€æœ¯ï¼Œæœ‰é’±ï¼Œè¦ä»€ä¹ˆæœ‰ä»€ä¹ˆï¼Œå¦‚æœå’Œä½ æ­»ç£•ï¼Œä½ å°±åªèƒ½ç¡¬ç€å¤´çš®å’Œä»–æ­»ç£•ã€‚ æŠ½é£çš„æœç´¢å¼•æ“ å¤§å®¶ä¸è¦ä»¥ä¸ºæœç´¢å¼•æ“éƒ½æ˜¯å¥½äººï¼Œä»–ä»¬ä¹Ÿæœ‰æŠ½é£çš„æ—¶å€™ï¼Œè€Œä¸”ä¸€æŠ½é£å°±ä¼šå¯¼è‡´æœåŠ¡å™¨æ€§èƒ½ä¸‹é™ï¼Œè¯·æ±‚é‡è·Ÿç½‘ç»œæ”»å‡»æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ 3 åçˆ¬è™«é¢†åŸŸå¸¸è§çš„ä¸€äº›æ¦‚å¿µå› ä¸ºåçˆ¬è™«æš‚æ—¶æ˜¯ä¸ªè¾ƒæ–°çš„é¢†åŸŸï¼Œå› æ­¤æœ‰äº›å®šä¹‰è¦è‡ªå·±ä¸‹ï¼š çˆ¬è™«ï¼šä½¿ç”¨ä»»ä½•æŠ€æœ¯æ‰‹æ®µï¼Œæ‰¹é‡è·å–ç½‘ç«™ä¿¡æ¯çš„ä¸€ç§æ–¹å¼ã€‚å…³é”®åœ¨äºæ‰¹é‡ã€‚ åçˆ¬è™«ï¼šä½¿ç”¨ä»»ä½•æŠ€æœ¯æ‰‹æ®µï¼Œé˜»æ­¢åˆ«äººæ‰¹é‡è·å–è‡ªå·±ç½‘ç«™ä¿¡æ¯çš„ä¸€ç§æ–¹å¼ã€‚å…³é”®ä¹Ÿåœ¨äºæ‰¹é‡ã€‚ è¯¯ä¼¤ï¼šåœ¨åçˆ¬è™«çš„è¿‡ç¨‹ä¸­ï¼Œé”™è¯¯çš„å°†æ™®é€šç”¨æˆ·è¯†åˆ«ä¸ºçˆ¬è™«ã€‚è¯¯ä¼¤ç‡é«˜çš„åçˆ¬è™«ç­–ç•¥ï¼Œæ•ˆæœå†å¥½ä¹Ÿä¸èƒ½ç”¨ã€‚ æ‹¦æˆªï¼šæˆåŠŸåœ°é˜»æ­¢çˆ¬è™«è®¿é—®ã€‚è¿™é‡Œä¼šæœ‰æ‹¦æˆªç‡çš„æ¦‚å¿µã€‚é€šå¸¸æ¥è¯´ï¼Œæ‹¦æˆªç‡è¶Šé«˜çš„åçˆ¬è™«ç­–ç•¥ï¼Œè¯¯ä¼¤çš„å¯èƒ½æ€§å°±è¶Šé«˜ã€‚å› æ­¤éœ€è¦åšä¸ªæƒè¡¡ã€‚ èµ„æºï¼šæœºå™¨æˆæœ¬ä¸äººåŠ›æˆæœ¬çš„æ€»å’Œã€‚ è¿™é‡Œè¦åˆ‡è®°ï¼ŒäººåŠ›æˆæœ¬ä¹Ÿæ˜¯èµ„æºï¼Œè€Œä¸”æ¯”æœºå™¨æ›´é‡è¦ã€‚å› ä¸ºï¼Œæ ¹æ®æ‘©å°”å®šå¾‹ï¼Œæœºå™¨è¶Šæ¥è¶Šä¾¿å®œã€‚è€Œæ ¹æ®ITè¡Œä¸šçš„å‘å±•è¶‹åŠ¿ï¼Œç¨‹åºå‘˜å·¥èµ„è¶Šæ¥è¶Šè´µã€‚å› æ­¤ï¼Œé€šå¸¸æœåŠ¡å™¨åçˆ¬å°±æ˜¯è®©çˆ¬è™«å·¥ç¨‹å¸ˆåŠ ç­æ‰æ˜¯ç‹é“ï¼Œæœºå™¨æˆæœ¬å¹¶ä¸æ˜¯ç‰¹åˆ«å€¼é’±ã€‚ 4 åçˆ¬çš„ä¸‰ä¸ªæ–¹å‘ åŸºäºèº«ä»½è¯†åˆ«è¿›è¡Œåçˆ¬ åŸºäºçˆ¬è™«è¡Œä¸ºè¿›è¡Œåçˆ¬ åŸºäºæ•°æ®åŠ å¯†è¿›è¡Œåçˆ¬ 5 å¸¸è§åŸºäºèº«ä»½è¯†åˆ«è¿›è¡Œåçˆ¬1 é€šè¿‡headerså­—æ®µæ¥åçˆ¬ headersä¸­æœ‰å¾ˆå¤šå­—æ®µï¼Œè¿™äº›å­—æ®µéƒ½æœ‰å¯èƒ½ä¼šè¢«å¯¹æ–¹æœåŠ¡å™¨æ‹¿è¿‡æ¥è¿›è¡Œåˆ¤æ–­æ˜¯å¦ä¸ºçˆ¬è™« 1.1 é€šè¿‡headersä¸­çš„User-Agentå­—æ®µæ¥åçˆ¬ åçˆ¬åŸç†ï¼šçˆ¬è™«é»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰User-Agentï¼Œè€Œæ˜¯ä½¿ç”¨æ¨¡å—é»˜è®¤è®¾ç½® è§£å†³æ–¹æ³•ï¼šè¯·æ±‚ä¹‹å‰æ·»åŠ User-Agentå³å¯ï¼›æ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨User-Agentæ± æ¥è§£å†³ï¼ˆæ”¶é›†ä¸€å †User-Agentçš„æ–¹å¼ï¼Œæˆ–è€…æ˜¯éšæœºç”ŸæˆUser-Agentï¼‰ 1.2 é€šè¿‡refererå­—æ®µæˆ–è€…æ˜¯å…¶ä»–å­—æ®µæ¥åçˆ¬ åçˆ¬åŸç†ï¼šçˆ¬è™«é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå¸¦ä¸Šrefererå­—æ®µï¼ŒæœåŠ¡å™¨ç«¯é€šè¿‡åˆ¤æ–­è¯·æ±‚å‘èµ·çš„æºå¤´ï¼Œä»¥æ­¤åˆ¤æ–­è¯·æ±‚æ˜¯å¦åˆæ³• è§£å†³æ–¹æ³•ï¼šæ·»åŠ refererå­—æ®µ 1.3 é€šè¿‡cookieæ¥åçˆ¬ åçˆ¬åŸå› ï¼šé€šè¿‡æ£€æŸ¥cookiesæ¥æŸ¥çœ‹å‘èµ·è¯·æ±‚çš„ç”¨æˆ·æ˜¯å¦å…·å¤‡ç›¸åº”æƒé™ï¼Œä»¥æ­¤æ¥è¿›è¡Œåçˆ¬ è§£å†³æ–¹æ¡ˆï¼šè¿›è¡Œæ¨¡æ‹Ÿç™»é™†ï¼ŒæˆåŠŸè·å–cookiesä¹‹ååœ¨è¿›è¡Œæ•°æ®çˆ¬å– 2 é€šè¿‡è¯·æ±‚å‚æ•°æ¥åçˆ¬ è¯·æ±‚å‚æ•°çš„è·å–æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦æºå¸¦è¯·æ±‚å‚æ•°ï¼Œé€šå¸¸æœåŠ¡å™¨ç«¯å¯ä»¥é€šè¿‡æ£€æŸ¥è¯·æ±‚å‚æ•°æ˜¯å¦æ­£ç¡®æ¥åˆ¤æ–­æ˜¯å¦ä¸ºçˆ¬è™« 2.1 é€šè¿‡ä»htmlé™æ€æ–‡ä»¶ä¸­è·å–è¯·æ±‚æ•°æ®(githubç™»å½•æ•°æ®) åçˆ¬åŸå› ï¼šé€šè¿‡å¢åŠ è·å–è¯·æ±‚å‚æ•°çš„éš¾åº¦è¿›è¡Œåçˆ¬ è§£å†³æ–¹æ¡ˆï¼šä»”ç»†åˆ†ææŠ“åŒ…å¾—åˆ°çš„æ¯ä¸€ä¸ªåŒ…ï¼Œææ¸…æ¥šè¯·æ±‚ä¹‹é—´çš„è”ç³» 2.2 é€šè¿‡å‘é€è¯·æ±‚è·å–è¯·æ±‚æ•°æ® åçˆ¬åŸå› ï¼šé€šè¿‡å¢åŠ è·å–è¯·æ±‚å‚æ•°çš„éš¾åº¦è¿›è¡Œåçˆ¬ è§£å†³æ–¹æ¡ˆï¼šä»”ç»†åˆ†ææŠ“åŒ…å¾—åˆ°çš„æ¯ä¸€ä¸ªåŒ…ï¼Œææ¸…æ¥šè¯·æ±‚ä¹‹é—´çš„è”ç³»ï¼Œææ¸…æ¥šè¯·æ±‚å‚æ•°çš„æ¥æº 2.3 é€šè¿‡jsç”Ÿæˆè¯·æ±‚å‚æ•° åçˆ¬åŸç†ï¼šjsç”Ÿæˆäº†è¯·æ±‚å‚æ•° è§£å†³æ–¹æ³•ï¼šåˆ†æjsï¼Œè§‚å¯ŸåŠ å¯†çš„å®ç°è¿‡ç¨‹ï¼Œé€šè¿‡js2pyè·å–jsçš„æ‰§è¡Œç»“æœï¼Œæˆ–è€…ä½¿ç”¨seleniumæ¥å®ç° 2.4 é€šè¿‡éªŒè¯ç æ¥åçˆ¬ åçˆ¬åŸç†ï¼šå¯¹æ–¹æœåŠ¡å™¨é€šè¿‡å¼¹å‡ºéªŒè¯ç å¼ºåˆ¶éªŒè¯ç”¨æˆ·æµè§ˆè¡Œä¸º è§£å†³æ–¹æ³•ï¼šæ‰“ç å¹³å°æˆ–è€…æ˜¯æœºå™¨å­¦ä¹ çš„æ–¹æ³•è¯†åˆ«éªŒè¯ç ï¼Œå…¶ä¸­æ‰“ç å¹³å°å»‰ä»·æ˜“ç”¨ï¼Œæ›´å€¼å¾—æ¨è 6 å¸¸è§åŸºäºçˆ¬è™«è¡Œä¸ºè¿›è¡Œåçˆ¬1 åŸºäºè¯·æ±‚é¢‘ç‡æˆ–æ€»è¯·æ±‚æ•°é‡ çˆ¬è™«çš„è¡Œä¸ºä¸æ™®é€šç”¨æˆ·æœ‰ç€æ˜æ˜¾çš„åŒºåˆ«ï¼Œçˆ¬è™«çš„è¯·æ±‚é¢‘ç‡ä¸è¯·æ±‚æ¬¡æ•°è¦è¿œé«˜äºæ™®é€šç”¨æˆ· 1.1 é€šè¿‡è¯·æ±‚ip/è´¦å·å•ä½æ—¶é—´å†…æ€»è¯·æ±‚æ•°é‡è¿›è¡Œåçˆ¬ åçˆ¬åŸç†ï¼šæ­£å¸¸æµè§ˆå™¨è¯·æ±‚ç½‘ç«™ï¼Œé€Ÿåº¦ä¸ä¼šå¤ªå¿«ï¼ŒåŒä¸€ä¸ªip/è´¦å·å¤§é‡è¯·æ±‚äº†å¯¹æ–¹æœåŠ¡å™¨ï¼Œæœ‰æ›´å¤§çš„å¯èƒ½æ€§ä¼šè¢«è¯†åˆ«ä¸ºçˆ¬è™« è§£å†³æ–¹æ³•ï¼šå¯¹åº”çš„é€šè¿‡è´­ä¹°é«˜è´¨é‡çš„ipçš„æ–¹å¼èƒ½å¤Ÿè§£å†³é—®é¢˜/è´­ä¹°ä¸ªå¤šè´¦å· 1.2 é€šè¿‡åŒä¸€ip/è´¦å·è¯·æ±‚ä¹‹é—´çš„é—´éš”è¿›è¡Œåçˆ¬ åçˆ¬åŸç†ï¼šæ­£å¸¸äººæ“ä½œæµè§ˆå™¨æµè§ˆç½‘ç«™ï¼Œè¯·æ±‚ä¹‹é—´çš„æ—¶é—´é—´éš”æ˜¯éšæœºçš„ï¼Œè€Œçˆ¬è™«å‰åä¸¤ä¸ªè¯·æ±‚ä¹‹é—´æ—¶é—´é—´éš”é€šå¸¸æ¯”è¾ƒå›ºå®šåŒæ—¶æ—¶é—´é—´éš”è¾ƒçŸ­ï¼Œå› æ­¤å¯ä»¥ç”¨æ¥åšåçˆ¬ è§£å†³æ–¹æ³•ï¼šè¯·æ±‚ä¹‹é—´è¿›è¡Œéšæœºç­‰å¾…ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ“ä½œï¼Œåœ¨æ·»åŠ æ—¶é—´é—´éš”åï¼Œä¸ºäº†èƒ½å¤Ÿé«˜é€Ÿè·å–æ•°æ®ï¼Œå°½é‡ä½¿ç”¨ä»£ç†æ± ï¼Œå¦‚æœæ˜¯è´¦å·ï¼Œåˆ™å°†è´¦å·è¯·æ±‚ä¹‹é—´è®¾ç½®éšæœºä¼‘çœ  1.3 é€šè¿‡å¯¹è¯·æ±‚ip/è´¦å·æ¯å¤©è¯·æ±‚æ¬¡æ•°è®¾ç½®é˜ˆå€¼è¿›è¡Œåçˆ¬ åçˆ¬åŸç†ï¼šæ­£å¸¸çš„æµè§ˆè¡Œä¸ºï¼Œå…¶ä¸€å¤©çš„è¯·æ±‚æ¬¡æ•°æ˜¯æœ‰é™çš„ï¼Œé€šå¸¸è¶…è¿‡æŸä¸€ä¸ªå€¼ï¼ŒæœåŠ¡å™¨å°±ä¼šæ‹’ç»å“åº” è§£å†³æ–¹æ³•ï¼šå¯¹åº”çš„é€šè¿‡è´­ä¹°é«˜è´¨é‡çš„ipçš„æ–¹æ³•/å¤šè´¦å·ï¼ŒåŒæ—¶è®¾ç½®è¯·æ±‚é—´éšæœºä¼‘çœ  2 æ ¹æ®çˆ¬å–è¡Œä¸ºè¿›è¡Œåçˆ¬ï¼Œé€šå¸¸åœ¨çˆ¬å–æ­¥éª¤ä¸Šåšåˆ†æ2.1 é€šè¿‡jså®ç°è·³è½¬æ¥åçˆ¬ åçˆ¬åŸç†ï¼šjså®ç°é¡µé¢è·³è½¬ï¼Œæ— æ³•åœ¨æºç ä¸­è·å–ä¸‹ä¸€é¡µurl è§£å†³æ–¹æ³•: å¤šæ¬¡æŠ“åŒ…è·å–æ¡çŠ¶urlï¼Œåˆ†æè§„å¾‹ 2.2 é€šè¿‡èœœç½(é™·é˜±)è·å–çˆ¬è™«ip(æˆ–è€…ä»£ç†ip)ï¼Œè¿›è¡Œåçˆ¬ åçˆ¬åŸç†ï¼šåœ¨çˆ¬è™«è·å–é“¾æ¥è¿›è¡Œè¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œçˆ¬è™«ä¼šæ ¹æ®æ­£åˆ™ï¼Œxpathï¼Œcssç­‰æ–¹å¼è¿›è¡Œåç»­é“¾æ¥çš„æå–ï¼Œæ­¤æ—¶æœåŠ¡å™¨ç«¯å¯ä»¥è®¾ç½®ä¸€ä¸ªé™·é˜±urlï¼Œä¼šè¢«æå–è§„åˆ™è·å–ï¼Œä½†æ˜¯æ­£å¸¸ç”¨æˆ·æ— æ³•è·å–ï¼Œè¿™æ ·å°±èƒ½æœ‰æ•ˆçš„åŒºåˆ†çˆ¬è™«å’Œæ­£å¸¸ç”¨æˆ· è§£å†³æ–¹æ³•: å®Œæˆçˆ¬è™«çš„ç¼–å†™ä¹‹åï¼Œä½¿ç”¨ä»£ç†æ‰¹é‡çˆ¬å–æµ‹è¯•/ä»”ç»†åˆ†æå“åº”å†…å®¹ç»“æ„ï¼Œæ‰¾å‡ºé¡µé¢ä¸­å­˜åœ¨çš„é™·é˜± 2.3 é€šè¿‡å‡æ•°æ®åçˆ¬ åçˆ¬åŸç†ï¼šå‘è¿”å›çš„å“åº”ä¸­æ·»åŠ å‡æ•°æ®æ±¡æŸ“æ•°æ®åº“ï¼Œé€šå¸¸å®¶å±å‰§ä¸ä¼šè¢«æ­£å¸¸ç”¨æˆ·çœ‹åˆ° è§£å†³æ–¹æ³•: é•¿æœŸè¿è¡Œï¼Œæ ¸å¯¹æ•°æ®åº“ä¸­æ•°æ®åŒå®é™…é¡µé¢ä¸­æ•°æ®å¯¹åº”æƒ…å†µï¼Œå¦‚æœå­˜åœ¨é—®é¢˜/ä»”ç»†åˆ†æå“åº”å†…å®¹ 2.4 é˜»å¡ä»»åŠ¡é˜Ÿåˆ— åçˆ¬åŸç†ï¼šé€šè¿‡ç”Ÿæˆå¤§é‡åƒåœ¾urlï¼Œä»è€Œé˜»å¡ä»»åŠ¡é˜Ÿåˆ—ï¼Œé™ä½çˆ¬è™«çš„å®é™…å·¥ä½œæ•ˆç‡ è§£å†³æ–¹æ³•: è§‚å¯Ÿè¿è¡Œè¿‡ç¨‹ä¸­è¯·æ±‚å“åº”çŠ¶æ€/ä»”ç»†åˆ†ææºç è·å–åƒåœ¾urlç”Ÿæˆè§„åˆ™ï¼Œå¯¹URLè¿›è¡Œè¿‡æ»¤ 2.5 é˜»å¡ç½‘ç»œIO åçˆ¬åŸç†ï¼šå‘é€è¯·æ±‚è·å–å“åº”çš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯ä¸‹è½½çš„è¿‡ç¨‹ï¼Œåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­æ··å…¥ä¸€ä¸ªå¤§æ–‡ä»¶çš„urlï¼Œå½“çˆ¬è™«åœ¨è¿›è¡Œè¯¥è¯·æ±‚æ—¶å°†ä¼šå ç”¨ç½‘ç»œioï¼Œå¦‚æœæ˜¯æœ‰å¤šçº¿ç¨‹åˆ™ä¼šå ç”¨çº¿ç¨‹ è§£å†³æ–¹æ³•: è§‚å¯Ÿçˆ¬è™«è¿è¡ŒçŠ¶æ€/å¤šçº¿ç¨‹å¯¹è¯·æ±‚çº¿ç¨‹è®¡æ—¶/å‘é€è¯·æ±‚é’± 2.6 è¿ç»´å¹³å°ç»¼åˆå®¡è®¡ åçˆ¬åŸç†ï¼šé€šè¿‡è¿ç»´å¹³å°è¿›è¡Œç»¼åˆç®¡ç†ï¼Œé€šå¸¸é‡‡ç”¨å¤åˆå‹åçˆ¬è™«ç­–ç•¥ï¼Œå¤šç§æ‰‹æ®µåŒæ—¶ä½¿ç”¨ è§£å†³æ–¹æ³•: ä»”ç»†è§‚å¯Ÿåˆ†æï¼Œé•¿æœŸè¿è¡Œæµ‹è¯•ç›®æ ‡ç½‘ç«™ï¼Œæ£€æŸ¥æ•°æ®é‡‡é›†é€Ÿåº¦ï¼Œå¤šæ–¹é¢å¤„ç† 7 å¸¸è§åŸºäºæ•°æ®åŠ å¯†è¿›è¡Œåçˆ¬1 å¯¹å“åº”ä¸­å«æœ‰çš„æ•°æ®è¿›è¡Œç‰¹æ®ŠåŒ–å¤„ç† é€šå¸¸çš„ç‰¹æ®ŠåŒ–å¤„ç†ä¸»è¦æŒ‡çš„å°±æ˜¯cssæ•°æ®åç§»/è‡ªå®šä¹‰å­—ä½“/æ•°æ®åŠ å¯†/æ•°æ®å›¾ç‰‡/ç‰¹æ®Šç¼–ç æ ¼å¼ç­‰ 1.1 é€šè¿‡è‡ªå®šä¹‰å­—ä½“æ¥åçˆ¬ä¸‹å›¾æ¥è‡ªçŒ«çœ¼ç”µå½±ç”µè„‘ç‰ˆ åçˆ¬æ€è·¯: ä½¿ç”¨è‡ªæœ‰å­—ä½“æ–‡ä»¶ è§£å†³æ€è·¯ï¼šåˆ‡æ¢åˆ°æ‰‹æœºç‰ˆ/è§£æå­—ä½“æ–‡ä»¶è¿›è¡Œç¿»è¯‘ 1.2 é€šè¿‡cssæ¥åçˆ¬ ä¸‹å›¾æ¥è‡ªçŒ«çœ¼å»å“ªå„¿ç”µè„‘ç‰ˆ åçˆ¬æ€è·¯ï¼šæºç æ•°æ®ä¸ä¸ºçœŸæ­£æ•°æ®ï¼Œéœ€è¦é€šè¿‡cssä½ç§»æ‰èƒ½äº§ç”ŸçœŸæ­£æ•°æ® è§£å†³æ€è·¯ï¼šè®¡ç®—cssçš„åç§» 1.3 é€šè¿‡jsåŠ¨æ€ç”Ÿæˆæ•°æ®è¿›è¡Œåçˆ¬ åçˆ¬åŸç†ï¼šé€šè¿‡jsåŠ¨æ€ç”Ÿæˆ è§£å†³æ€è·¯ï¼šè§£æå…³é”®jsï¼Œè·å¾—æ•°æ®ç”Ÿæˆæµç¨‹ï¼Œæ¨¡æ‹Ÿç”Ÿæˆæ•°æ® 1.4 é€šè¿‡æ•°æ®å›¾ç‰‡åŒ–åçˆ¬ 58åŒåŸçŸ­ç§Ÿ](https://baise.58.com/duanzu/38018718834984x.shtml) è§£å†³æ€è·¯ï¼šé€šè¿‡ä½¿ç”¨å›¾ç‰‡è§£æå¼•æ“ä»å›¾ç‰‡ä¸­è§£ææ•°æ® 1.5 é€šè¿‡ç¼–ç æ ¼å¼è¿›è¡Œåçˆ¬ åçˆ¬åŸç†: ä¸é€‚ç”¨é»˜è®¤ç¼–ç æ ¼å¼ï¼Œåœ¨è·å–å“åº”ä¹‹åé€šå¸¸çˆ¬è™«ä½¿ç”¨utf-8æ ¼å¼è¿›è¡Œè§£ç ï¼Œæ­¤æ—¶è§£ç ç»“æœå°†ä¼šæ˜¯ä¹±ç æˆ–è€…æŠ¥é”™ è§£å†³æ€è·¯ï¼šæ ¹æ®æºç è¿›è¡Œå¤šæ ¼å¼è§£ç ï¼Œæˆ–è€…çœŸæ­£çš„è§£ç æ ¼å¼ å°ç»“ æŒæ¡ å¸¸è§çš„åçˆ¬æ‰‹æ®µã€åŸç†ä»¥åŠåº”å¯¹æ€è·¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://www.lovelves.cn/tags/çˆ¬è™«/"},{"name":"python","slug":"python","permalink":"https://www.lovelves.cn/tags/python/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"mybatis-day02ç¬”è®°","slug":"mybatis-day02ç¬”è®°","date":"2021-06-17T09:41:20.000Z","updated":"2021-06-18T11:12:08.000Z","comments":true,"path":"2021/06/17/mybatis-day02ç¬”è®°/","link":"","permalink":"https://www.lovelves.cn/2021/06/17/mybatis-day02ç¬”è®°/","excerpt":"","text":"1.Mybatisçš„Daoå±‚å®ç°1.1 ä¼ ç»Ÿå¼€å‘æ–¹å¼1.1.1ç¼–å†™UserDaoæ¥å£public interface UserDao { List&lt;User&gt; findAll() throws IOException; } 1.1.2.ç¼–å†™UserDaoImplå®ç°public class UserDaoImpl implements UserDao { public List&lt;User&gt; findAll() throws IOException { InputStream resourceAsStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); SqlSession sqlSession = sqlSessionFactory.openSession(); List&lt;User&gt; userList = sqlSession.selectList(&quot;userMapper.findAll&quot;); sqlSession.close(); return userList; } } 1.1.3 æµ‹è¯•ä¼ ç»Ÿæ–¹å¼@Test public void testTraditionDao() throws IOException { UserDao userDao = new UserDaoImpl(); List&lt;User&gt; all = userDao.findAll(); System.out.println(all); } 1.2 ä»£ç†å¼€å‘æ–¹å¼1.2.1 ä»£ç†å¼€å‘æ–¹å¼ä»‹ç»é‡‡ç”¨ Mybatis çš„ä»£ç†å¼€å‘æ–¹å¼å®ç° DAO å±‚çš„å¼€å‘ï¼Œè¿™ç§æ–¹å¼æ˜¯æˆ‘ä»¬åé¢è¿›å…¥ä¼ä¸šçš„ä¸»æµã€‚ Mapper æ¥å£å¼€å‘æ–¹æ³•åªéœ€è¦ç¨‹åºå‘˜ç¼–å†™Mapper æ¥å£ï¼ˆç›¸å½“äºDao æ¥å£ï¼‰ï¼Œç”±Mybatis æ¡†æ¶æ ¹æ®æ¥å£å®šä¹‰åˆ›å»ºæ¥å£çš„åŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡çš„æ–¹æ³•ä½“åŒä¸Šè¾¹Daoæ¥å£å®ç°ç±»æ–¹æ³•ã€‚ Mapper æ¥å£å¼€å‘éœ€è¦éµå¾ªä»¥ä¸‹è§„èŒƒï¼š 1) Mapper.xmlæ–‡ä»¶ä¸­çš„namespaceä¸mapperæ¥å£çš„å…¨é™å®šåç›¸åŒ 2) Mapperæ¥å£æ–¹æ³•åå’ŒMapper.xmlä¸­å®šä¹‰çš„æ¯ä¸ªstatementçš„idç›¸åŒ 3) Mapperæ¥å£æ–¹æ³•çš„è¾“å…¥å‚æ•°ç±»å‹å’Œmapper.xmlä¸­å®šä¹‰çš„æ¯ä¸ªsqlçš„parameterTypeçš„ç±»å‹ç›¸åŒ 4) Mapperæ¥å£æ–¹æ³•çš„è¾“å‡ºå‚æ•°ç±»å‹å’Œmapper.xmlä¸­å®šä¹‰çš„æ¯ä¸ªsqlçš„resultTypeçš„ç±»å‹ç›¸åŒ 1.2.2 ç¼–å†™UserMapperæ¥å£ 1.2.3æµ‹è¯•ä»£ç†æ–¹å¼@Test public void testProxyDao() throws IOException { InputStream resourceAsStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); SqlSession sqlSession = sqlSessionFactory.openSession(); //è·å¾—MyBatisæ¡†æ¶ç”Ÿæˆçš„UserMapperæ¥å£çš„å®ç°ç±» UserMapper userMapper = sqlSession.getMapper(UserMapper.class); User user = userMapper.findById(1); System.out.println(user); sqlSession.close(); } 1.3 çŸ¥è¯†å°ç»“MyBatisçš„Daoå±‚å®ç°çš„ä¸¤ç§æ–¹å¼ï¼š æ‰‹åŠ¨å¯¹Daoè¿›è¡Œå®ç°ï¼šä¼ ç»Ÿå¼€å‘æ–¹å¼ ä»£ç†æ–¹å¼å¯¹Daoè¿›è¡Œå®ç°ï¼š **UserMapper userMapper = sqlSession.getMapper(UserMapper.class);** 2.MyBatisæ˜ å°„æ–‡ä»¶æ·±å…¥2.1 åŠ¨æ€sqlè¯­å¥2.1.1åŠ¨æ€sqlè¯­å¥æ¦‚è¿°Mybatis çš„æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå‰é¢æˆ‘ä»¬çš„ SQL éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæœ‰äº›æ—¶å€™ä¸šåŠ¡é€»è¾‘å¤æ‚æ—¶ï¼Œæˆ‘ä»¬çš„ SQLæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ­¤æ—¶åœ¨å‰é¢çš„å­¦ä¹ ä¸­æˆ‘ä»¬çš„ SQL å°±ä¸èƒ½æ»¡è¶³è¦æ±‚äº†ã€‚ å‚è€ƒçš„å®˜æ–¹æ–‡æ¡£ï¼Œæè¿°å¦‚ä¸‹ï¼š 2.1.2åŠ¨æ€ SQL ä¹‹&lt;if&gt;æˆ‘ä»¬æ ¹æ®å®ä½“ç±»çš„ä¸åŒå–å€¼ï¼Œä½¿ç”¨ä¸åŒçš„ SQLè¯­å¥æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚æ¯”å¦‚åœ¨ idå¦‚æœä¸ä¸ºç©ºæ—¶å¯ä»¥æ ¹æ®idæŸ¥è¯¢ï¼Œå¦‚æœusername ä¸åŒç©ºæ—¶è¿˜è¦åŠ å…¥ç”¨æˆ·åä½œä¸ºæ¡ä»¶ã€‚è¿™ç§æƒ…å†µåœ¨æˆ‘ä»¬çš„å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢ä¸­ç»å¸¸ä¼šç¢°åˆ°ã€‚ &lt;select id=&quot;findByCondition&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt; select * from User &lt;where&gt; &lt;if test=&quot;id!=0&quot;&gt; and id=#{id} &lt;/if&gt; &lt;if test=&quot;username!=null&quot;&gt; and username=#{username} &lt;/if&gt; &lt;/where&gt; &lt;/select&gt; å½“æŸ¥è¯¢æ¡ä»¶idå’Œusernameéƒ½å­˜åœ¨æ—¶ï¼Œæ§åˆ¶å°æ‰“å°çš„sqlè¯­å¥å¦‚ä¸‹ï¼š â€¦ â€¦ â€¦ //è·å¾—MyBatisæ¡†æ¶ç”Ÿæˆçš„UserMapperæ¥å£çš„å®ç°ç±» UserMapper userMapper = sqlSession.getMapper(UserMapper.class); User condition = new User(); condition.setId(1); condition.setUsername(&quot;lucy&quot;); User user = userMapper.findByCondition(condition); â€¦ â€¦ â€¦ å½“æŸ¥è¯¢æ¡ä»¶åªæœ‰idå­˜åœ¨æ—¶ï¼Œæ§åˆ¶å°æ‰“å°çš„sqlè¯­å¥å¦‚ä¸‹ï¼š â€¦ â€¦ â€¦ //è·å¾—MyBatisæ¡†æ¶ç”Ÿæˆçš„UserMapperæ¥å£çš„å®ç°ç±» UserMapper userMapper = sqlSession.getMapper(UserMapper.class); User condition = new User(); condition.setId(1); User user = userMapper.findByCondition(condition); â€¦ â€¦ â€¦ 2.1.3 åŠ¨æ€ SQL ä¹‹&lt;foreach&gt;å¾ªç¯æ‰§è¡Œsqlçš„æ‹¼æ¥æ“ä½œï¼Œä¾‹å¦‚ï¼šSELECT * FROM USER WHERE id IN (1,2,5)ã€‚ &lt;select id=&quot;findByIds&quot; parameterType=&quot;list&quot; resultType=&quot;user&quot;&gt; select * from User &lt;where&gt; &lt;foreach collection=&quot;array&quot; open=&quot;id in(&quot; close=&quot;)&quot; item=&quot;id&quot; separator=&quot;,&quot;&gt; #{id} &lt;/foreach&gt; &lt;/where&gt; &lt;/select&gt; æµ‹è¯•ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š â€¦ â€¦ â€¦ //è·å¾—MyBatisæ¡†æ¶ç”Ÿæˆçš„UserMapperæ¥å£çš„å®ç°ç±» UserMapper userMapper = sqlSession.getMapper(UserMapper.class); int[] ids = new int[]{2,5}; List&lt;User&gt; userList = userMapper.findByIds(ids); System.out.println(userList); â€¦ â€¦ â€¦ foreachæ ‡ç­¾çš„å±æ€§å«ä¹‰å¦‚ä¸‹ï¼š æ ‡ç­¾ç”¨äºéå†é›†åˆï¼Œå®ƒçš„å±æ€§ï¼š â€¢collectionï¼šä»£è¡¨è¦éå†çš„é›†åˆå…ƒç´ ï¼Œæ³¨æ„ç¼–å†™æ—¶ä¸è¦å†™#{} â€¢openï¼šä»£è¡¨è¯­å¥çš„å¼€å§‹éƒ¨åˆ† â€¢closeï¼šä»£è¡¨ç»“æŸéƒ¨åˆ† â€¢itemï¼šä»£è¡¨éå†é›†åˆçš„æ¯ä¸ªå…ƒç´ ï¼Œç”Ÿæˆçš„å˜é‡å â€¢speratorï¼šä»£è¡¨åˆ†éš”ç¬¦ 2.2 SQLç‰‡æ®µæŠ½å–Sql ä¸­å¯å°†é‡å¤çš„ sql æå–å‡ºæ¥ï¼Œä½¿ç”¨æ—¶ç”¨ include å¼•ç”¨å³å¯ï¼Œæœ€ç»ˆè¾¾åˆ° sql é‡ç”¨çš„ç›®çš„ &lt;!--æŠ½å–sqlç‰‡æ®µç®€åŒ–ç¼–å†™--&gt; &lt;sql id=&quot;selectUser&quot; select * from User&lt;/sql&gt; &lt;select id=&quot;findById&quot; parameterType=&quot;int&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;&gt;&lt;/include&gt; where id=#{id} &lt;/select&gt; &lt;select id=&quot;findByIds&quot; parameterType=&quot;list&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;&gt;&lt;/include&gt; &lt;where&gt; &lt;foreach collection=&quot;array&quot; open=&quot;id in(&quot; close=&quot;)&quot; item=&quot;id&quot; separator=&quot;,&quot;&gt; #{id} &lt;/foreach&gt; &lt;/where&gt; &lt;/select&gt; 2.3 çŸ¥è¯†å°ç»“MyBatisæ˜ å°„æ–‡ä»¶é…ç½®ï¼š ï¼šæŸ¥è¯¢ ï¼šæ’å…¥ ï¼šä¿®æ”¹ ï¼šåˆ é™¤ ï¼šwhereæ¡ä»¶ ï¼šifåˆ¤æ–­ ï¼šå¾ªç¯ ï¼šsqlç‰‡æ®µæŠ½å– 3. MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶æ·±å…¥3.1typeHandlersæ ‡ç­¾æ— è®ºæ˜¯ MyBatis åœ¨é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰ä¸­è®¾ç½®ä¸€ä¸ªå‚æ•°æ—¶ï¼Œè¿˜æ˜¯ä»ç»“æœé›†ä¸­å–å‡ºä¸€ä¸ªå€¼æ—¶ï¼Œ éƒ½ä¼šç”¨ç±»å‹å¤„ç†å™¨å°†è·å–çš„å€¼ä»¥åˆé€‚çš„æ–¹å¼è½¬æ¢æˆ Java ç±»å‹ã€‚ä¸‹è¡¨æè¿°äº†ä¸€äº›é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ï¼ˆæˆªå–éƒ¨åˆ†ï¼‰ã€‚ ä½ å¯ä»¥é‡å†™ç±»å‹å¤„ç†å™¨æˆ–åˆ›å»ºä½ è‡ªå·±çš„ç±»å‹å¤„ç†å™¨æ¥å¤„ç†ä¸æ”¯æŒçš„æˆ–éæ ‡å‡†çš„ç±»å‹ã€‚å…·ä½“åšæ³•ä¸ºï¼šå®ç° org.apache.ibatis.type.TypeHandler æ¥å£ï¼Œ æˆ–ç»§æ‰¿ä¸€ä¸ªå¾ˆä¾¿åˆ©çš„ç±» org.apache.ibatis.type.BaseTypeHandlerï¼Œ ç„¶åå¯ä»¥é€‰æ‹©æ€§åœ°å°†å®ƒæ˜ å°„åˆ°ä¸€ä¸ªJDBCç±»å‹ã€‚ä¾‹å¦‚éœ€æ±‚ï¼šä¸€ä¸ªJavaä¸­çš„Dateæ•°æ®ç±»å‹ï¼Œæˆ‘æƒ³å°†ä¹‹å­˜åˆ°æ•°æ®åº“çš„æ—¶å€™å­˜æˆä¸€ä¸ª1970å¹´è‡³ä»Šçš„æ¯«ç§’æ•°ï¼Œå–å‡ºæ¥æ—¶è½¬æ¢æˆjavaçš„Dateï¼Œå³javaçš„Dateä¸æ•°æ®åº“çš„varcharæ¯«ç§’å€¼ä¹‹é—´è½¬æ¢ã€‚ å¼€å‘æ­¥éª¤ï¼š â‘ å®šä¹‰è½¬æ¢ç±»ç»§æ‰¿ç±»BaseTypeHandler â‘¡è¦†ç›–4ä¸ªæœªå®ç°çš„æ–¹æ³•ï¼Œå…¶ä¸­setNonNullParameterä¸ºjavaç¨‹åºè®¾ç½®æ•°æ®åˆ°æ•°æ®åº“çš„å›è°ƒæ–¹æ³•ï¼ŒgetNullableResultä¸ºæŸ¥è¯¢æ—¶ mysqlçš„å­—ç¬¦ä¸²ç±»å‹è½¬æ¢æˆ javaçš„Typeç±»å‹çš„æ–¹æ³• â‘¢åœ¨MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œæ³¨å†Œ æµ‹è¯•è½¬æ¢æ˜¯å¦æ­£ç¡® public class MyDateTypeHandler extends BaseTypeHandler&lt;Date&gt; { public void setNonNullParameter(PreparedStatement preparedStatement, int i, Date date, JdbcType type) { preparedStatement.setString(i,date.getTime()+&quot;&quot;); } public Date getNullableResult(ResultSet resultSet, String s) throws SQLException { return new Date(resultSet.getLong(s)); } public Date getNullableResult(ResultSet resultSet, int i) throws SQLException { return new Date(resultSet.getLong(i)); } public Date getNullableResult(CallableStatement callableStatement, int i) throws SQLException { return callableStatement.getDate(i); } } &lt;!--æ³¨å†Œç±»å‹è‡ªå®šä¹‰è½¬æ¢å™¨--&gt; &lt;typeHandlers&gt; &lt;typeHandler handler=&quot;com.itheima.typeHandlers.MyDateTypeHandler&quot;&gt;&lt;/typeHandler&gt; &lt;/typeHandlers&gt; æµ‹è¯•æ·»åŠ æ“ä½œï¼š user.setBirthday(new Date()); userMapper.add2(user); æ•°æ®åº“æ•°æ®ï¼š æµ‹è¯•æŸ¥è¯¢æ“ä½œï¼š 3.2 pluginsæ ‡ç­¾MyBatiså¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ’ä»¶æ¥å¯¹åŠŸèƒ½è¿›è¡Œæ‰©å±•ï¼Œåˆ†é¡µåŠ©æ‰‹PageHelperæ˜¯å°†åˆ†é¡µçš„å¤æ‚æ“ä½œè¿›è¡Œå°è£…ï¼Œä½¿ç”¨ç®€å•çš„æ–¹å¼å³å¯è·å¾—åˆ†é¡µçš„ç›¸å…³æ•°æ® å¼€å‘æ­¥éª¤ï¼š â‘ å¯¼å…¥é€šç”¨PageHelperçš„åæ ‡ â‘¡åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®PageHelperæ’ä»¶ â‘¢æµ‹è¯•åˆ†é¡µæ•°æ®è·å– â‘ å¯¼å…¥é€šç”¨PageHelperåæ ‡&lt;!-- åˆ†é¡µåŠ©æ‰‹ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;3.7.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;0.9.1&lt;/version&gt; &lt;/dependency&gt; â‘¡åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®PageHelperæ’ä»¶&lt;!-- æ³¨æ„ï¼šåˆ†é¡µåŠ©æ‰‹çš„æ’ä»¶ é…ç½®åœ¨é€šç”¨é¦†mapperä¹‹å‰ --&gt; &lt;plugin interceptor=&quot;com.github.pagehelper.PageHelper&quot;&gt; &lt;!-- æŒ‡å®šæ–¹è¨€ --&gt; &lt;property name=&quot;dialect&quot; value=&quot;mysql&quot;/&gt; &lt;/plugin&gt; â‘¢æµ‹è¯•åˆ†é¡µä»£ç å®ç°@Test public void testPageHelper(){ //è®¾ç½®åˆ†é¡µå‚æ•° PageHelper.startPage(1,2); List&lt;User&gt; select = userMapper2.select(null); for(User user : select){ System.out.println(user); } } è·å¾—åˆ†é¡µç›¸å…³çš„å…¶ä»–å‚æ•° //å…¶ä»–åˆ†é¡µçš„æ•°æ® PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;User&gt;(select); System.out.println(&quot;æ€»æ¡æ•°ï¼š&quot;+pageInfo.getTotal()); System.out.println(&quot;æ€»é¡µæ•°ï¼š&quot;+pageInfo.getPages()); System.out.println(&quot;å½“å‰é¡µï¼š&quot;+pageInfo.getPageNum()); System.out.println(&quot;æ¯é¡µæ˜¾ç¤ºé•¿åº¦ï¼š&quot;+pageInfo.getPageSize()); System.out.println(&quot;æ˜¯å¦ç¬¬ä¸€é¡µï¼š&quot;+pageInfo.isIsFirstPage()); System.out.println(&quot;æ˜¯å¦æœ€åä¸€é¡µï¼š&quot;+pageInfo.isIsLastPage()); 3.3 çŸ¥è¯†å°ç»“MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶å¸¸ç”¨æ ‡ç­¾ï¼š 1ã€propertiesæ ‡ç­¾ï¼šè¯¥æ ‡ç­¾å¯ä»¥åŠ è½½å¤–éƒ¨çš„propertiesæ–‡ä»¶ 2ã€typeAliasesæ ‡ç­¾ï¼šè®¾ç½®ç±»å‹åˆ«å 3ã€environmentsæ ‡ç­¾ï¼šæ•°æ®æºç¯å¢ƒé…ç½®æ ‡ç­¾ 4ã€typeHandlersæ ‡ç­¾ï¼šé…ç½®è‡ªå®šä¹‰ç±»å‹å¤„ç†å™¨ 5ã€pluginsæ ‡ç­¾ï¼šé…ç½®MyBatisçš„æ’ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://www.lovelves.cn/tags/springboot/"},{"name":"mybatis","slug":"mybatis","permalink":"https://www.lovelves.cn/tags/mybatis/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"mybatis-day01ç¬”è®°","slug":"mybatis-day01ç¬”è®°","date":"2021-06-17T06:15:50.000Z","updated":"2021-06-17T13:14:49.977Z","comments":true,"path":"2021/06/17/mybatis-day01ç¬”è®°/","link":"","permalink":"https://www.lovelves.cn/2021/06/17/mybatis-day01ç¬”è®°/","excerpt":"","text":"1.Mybatisç®€ä»‹1.1åŸå§‹jdbcæ“ä½œï¼ˆæŸ¥è¯¢æ•°æ®ï¼‰ 1.2åŸå§‹jdbcæ“ä½œï¼ˆæ’å…¥æ•°æ®ï¼‰ 1.3 åŸå§‹jdbcæ“ä½œçš„åˆ†æåŸå§‹jdbcå¼€å‘å­˜åœ¨çš„é—®é¢˜å¦‚ä¸‹ï¼š â‘ æ•°æ®åº“è¿æ¥åˆ›å»ºã€é‡Šæ”¾é¢‘ç¹é€ æˆç³»ç»Ÿèµ„æºæµªè´¹ä»è€Œå½±å“ç³»ç»Ÿæ€§èƒ½ â‘¡sql è¯­å¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼Œé€ æˆä»£ç ä¸æ˜“ç»´æŠ¤ï¼Œå®é™…åº”ç”¨ sql å˜åŒ–çš„å¯èƒ½è¾ƒå¤§ï¼Œsql å˜åŠ¨éœ€è¦æ”¹å˜javaä»£ç ã€‚ â‘¢æŸ¥è¯¢æ“ä½œæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†ç»“æœé›†ä¸­çš„æ•°æ®æ‰‹åŠ¨å°è£…åˆ°å®ä½“ä¸­ã€‚æ’å…¥æ“ä½œæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†å®ä½“çš„æ•°æ®è®¾ç½®åˆ°sqlè¯­å¥çš„å ä½ç¬¦ä½ç½® åº”å¯¹ä¸Šè¿°é—®é¢˜ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆï¼š â‘ ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–è¿æ¥èµ„æº â‘¡å°†sqlè¯­å¥æŠ½å–åˆ°xmlé…ç½®æ–‡ä»¶ä¸­ â‘¢ä½¿ç”¨åå°„ã€å†…çœç­‰åº•å±‚æŠ€æœ¯ï¼Œè‡ªåŠ¨å°†å®ä½“ä¸è¡¨è¿›è¡Œå±æ€§ä¸å­—æ®µçš„è‡ªåŠ¨æ˜ å°„ 1.4 ä»€ä¹ˆæ˜¯Mybatismybatis æ˜¯ä¸€ä¸ªä¼˜ç§€çš„åŸºäºjavaçš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº†jdbcï¼Œä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨sqlè¯­å¥æœ¬èº«ï¼Œè€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ã€‚ mybatisé€šè¿‡xmlæˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§ statementé…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œstatementä¸­sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥ã€‚ æœ€åmybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ã€‚é‡‡ç”¨ORMæ€æƒ³è§£å†³äº†å®ä½“å’Œæ•°æ®åº“æ˜ å°„çš„é—®é¢˜ï¼Œå¯¹jdbc è¿›è¡Œäº†å°è£…ï¼Œå±è”½äº†jdbc api åº•å±‚è®¿é—®ç»†èŠ‚ï¼Œä½¿æˆ‘ä»¬ä¸ç”¨ä¸jdbc api æ‰“äº¤é“ï¼Œå°±å¯ä»¥å®Œæˆå¯¹æ•°æ®åº“çš„æŒä¹…åŒ–æ“ä½œã€‚ 2.Mybatisçš„å¿«é€Ÿå…¥é—¨2.1 MyBatiså¼€å‘æ­¥éª¤MyBatiså®˜ç½‘åœ°å€ï¼šhttp://www.mybatis.org/mybatis-3/ MyBatiså¼€å‘æ­¥éª¤ï¼š â‘ æ·»åŠ MyBatisçš„åæ ‡ â‘¡åˆ›å»ºuseræ•°æ®è¡¨ â‘¢ç¼–å†™Userå®ä½“ç±» â‘£ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml â‘¤ç¼–å†™æ ¸å¿ƒæ–‡ä»¶SqlMapConfig.xml â‘¥ç¼–å†™æµ‹è¯•ç±» 2.2 ç¯å¢ƒæ­å»º1)å¯¼å…¥MyBatisçš„åæ ‡å’Œå…¶ä»–ç›¸å…³åæ ‡ &lt;!--mybatisåæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.5&lt;/version&gt; &lt;/dependency&gt; &lt;!--mysqlé©±åŠ¨åæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!--å•å…ƒæµ‹è¯•åæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!--æ—¥å¿—åæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.12&lt;/version&gt; &lt;/dependency&gt; 2) åˆ›å»ºuseræ•°æ®è¡¨ 3) ç¼–å†™Userå®ä½“ public class User { private int id; private String username; private String password; //çœç•¥getä¸ªsetæ–¹æ³• } 4)ç¼–å†™UserMapperæ˜ å°„æ–‡ä»¶ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;userMapper&quot;&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;com.itheima.domain.User&quot;&gt; select * from User &lt;/select&gt; &lt;/mapper&gt; 5) ç¼–å†™MyBatisæ ¸å¿ƒæ–‡ä»¶ &lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//ENâ€œ &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt; &lt;configuration&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql:///test&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;mappers&gt; &lt;mapper resource=&quot;com/itheima/mapper/UserMapper.xml&quot;/&gt; &lt;/mappers&gt; &lt;/configuration&gt; 2.3 ç¼–å†™æµ‹è¯•ä»£ç //åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶ InputStream resourceAsStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); //è·å¾—sqlSessionå·¥å‚å¯¹è±¡ SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); //è·å¾—sqlSessionå¯¹è±¡ SqlSession sqlSession = sqlSessionFactory.openSession(); //æ‰§è¡Œsqlè¯­å¥ List&lt;User&gt; userList = sqlSession.selectList(&quot;userMapper.findAll&quot;); //æ‰“å°ç»“æœ System.out.println(userList); //é‡Šæ”¾èµ„æº sqlSession.close(); 2.4 çŸ¥è¯†å°ç»“MyBatiså¼€å‘æ­¥éª¤ï¼š â‘ æ·»åŠ MyBatisçš„åæ ‡ â‘¡åˆ›å»ºuseræ•°æ®è¡¨ â‘¢ç¼–å†™Userå®ä½“ç±» â‘£ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml â‘¤ç¼–å†™æ ¸å¿ƒæ–‡ä»¶SqlMapConfig.xml â‘¥ç¼–å†™æµ‹è¯•ç±» 3. MyBatisçš„æ˜ å°„æ–‡ä»¶æ¦‚è¿° 4. MyBatisçš„å¢åˆ æ”¹æŸ¥æ“ä½œ4.1 MyBatisçš„æ’å…¥æ•°æ®æ“ä½œ1)ç¼–å†™UserMapperæ˜ å°„æ–‡ä»¶ &lt;mapper namespace=&quot;userMapper&quot;&gt; &lt;insert id=&quot;add&quot; parameterType=&quot;com.itheima.domain.User&quot;&gt; insert into user values(#{id},#{username},#{password}) &lt;/insert&gt; &lt;/mapper&gt; 2)ç¼–å†™æ’å…¥å®ä½“Userçš„ä»£ç  InputStream resourceAsStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); SqlSession sqlSession = sqlSessionFactory.openSession(); int insert = sqlSession.insert(&quot;userMapper.add&quot;, user); System.out.println(insert); //æäº¤äº‹åŠ¡ sqlSession.commit(); sqlSession.close(); 3)æ’å…¥æ“ä½œæ³¨æ„é—®é¢˜ â€¢ æ’å…¥è¯­å¥ä½¿ç”¨insertæ ‡ç­¾ â€¢ åœ¨æ˜ å°„æ–‡ä»¶ä¸­ä½¿ç”¨parameterTypeå±æ€§æŒ‡å®šè¦æ’å…¥çš„æ•°æ®ç±»å‹ â€¢Sqlè¯­å¥ä¸­ä½¿ç”¨#{å®ä½“å±æ€§å}æ–¹å¼å¼•ç”¨å®ä½“ä¸­çš„å±æ€§å€¼ â€¢æ’å…¥æ“ä½œä½¿ç”¨çš„APIæ˜¯sqlSession.insert(â€œå‘½åç©ºé—´.idâ€,å®ä½“å¯¹è±¡); â€¢æ’å…¥æ“ä½œæ¶‰åŠæ•°æ®åº“æ•°æ®å˜åŒ–ï¼Œæ‰€ä»¥è¦ä½¿ç”¨sqlSessionå¯¹è±¡æ˜¾ç¤ºçš„æäº¤äº‹åŠ¡ï¼Œå³sqlSession.commit() 4.2 MyBatisçš„ä¿®æ”¹æ•°æ®æ“ä½œ1)ç¼–å†™UserMapperæ˜ å°„æ–‡ä»¶ &lt;mapper namespace=&quot;userMapper&quot;&gt; &lt;update id=&quot;update&quot; parameterType=&quot;com.itheima.domain.User&quot;&gt; update user set username=#{username},password=#{password} where id=#{id} &lt;/update&gt; &lt;/mapper&gt; 2)ç¼–å†™ä¿®æ”¹å®ä½“Userçš„ä»£ç  InputStream resourceAsStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); SqlSession sqlSession = sqlSessionFactory.openSession(); int update = sqlSession.update(&quot;userMapper.update&quot;, user); System.out.println(update); sqlSession.commit(); sqlSession.close(); 3)ä¿®æ”¹æ“ä½œæ³¨æ„é—®é¢˜ â€¢ ä¿®æ”¹è¯­å¥ä½¿ç”¨updateæ ‡ç­¾ â€¢ ä¿®æ”¹æ“ä½œä½¿ç”¨çš„APIæ˜¯sqlSession.update(â€œå‘½åç©ºé—´.idâ€,å®ä½“å¯¹è±¡); 4.3 MyBatisçš„åˆ é™¤æ•°æ®æ“ä½œ1)ç¼–å†™UserMapperæ˜ å°„æ–‡ä»¶ &lt;mapper namespace=&quot;userMapper&quot;&gt; &lt;delete id=&quot;delete&quot; parameterType=&quot;java.lang.Integer&quot;&gt; delete from user where id=#{id} &lt;/delete&gt; &lt;/mapper&gt; 2)ç¼–å†™åˆ é™¤æ•°æ®çš„ä»£ç  InputStream resourceAsStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); SqlSession sqlSession = sqlSessionFactory.openSession(); int delete = sqlSession.delete(&quot;userMapper.delete&quot;,3); System.out.println(delete); sqlSession.commit(); sqlSession.close(); 3)åˆ é™¤æ“ä½œæ³¨æ„é—®é¢˜ â€¢ åˆ é™¤è¯­å¥ä½¿ç”¨deleteæ ‡ç­¾ â€¢Sqlè¯­å¥ä¸­ä½¿ç”¨#{ä»»æ„å­—ç¬¦ä¸²}æ–¹å¼å¼•ç”¨ä¼ é€’çš„å•ä¸ªå‚æ•° â€¢åˆ é™¤æ“ä½œä½¿ç”¨çš„APIæ˜¯sqlSession.delete(â€œå‘½åç©ºé—´.idâ€,Object); 4.4 çŸ¥è¯†å°ç»“å¢åˆ æ”¹æŸ¥æ˜ å°„é…ç½®ä¸APIï¼š æŸ¥è¯¢æ•°æ®ï¼š List&lt;User&gt; userList = sqlSession.selectList(&quot;userMapper.findAll&quot;); &lt;select id=&quot;findAll&quot; resultType=&quot;com.itheima.domain.User&quot;&gt; select * from User &lt;/select&gt; æ·»åŠ æ•°æ®ï¼š sqlSession.insert(&quot;userMapper.add&quot;, user); &lt;insert id=&quot;add&quot; parameterType=&quot;com.itheima.domain.User&quot;&gt; insert into user values(#{id},#{username},#{password}) &lt;/insert&gt; ä¿®æ”¹æ•°æ®ï¼š sqlSession.update(&quot;userMapper.update&quot;, user); &lt;update id=&quot;update&quot; parameterType=&quot;com.itheima.domain.User&quot;&gt; update user set username=#{username},password=#{password} where id=#{id} &lt;/update&gt; åˆ é™¤æ•°æ®ï¼šsqlSession.delete(&quot;userMapper.delete&quot;,3); &lt;delete id=&quot;delete&quot; parameterType=&quot;java.lang.Integer&quot;&gt; delete from user where id=#{id} &lt;/delete&gt; 5. MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶æ¦‚è¿°5.1 MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶å±‚çº§å…³ç³» 5.2 MyBatiså¸¸ç”¨é…ç½®è§£æ1)environmentsæ ‡ç­¾ æ•°æ®åº“ç¯å¢ƒçš„é…ç½®ï¼Œæ”¯æŒå¤šç¯å¢ƒé…ç½® å…¶ä¸­ï¼Œäº‹åŠ¡ç®¡ç†å™¨ï¼ˆtransactionManagerï¼‰ç±»å‹æœ‰ä¸¤ç§ï¼š â€¢JDBCï¼šè¿™ä¸ªé…ç½®å°±æ˜¯ç›´æ¥ä½¿ç”¨äº†JDBC çš„æäº¤å’Œå›æ»šè®¾ç½®ï¼Œå®ƒä¾èµ–äºä»æ•°æ®æºå¾—åˆ°çš„è¿æ¥æ¥ç®¡ç†äº‹åŠ¡ä½œç”¨åŸŸã€‚ â€¢MANAGEDï¼šè¿™ä¸ªé…ç½®å‡ ä¹æ²¡åšä»€ä¹ˆã€‚å®ƒä»æ¥ä¸æäº¤æˆ–å›æ»šä¸€ä¸ªè¿æ¥ï¼Œè€Œæ˜¯è®©å®¹å™¨æ¥ç®¡ç†äº‹åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆæ¯”å¦‚ JEE åº”ç”¨æœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹å®ƒä¼šå…³é—­è¿æ¥ï¼Œç„¶è€Œä¸€äº›å®¹å™¨å¹¶ä¸å¸Œæœ›è¿™æ ·ï¼Œå› æ­¤éœ€è¦å°† closeConnection å±æ€§è®¾ç½®ä¸º false æ¥é˜»æ­¢å®ƒé»˜è®¤çš„å…³é—­è¡Œä¸ºã€‚ å…¶ä¸­ï¼Œæ•°æ®æºï¼ˆdataSourceï¼‰ç±»å‹æœ‰ä¸‰ç§ï¼š â€¢UNPOOLEDï¼šè¿™ä¸ªæ•°æ®æºçš„å®ç°åªæ˜¯æ¯æ¬¡è¢«è¯·æ±‚æ—¶æ‰“å¼€å’Œå…³é—­è¿æ¥ã€‚ â€¢POOLEDï¼šè¿™ç§æ•°æ®æºçš„å®ç°åˆ©ç”¨â€œæ± â€çš„æ¦‚å¿µå°† JDBC è¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ã€‚ â€¢JNDIï¼šè¿™ä¸ªæ•°æ®æºçš„å®ç°æ˜¯ä¸ºäº†èƒ½åœ¨å¦‚ EJB æˆ–åº”ç”¨æœåŠ¡å™¨è¿™ç±»å®¹å™¨ä¸­ä½¿ç”¨ï¼Œå®¹å™¨å¯ä»¥é›†ä¸­æˆ–åœ¨å¤–éƒ¨é…ç½®æ•°æ®æºï¼Œç„¶åæ”¾ç½®ä¸€ä¸ª JNDI ä¸Šä¸‹æ–‡çš„å¼•ç”¨ã€‚ 2)mapperæ ‡ç­¾ è¯¥æ ‡ç­¾çš„ä½œç”¨æ˜¯åŠ è½½æ˜ å°„çš„ï¼ŒåŠ è½½æ–¹å¼æœ‰å¦‚ä¸‹å‡ ç§ï¼š â€¢ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ï¼Œä¾‹å¦‚ï¼š â€¢ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ï¼Œä¾‹å¦‚ï¼š â€¢ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»åï¼Œä¾‹å¦‚ï¼š â€¢å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨ï¼Œä¾‹å¦‚ï¼š 3)Propertiesæ ‡ç­¾ å®é™…å¼€å‘ä¸­ï¼Œä¹ æƒ¯å°†æ•°æ®æºçš„é…ç½®ä¿¡æ¯å•ç‹¬æŠ½å–æˆä¸€ä¸ªpropertiesæ–‡ä»¶ï¼Œè¯¥æ ‡ç­¾å¯ä»¥åŠ è½½é¢å¤–é…ç½®çš„propertiesæ–‡ä»¶ 4)typeAliasesæ ‡ç­¾ ç±»å‹åˆ«åæ˜¯ä¸ºJava ç±»å‹è®¾ç½®ä¸€ä¸ªçŸ­çš„åå­—ã€‚åŸæ¥çš„ç±»å‹åç§°é…ç½®å¦‚ä¸‹ é…ç½®typeAliasesï¼Œä¸ºcom.itheima.domain.Userå®šä¹‰åˆ«åä¸ºuser ä¸Šé¢æˆ‘ä»¬æ˜¯è‡ªå®šä¹‰çš„åˆ«åï¼Œmybatisæ¡†æ¶å·²ç»ä¸ºæˆ‘ä»¬è®¾ç½®å¥½çš„ä¸€äº›å¸¸ç”¨çš„ç±»å‹çš„åˆ«å 5.3 çŸ¥è¯†å°ç»“æ ¸å¿ƒé…ç½®æ–‡ä»¶å¸¸ç”¨é…ç½®ï¼š propertiesæ ‡ç­¾ï¼šè¯¥æ ‡ç­¾å¯ä»¥åŠ è½½å¤–éƒ¨çš„propertiesæ–‡ä»¶ &lt;properties resource=&quot;jdbc.properties&quot;&gt;&lt;/properties&gt; typeAliasesæ ‡ç­¾ï¼šè®¾ç½®ç±»å‹åˆ«å &lt;typeAlias type=&quot;com.itheima.domain.User&quot; alias=&quot;user&quot;&gt;&lt;/typeAlias&gt; mappersæ ‡ç­¾ï¼šåŠ è½½æ˜ å°„é…ç½® &lt;mapper resource=&quot;com/itheima/mapper/UserMapping.xml&quot;&gt;&lt;/mapper&gt; environmentsæ ‡ç­¾ï¼šæ•°æ®æºç¯å¢ƒé…ç½®æ ‡ç­¾ 6.MyBatisç›¸åº”API6.1 SqlSessionå·¥å‚æ„å»ºå™¨SqlSessionFactoryBuilderå¸¸ç”¨APIï¼šSqlSessionFactory build(InputStream inputStream) é€šè¿‡åŠ è½½mybatisçš„æ ¸å¿ƒæ–‡ä»¶çš„è¾“å…¥æµçš„å½¢å¼æ„å»ºä¸€ä¸ªSqlSessionFactoryå¯¹è±¡ String resource = &quot;org/mybatis/builder/mybatis-config.xml&quot;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder(); SqlSessionFactory factory = builder.build(inputStream); å…¶ä¸­ï¼Œ Resources å·¥å…·ç±»ï¼Œè¿™ä¸ªç±»åœ¨ org.apache.ibatis.io åŒ…ä¸­ã€‚Resources ç±»å¸®åŠ©ä½ ä»ç±»è·¯å¾„ä¸‹ã€æ–‡ä»¶ç³»ç»Ÿæˆ–ä¸€ä¸ª web URL ä¸­åŠ è½½èµ„æºæ–‡ä»¶ã€‚ 6.2 SqlSessionå·¥å‚å¯¹è±¡SqlSessionFactorySqlSessionFactory æœ‰å¤šä¸ªä¸ªæ–¹æ³•åˆ›å»ºSqlSession å®ä¾‹ã€‚å¸¸ç”¨çš„æœ‰å¦‚ä¸‹ä¸¤ä¸ªï¼š 6.3 SqlSessionä¼šè¯å¯¹è±¡SqlSession å®ä¾‹åœ¨ MyBatis ä¸­æ˜¯éå¸¸å¼ºå¤§çš„ä¸€ä¸ªç±»ã€‚åœ¨è¿™é‡Œä½ ä¼šçœ‹åˆ°æ‰€æœ‰æ‰§è¡Œè¯­å¥ã€æäº¤æˆ–å›æ»šäº‹åŠ¡å’Œè·å–æ˜ å°„å™¨å®ä¾‹çš„æ–¹æ³•ã€‚ æ‰§è¡Œè¯­å¥çš„æ–¹æ³•ä¸»è¦æœ‰ï¼š &lt;T&gt; T selectOne(String statement, Object parameter) &lt;E&gt; List&lt;E&gt; selectList(String statement, Object parameter) int insert(String statement, Object parameter) int update(String statement, Object parameter) int delete(String statement, Object parameter) æ“ä½œäº‹åŠ¡çš„æ–¹æ³•ä¸»è¦æœ‰ï¼š void commit() void rollback() ####","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://www.lovelves.cn/tags/springboot/"},{"name":"mybatis","slug":"mybatis","permalink":"https://www.lovelves.cn/tags/mybatis/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"å‰ç«¯ç¬”è®°es6è¯­æ³•å­¦ä¹ ","slug":"å‰ç«¯ç¬”è®°es6è¯­æ³•å­¦ä¹ ","date":"2021-06-16T12:52:32.000Z","updated":"2021-06-16T12:54:54.620Z","comments":true,"path":"2021/06/16/å‰ç«¯ç¬”è®°es6è¯­æ³•å­¦ä¹ /","link":"","permalink":"https://www.lovelves.cn/2021/06/16/å‰ç«¯ç¬”è®°es6è¯­æ³•å­¦ä¹ /","excerpt":"","text":"es6 å­¦ä¹ 1ï¼Œvar const let çš„åŒºåˆ« å˜é‡æå‡console.log(i); var i=100; ä»¥ä¸Šä»£ç  åœ¨æ­£è§„çš„è¯­æ³•ä¸­ ç†åº”æŠ¥é”™ å› ä¸ºå˜é‡iæœªå£°æ˜è¿‡ ç„¶è€Œå¹¶æ²¡æœ‰æŠ¥é”™ æ‰“å°å‡ºundefinedè¿™æ˜¯ç”±äºvarå…³é”®å­—çš„ä½œç”¨ varå£°æ˜çš„å˜é‡ æ— è®ºåœ¨ç¨‹åºçš„å“ªä¸€è¡Œ éƒ½ä¼šæŠŠå£°æ˜ç½®é¡¶ ç¨‹åºè¿™æ ·ç¿»è¯‘var i; console.log(i); i=100 ç„¶è€Œä»¥ä¸Šä»£ç ä¸­ var å…³é”®å­— æ”¹ä¸ºlet å°±ä¼šæœç»è¿™ç§æƒ…å†µçš„å‡ºç° åœ¨å“ªè¡Œå£°æ˜ å°±åœ¨å“ªè¡Œ å¹¶ä¸ä¼šç½®é¡¶ varã€letå£°æ˜çš„å°±æ˜¯å˜é‡ï¼Œå˜é‡ä¸€æ—¦åˆå§‹åŒ–ä¹‹åï¼Œè¿˜å¯ä»¥é‡æ–°èµ‹å€¼ Const å£°æ˜çš„æ˜¯å¸¸é‡ constå£°æ˜åå¿…é¡»ç«‹å³åˆå§‹åŒ– const å£°æ˜çš„å¸¸é‡å¯ä»¥ä¿®æ”¹ ä½†ä¸èƒ½é‡æ–°èµ‹å€¼ é‡å¤å£°æ˜ var å…è®¸é‡å¤å£°æ˜ï¼Œletã€const ä¸å…è®¸ var æ²¡æœ‰å—çº§ä½œç”¨åŸŸ let/const æœ‰å—çº§ä½œç”¨åŸŸ ç”¨varå®šä¹‰çš„å˜é‡ åœ¨windowså¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰ const let åˆ™æ²¡æœ‰ 2ï¼Œæ¨¡æ¿å­—ç¬¦ä¸² æ¨¡æ¿å­—ç¬¦ä¸²ä¸ä¸€èˆ¬å­—ç¬¦ä¸²ä¸€æ · å”¯ä¸€åŒºåˆ« æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥æ³¨å…¥å˜é‡ const person = { username: &#39;Alex&#39;, age: 18, sex: &#39;male&#39; }; const info = &#39;æˆ‘çš„åå­—æ˜¯ï¼š&#39; + person.username + &#39;, æ€§åˆ«ï¼š&#39; + person.sex + &#39;, ä»Šå¹´&#39; + person.age + &#39;å²äº†&#39;; console.log(info); æ™®é€šå­—ç¬¦ä¸²åªèƒ½ é€šè¿‡åŠ å·å’Œå˜é‡æ‹¼æ¥ ä½†æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ³¨å…¥å˜é‡ const info = `æˆ‘çš„åå­—æ˜¯ï¼š${person.username}, æ€§åˆ«ï¼š${person.sex}, ä»Šå¹´${person.age}å²äº†`; console.log(info); æ¨¡æ¿å­—ç¬¦ä¸²çš„æ³¨æ„äº‹é¡¹è¾“å‡ºå¤šè¡Œå­—ç¬¦ä¸² ä¸€èˆ¬å­—ç¬¦ä¸² const info = &#39;ç¬¬1è¡Œ\\nç¬¬2è¡Œ&#39;; console.log(info); æ¨¡æ¿å­—ç¬¦ä¸² const info = `ç¬¬1è¡Œ\\nç¬¬2è¡Œ`; const info = `ç¬¬1è¡Œ ç¬¬2è¡Œ`; console.log(info); æ¨¡æ¿å­—ç¬¦ä¸²ä¸­ï¼Œæ‰€æœ‰çš„ç©ºæ ¼ã€æ¢è¡Œæˆ–ç¼©è¿›éƒ½ä¼šè¢«ä¿ç•™åœ¨è¾“å‡ºä¹‹ä¸­æ¨¡æ¿å­—ç¬¦ä¸²çš„æ³¨å…¥(æ–¹æ³• è¡¨è¾¾å¼ å¯¹è±¡) ${} const username = &#39;alex&#39;; const person = { age: 18, sex: &#39;male&#39; }; const getSex = function (sex) { return sex === &#39;male&#39; ? &#39;ç”·&#39; : &#39;å¥³&#39;; }; const info = `${username}, ${person.age + 2}, ${getSex(person.sex)}`; console.log(info); åªè¦æœ€ç»ˆå¯ä»¥å¾—å‡ºä¸€ä¸ªå€¼çš„å°±å¯ä»¥é€šè¿‡ ${} æ³¨å…¥åˆ°æ¨¡æ¿å­—ç¬¦ä¸²ä¸­ 3ï¼Œç®­å¤´å‡½æ•° .è®¤è¯†ç®­å¤´å‡½æ•°`javascript const add = (x, y) =&gt; {return x + y; }; console.log(add(1, 1)); ç®­å¤´å‡½æ•°çš„ç»“æ„ const/let å‡½æ•°å = å‚æ•° =&gt; å‡½æ•°ä½“ å¦‚ä½•å°†ä¸€èˆ¬å‡½æ•°æ”¹å†™æˆç®­å¤´å‡½æ•° å£°æ˜å½¢å¼ ```javascript function add() {} å£°æ˜å½¢å¼-&gt;å‡½æ•°è¡¨è¾¾å¼å½¢å¼ const add = function () {}; å‡½æ•°è¡¨è¾¾å¼å½¢å¼-&gt;ç®­å¤´å‡½æ•° const add = () =&gt; {}; 1.å•ä¸ªå‚æ•°(å•ä¸ªå‚æ•°å¯ä»¥çœç•¥åœ†æ‹¬å·) const add = x =&gt; { return x + 1; }; console.log(add(1)); æ— å‚æ•°æˆ–å¤šä¸ªå‚æ•°ä¸èƒ½çœç•¥åœ†æ‹¬å· const add = () =&gt; { return 1 + 1; }; const add = (x, y) =&gt; { return x + y; }; console.log(add(1, 1)); 3.å•è¡Œå‡½æ•°ä½“å•è¡Œå‡½æ•°ä½“å¯ä»¥åŒæ—¶çœç•¥ {} å’Œ return const add = (x, y) =&gt; { return x + y; }; const add = (x, y) =&gt; x + y; console.log(add(1, 1)); 4.å¤šè¡Œå‡½æ•°ä½“ä¸èƒ½å†åŒ–ç®€äº† const add = (x, y) =&gt; { const sum = x + y; return sum; }; 5.å•è¡Œå¯¹è±¡(å¦‚æœç®­å¤´å‡½æ•°è¿”å›å•è¡Œå¯¹è±¡ï¼Œå¯ä»¥åœ¨ {} å¤–é¢åŠ ä¸Š ()ï¼Œè®©æµè§ˆå™¨ä¸å†è®¤ä¸ºé‚£æ˜¯å‡½æ•°ä½“çš„èŠ±æ‹¬å·) const add = (x, y) =&gt; { return { value: x + y }; }; const add = (x, y) =&gt; ({ value: x + y }); 4 éç®­å¤´å‡½æ•°ä¸­çš„ this æŒ‡å‘1.å…¨å±€ä½œç”¨åŸŸä¸­çš„ this æŒ‡å‘ console.log(this); // window 2.ä¸€èˆ¬å‡½æ•°ï¼ˆéç®­å¤´å‡½æ•°ï¼‰ä¸­çš„ this æŒ‡å‘ &#39;use strict&#39;; function add() { console.log(this); } add(); 3.ä¸¥æ ¼æ¨¡å¼å°±æŒ‡å‘ undefined add(); // undefined-&gt;windowï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ const calc = { add: add }; calc.add(); // æŒ‡å‘ calc const adder = calc.add; adder(); // undefined-&gt;windowï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ document.onclick = function () { console.log(this); }; document.onclick(); function Person(username) { this.username = username; console.log(this); } const p = new Person(&#39;Alex&#39;); åªæœ‰åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ this æŒ‡å‘æ‰ç¡®å®šï¼Œä¸è°ƒç”¨çš„æ—¶å€™ï¼Œä¸çŸ¥é“æŒ‡å‘è°this æŒ‡å‘å’Œå‡½æ•°åœ¨å“ªå„¿è°ƒç”¨æ²¡å…³ç³»ï¼Œåªå’Œè°åœ¨è°ƒç”¨æœ‰å…³æ²¡æœ‰å…·ä½“è°ƒç”¨å¯¹è±¡çš„è¯ï¼Œthis æŒ‡å‘ undefinedï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè½¬å‘ window ç®­å¤´å‡½æ•°æ²¡æœ‰thisæŒ‡å‘ è§£æ„èµ‹å€¼1.æ¨¡å¼ï¼ˆç»“æ„ï¼‰åŒ¹é… {}={} []=[] å±æ€§åç›¸åŒçš„å®Œæˆèµ‹å€¼ const { age, username } = { username: &#39;Alex&#39;, age: 18 }; å–åˆ«å const { age: age, username: uname } = { username: &#39;Alex&#39;, age: 18 }; é»˜è®¤å€¼çš„ç”Ÿæ•ˆæ¡ä»¶ å¯¹è±¡çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äº undefined æ—¶ï¼Œå¯¹åº”çš„é»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆ const { username = &#39;ZhangSan&#39;, age = 0 } = { username: &#39;alex&#39; }; console.log(username, age); é»˜è®¤å€¼è¡¨è¾¾å¼ å¦‚æœé»˜è®¤å€¼æ˜¯è¡¨è¾¾å¼ï¼Œé»˜è®¤å€¼è¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ å¦‚æœå°†ä¸€ä¸ªå·²ç»å£°æ˜çš„å˜é‡ç”¨äºå¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œæ•´ä¸ªèµ‹å€¼éœ€åœ¨åœ†æ‹¬å·ä¸­è¿›è¡Œ let x = 2; ({ x } = { x: 1 }); [x] = [1]; console.log(x); åº”ç”¨ 1.å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼ const logPersonInfo = ({ age = 0, username = &#39;ZhangSan&#39; }) =&gt; console.log(username, age); å‰©ä½™å‚æ•°å‰©ä½™å‚æ•°æ°¸è¿œæ˜¯ä¸ªæ•°ç»„ å³ä½¿æ²¡æœ‰å€¼ä¹Ÿæ˜¯ç©ºæ•°ç»„ const a = (...args)=&gt;{ console.log(args); } a(1,3,5,6) æ³¨æ„ ç®­å¤´å‡½æ•°çš„å‚æ•°éƒ¨åˆ†å³ä½¿åªæœ‰ä¸€ä¸ªå‰©ä½™å‡½æ•°ï¼Œä¹Ÿä¸èƒ½çœç•¥ï¼ˆï¼‰ ä½¿ç”¨å‰©ä½™å‡½æ•°ä»£æ›¿å‡½æ•°çš„arguments const a = function(){ console.log(arguments); } a(1,2); ç”±äºarguments åœ¨ç®­å¤´å‡½æ•°ä¸­ä¸å¯ç”¨ ç”¨å‰©ä½™å‡½æ•°ä»£æ›¿ â€‹ å‰©ä½™å‡½æ•°å¿…é¡»æ˜¯å‚æ•°çš„æœ€åä½ç½® å¦åˆ™ä¼šæŠ¥é”™ å‰©ä½™å‚æ•°å’Œç»“æ„èµ‹å€¼çš„ç»“åˆä½¿ç”¨ let [f,b,...c]=[1,2,3,4,5]; console.log(c); //[3,4,5] let {h,y,...p}={x:2,y:3,h:8,o:9} console.log(p);//{x: 2, o: 9} å‰©ä½™å‚æ•°çš„åº”ç”¨ const a = (...args)=&gt;{ let sum=0; for(let i =0;i&lt;args.length;i++){ sum=args[i]+sum; } return sum; } let sum=a(1,7,8); console.log(sum); è®¤è¯†å±•å¼€è¿ç®—ç¬¦å°±æ˜¯æŠŠæ•°ç»„å½¢å¼å±•å¼€ å¦‚ ã€1ï¼Œ2ï¼Œ3ã€‘â€”&gt;. (1,2,3) ä¾‹å­ console.log(Math.min(...[3,1,2])) è·Ÿå‰©ä½™å‡½æ•°çš„æ ¹æœ¬åŒºåˆ« å‰©ä½™å‡½æ•° æ˜¯ 3ï¼Œ1ï¼Œ3 â€”â€”&gt; [3,1,3] å±•å¼€è¿ç®—ç¬¦æ˜¯ [3,1,3] â€”â€”â€”&gt; 3,1,3 ä¾‹å­ //å‰©ä½™å‚æ•° const add = (...args)=&gt;{ //å±•å¼€è¿ç®—ç¬¦ console.log(...args); //1,2,3 console.log([...[1,2,3],4,5,6])//1,2,3,4,5,6 } add([1,2,3]); æ•°ç»„è¿ç®—ç¬¦çš„åº”ç”¨ å¤åˆ¶æ•°ç»„ ä¾‹å­ const a = [1,2,3]; const b = a; a[0]=3; console.log(b) ä¸Šé¢ä»£ç  åªæ˜¯æŠŠa æ•°ç»„çš„å¼•ç”¨èµ‹å€¼ç»™b. è¯´ç™½äº† å°±æ˜¯ç»™a å–äº†ä¸€ä¸ªåˆ«å b æ­£ç¡®åšæ³• ç”¨æ•°ç»„è¿ç®—ç¬¦ const c = [...a]; a[0]=2; console.log(c); åˆå¹¶æ•°ç»„ const a = [1,2]; const b = [3,4,5]; const c = [5,6]; const d = [...a,...b,...c];// æŠŠabcåˆå¹¶ä¸€ä¸ªæ•°ç»„ å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°ç»„ console.log([...&#39;lovelves&#39;]) å°†å‡½æ•°çš„argumentsã€Nodelist è½¬åŒ–ä¸ºæ•°ç»„ const b = function(){ console.log([...arguments]) } å±•å¼€å¯¹è±¡ å¯¹è±¡å¿…é¡»åœ¨{}ä¸­å±•å¼€ å±•å¼€åå°±æ˜¯æŠŠå±æ€§ç½—åˆ—å‡ºæ¥ ç”¨é€—å·åˆ†éš”æ”¾åœ¨{}ä¸­ æ„æˆæ–°çš„å¯¹è±¡ const apple ={ color:&#39;çº¢è‰²&#39;, shape:&#39;çƒå½¢&#39; } console.log({...apple}===apple)//false åˆå¹¶å¯¹è±¡ const apple ={ color:&#39;çº¢è‰²&#39;, shape:&#39;çƒå‹&#39; }; const pen ={ color:&#39;é»‘è‰²&#39;, shape:&#39;åœ†å½¢&#39; } {...apple,...pen}//åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡ æ–°å¯¹è±¡æ‹¥æœ‰å…¨éƒ¨çš„å±æ€§ ç›¸åŒå±æ€§ åè€…è¦†ç›– æ³¨æ„äº‹é¡¹ ç©ºå¯¹è±¡çš„å±•å¼€ï¼ˆå¦‚æœå±•å¼€ä¸€ä¸ªç©ºå¯¹è±¡ åˆ™æ²¡æœ‰ä»»ä½•æ•ˆæœï¼‰ éå¯¹è±¡å±•å¼€ï¼ˆå¦‚æœå±•å¼€çš„ä¸æ˜¯å¯¹è±¡ åˆ™ä¼šè‡ªåŠ¨è½¬æ¢æˆå¯¹è±¡ å¹¶æŠŠå±æ€§ç½—åˆ—å‡ºæ¥ï¼‰ console.log(...1); console.log(...undefined); console.log(...null); //ä¸Šé¢å¾—å‡ºç»“æœä¸ºç©º {} å¦‚æœå±•å¼€çš„è¿ç®—ç¬¦åé¢æ˜¯å­—ç¬¦ä¸² å®ƒä¼šè‡ªåŠ¨è½¬æˆä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ console.log({...&#39;lovelves&#39;})//{0:l,1:o .....} ä¸ä¼šå±•å¼€å¯¹è±¡ä¸­çš„å¯¹è±¡å±æ€§ const pen ={ color:&#39;é»‘è‰²&#39;, shape:&#39;åœ†å½¢&#39; hide: { color:&#39;black&#39;, shape: true } } {...pen}// {color:&#39;é»‘è‰²&#39;ï¼Œshapeï¼š&#39;åœ†å½¢&#39;ï¼Œhide{...}} å¯¹è±¡å±•å¼€è¿ç®—ç¬¦çš„åº”ç”¨ 1.å¤åˆ¶å¯¹è±¡ 2.ç”¨æˆ·å‚æ•°å’Œé»˜è®¤å‚æ•° const logUser = userParam=&gt;{ const defaultParam={ username:&#39;zhangsan&#39;, age:0, sex:&#39;male&#39; }; const param ={...defaultParam,...userParam} console.log(param.username) }; logUser(); SetSet æ˜¯ä¸€ç³»åˆ—æ— åºã€æ²¡æœ‰é‡å¤å€¼çš„æ•°æ®é›†åˆ const s = new Set(); s.add(1); s.add(2); s.add(1);//è¿™é‡Œæ—¢æ—¶åŠ å…¥äº† ä¹Ÿæ²¡ä½œç”¨ Setä¸­ä¸å…è®¸æœ‰é‡å¤æˆå‘˜ console.log(s); Set æ²¡æœ‰ä¸‹æ ‡å»æ ‡ç¤ºæ¯ä¸€ä¸ªå€¼ æ‰€ä»¥Setæ˜¯æ— åºçš„ï¼Œä¹Ÿä¸èƒ½åƒæ•°ç»„é‚£æ ·ç”¨è¿‡ä¸‹æ ‡è®¿é—®æˆå‘˜å˜é‡ æ–¹æ³• 1.add(åœ¨setä¸­æ·»åŠ å…ƒç´ ) const s = new Set(); s.add(1).add(3); 2.has(åˆ¤æ–­æ˜¯å¦å­˜åœ¨) s.has(1); 3.deleteï¼ˆåˆ é™¤æŸä¸ªå…ƒç´  å³ä½¿ä¸å­˜åœ¨ ä¹Ÿä¸ä¼šæŠ¥é”™ï¼‰ s.delete(1); 4.clear (æ¸…é™¤setä¸­çš„æ‰€æœ‰å…ƒç´ ) s.clear(); 5.forEach(æŒ‰ç…§æˆå‘˜æ·»åŠ è¿›é›†åˆçš„é¡ºåºéå†) s.forEach(function(value,key,set){ console.log(value,key,set===s);//åœ¨setä¸­ valueå’Œkeyä¸€æ · console.log(this);//thisæŒ‡å‘document å› ä¸ºå‡½æ•°ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°å†™äº†doucument },document); console.log(s); å±æ€§ 1.sizeï¼ˆæ˜¾ç¤ºæˆå‘˜çš„ä¸ªæ•°ï¼‰ s.size æ„é€ å‡½æ•° é€šè¿‡æ„é€ å‡½æ•°åˆå§‹åŒ–æˆå‘˜ä¼ å…¥æ•°ç»„ã€å­—ç¬¦ä¸²ã€argumentsã€ Nodelistã€ set ç­‰ const s = new Set([1,2,1]); console.log(s); const b = new Set(s);//å¤åˆ¶äº†ä¸€ä»½s console.log(b===s); //false æ³¨æ„äº‹é¡¹ å¦‚ä½•åˆ¤æ–­é‡å¤çš„æ–¹å¼ setä¸­å¯¹é‡å¤å€¼çš„åˆ¤æ–­åŸºæœ¬æ ‡å‡†éµå¾ªä¸¥æ ¼ç›¸ç­‰=== ä½†æ˜¯å¯¹äºNaN åœ¨setä¸­ NaN===NaN è€Œå®é™…NaNä¸ç­‰äºNaN const s = new Set([NaN,1,NaN]) console.log(s) //åªæœ‰2ä¸ªæ•°æ® 1 NaN console.log(NaN===NaN)//false ä»€ä¹ˆæ—¶å€™ä½¿ç”¨set 1.æ•°ç»„æˆ–å­—ç¬¦ä¸²å»é‡æ—¶ 2.ä¸éœ€è¦ä¸‹æ ‡è®¿é—® åªéœ€è¦éå†æ—¶ 3.ä¸ºäº†ä½¿ç”¨setä¸­çš„æ–¹æ³•æ—¶ Mapmap å’Œå¯¹è±¡éƒ½æ˜¯é”®å€¼å¯¹çš„é›†åˆ const m = neew Map(); m.set(&#39;name&#39;,&#39;lovelves&#39;);//é”®æ˜¯name å€¼æ˜¯lovelves console.log(m); mapå’Œå¯¹è±¡çš„åŒºåˆ« åœ¨å¯¹è±¡ä¸­ é”®éƒ½æ˜¯å­—ç¬¦ä¸² const obj = { name;&#39;alex&#39;//name å…¶å®æ˜¯ä¸ªå­—ç¬¦ä¸² } è€Œåœ¨mapä¸­ é”®çš„ç±»å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹ const m = new Map(); m.set({},&#39;object&#39;); mapçš„æ–¹æ³•å’Œå±æ€§ï¼ˆè·Ÿsetä½¿ç”¨ä¸€æ · å°±ä¸ä¸¾ä¾‹äº†ï¼‰ 1.set(æ·»åŠ æˆå‘˜ å¦‚æœé”®ä¸­å·²å­˜åœ¨ åæ·»åŠ ä¼šè¦†ç›–å·²æœ‰çš„) 2.getï¼ˆè·å–æˆå‘˜ å¦‚æœè·å–ä¸å­˜åœ¨çš„ä¼šè¿”å›undefinedï¼‰ 3.hasï¼ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼‰ 4.deleteï¼ˆåˆ é™¤æˆå‘˜ï¼‰ 5.clearï¼ˆæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼‰ 6.foreachï¼ˆéå†ï¼‰ å±æ€§ sizeï¼ˆè·å–å¤šå°‘æˆå‘˜ï¼‰ æ„é€ å‡½æ•° å¯ä»¥ä¼ å…¥æ•°ç»„ è¿™é‡Œçš„æ•°ç»„å¿…é¡»æ˜¯äºŒç»´æ•°ç»„ set ã€map ä¸­ ä½¿ç”¨æ–¹æ³•è·Ÿsetä¸€æ · æ³¨æ„äº‹é¡¹ åˆ¤æ–­é”®åæ˜¯å¦ç›¸åŒçš„æ–¹å¼ï¼ˆè·Ÿsetä¸­ä¸€æ ·ï¼‰ ä»€ä¹ˆæ—¶å€™ä½¿ç”¨map å¦‚æœéœ€è¦key-&gt;valueçš„ç»“æ„ æˆ–è€…éœ€è¦å­—ç¬¦ä¸²ä»¥å¤–çš„å€¼åšé”® ä½¿ç”¨map ä½¿ç”¨mapä¸­çš„æ–¹æ³• å¦‚éå† mapå¼€å‘ä¸­çš„åº”ç”¨ æŠŠdomå…ƒç´ æ”¾å…¥åˆ°mapä¸­åº”ç”¨ &lt;p&gt;1&lt;/p&gt; &lt;p&gt;2&lt;/p&gt; &lt;p&gt;3&lt;/p&gt; &lt;p&gt;4&lt;/p&gt; &lt;script&gt; const [p1,p2,p3,p4]=document.querySelectorAll(&#39;p&#39;); const b = new Map( [[p1,{color:&quot;red&quot;,backgroundColor:&quot;red&quot;}], [p2,{color:&quot;blue&quot;,backgroundColor:&quot;blue&quot;}], [p3,{color:&quot;black&quot;,backgroundColor:&quot;black&quot;}], [p4,{color:&quot;yellow&quot;,backgroundColor:&quot;yellow&quot;}] ] ); console.log(b); b.forEach(function(val,ele,map){ for (const v in val) { ele.style[v]=val[v]; } },document) &lt;/script&gt; IteratorIterator éå†å™¨ è¿­ä»£å™¨ ä»€ä¹ˆæ˜¯iterator Symbol.iterator(å¯éå†å¯¹è±¡çš„ç”Ÿæˆæ–¹æ³•)â€”&gt;itï¼ˆå¯éå†å¯¹è±¡ï¼‰â€”&gt;it.next()â€”&gt;it.next()â€¦(ç›´åˆ°doneä¸ºtrue) const it = [1,2][Symbol.iterator](); console.log(it.next());//{value:1,done:false} console.log(it.next());//{value:2,done:false} console.log(it.next());//{value:underfined,done:true} For â€¦of çš„ç”¨æ³• const arr = [1,2,3]; for(const item of arr){ console.log(item); } //å¾ªç¯éå†é‚£äº›doneä¸ºfalseå¯¹åº”çš„å€¼ ä¸break continue ä¸€èµ·ä½¿ç”¨ const arr = [1,2,3]; for(const item of arr){ if(item===2){ break; //continue; } console.log(item); } è·å–æ•°ç»„çš„ç´¢å¼•å’Œå€¼ const arr = [1,2,3]; for(const [index,value] of arr.entries()){ console.log(index,value); } è·å–æ•°ç»„ä¸­ç´¢å¼• const arr = [1,2,3]; for(const [index,value] of arr.keys()){ console.log(index,value); } ä»€ä¹ˆæ˜¯å¯éå†çš„ åªè¦æœ‰Symbol.iteratoræ–¹æ³• å¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”Ÿæˆå¯éå†å¯¹è±¡ å°±æ˜¯å¯éå†çš„ åªè¦å¯éå† å°±å¯ä»¥ä½¿ç”¨ for of æ–¹æ³•éå† åŸç”Ÿå¯éå†çš„æœ‰å“ªäº› 1.æ•°ç»„ 2.å­—ç¬¦ä¸² 3.set 4.map 5.arguments 6.nodelist éåŸç”Ÿå¯éå†çš„æœ‰å“ªäº› ä¸€èˆ¬å¯¹è±¡æ‹¥æœ‰å¯éå† å°±æ˜¯è‡ªå·±å†™ const obj = { age:18, name:&#39;lovelves&#39;, address:&#39;beijing&#39; } obj[Symbol.iterator]=()=&gt;{ let index=0; return { next: function(){ index++; if (index===1){ return { value: obj.age, done: false } }else if(index===2){ return{ value: obj.name, done: false } }else if(index===3){ return{ value: obj.address, done: false } }else{ return{ value: undefined, done: true } } } } } for (const i of obj) { console.log(i); } ä½¿ç”¨äº†lteratorçš„åœºåˆ 1.æ•°ç»„å±•å¼€è¿ç®—ç¬¦ 2.æ•°ç»„çš„è§£æ„èµ‹å€¼ 3ã€‚setå’Œmapä¸­çš„æ„é€ å‡½æ•° å­—ç¬¦ä¸²çš„æ–°æ–¹æ³•includesæ–¹æ³• åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå­—ç¬¦ä¸² ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ¤æ–­åŒ…å«çš„å­—ç¬¦ä¸² ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»å“ªä¸ªä½ç½®å¼€å§‹åˆ¤æ–­ åº”ç”¨ æ‹¼æ¥urlåœ°å€ let url = &quot;https://wwww.lovelves.com/course/list&quot;; const addUrlParam = (url,name,value)=&gt;{ url+= url.includes(&quot;?&quot;)?&#39;&amp;&#39;:&#39;?&#39;; url+=`${name}=${value}`; return url; } url = addUrlParam(url,&#39;c&#39;,&#39;fe&#39;); console.log(url); è¡¥å…¨å­—ç¬¦ä¸²é•¿åº¦ padStart() padEnd() ç¬¬ä¸€ä¸ªå‚æ•° è¡¥å…¨åçš„æ€»ä¸ªæ•° ç¬¬äºŒä¸ªå‚æ•° è¦è¡¥å…¨çš„å†…å®¹ æ³¨æ„äº‹é¡¹ ç¬¬ä¸€ä¸ªå‚æ•° å°‘äºåŸå­—ç¬¦ä¸²çš„é•¿åº¦ åˆ™ä¸ä¼šç”Ÿæ•ˆ è¿”å›åŸæ¥çš„å­—ç¬¦ä¸² console.log(&#39;xxx&#39;.padStart(2,&#39;ab&#39;)); //ä¸ä¼šç”Ÿæ•ˆ è¿”å›åŸæ¥å­—ç¬¦ä¸² xxx å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸å¡«çš„è¯è‡ªåŠ¨è¡¥å…¨ç©ºæ ¼ åº”ç”¨ æ•°å­—å‰é¢ä¸å¤Ÿä½æ•°è¡¥0 console.log(&#39;1&#39;.padStart(2,&#39;0&#39;)); æ¸…é™¤å­—ç¬¦ä¸²çš„é¦–å°¾ç©ºæ ¼ trimStart() æ¸…é™¤å‰é¢ç©ºæ ¼ trimEnd() æ¸…é™¤åé¢ç©ºæ ¼ trim()æ¸…é™¤å‰åç©ºæ ¼ let b = &#39; a &#39;; console.log(b.trimStart()); æ•°ç»„çš„æ–°å¢æ–¹æ³•includes() ç¬¬ä¸€ä¸ªå‚æ•° è¦åˆ¤æ–­çš„å…ƒç´  ç¬¬äºŒä¸ªå‚æ•° ä»å“ªä¸ªä½ç½®å¼€å§‹ é»˜è®¤æ˜¯ä»0 console.log([1,2,3].includes(2));//true åº”ç”¨ å»é‡ const a = o=&gt;{ const n =[]; for (const i of o) { if(!n.includes(i)){ n.push(i); } } return n; } let arr=a([1,2,2,2,3,4,5,5,6,3,2]); console.log(arr); å°†å…¶ä»–æ•°æ®ç±»å‹è½¬åŒ–ä¸ºæ•°ç»„ Array.from(); ç¬¬ä¸€å‚æ•° è¦è½¬æ¢ä¸ºæ•°ç»„çš„çš„æ•°æ® åªè¦å¯éå†çš„çš„éƒ½å¯ä»¥è½¬æ¢æˆæ•°ç»„ æ•°ç»„ å­—ç¬¦ä¸² set map nodelist arguments console.log(Array.from(&quot;str&quot;)); æ‹¥æœ‰lengthå±æ€§çš„å¯¹è±¡å¯ä»¥è½¬æ¢æˆæ•°ç»„ const obj={ &#39;0&#39;:&quot;a&quot;, &#39;1&#39;:&#39;b&#39;, length:2 }; console.log(Array.from(obj)); ç¬¬äºŒä¸ªå‚æ•° æ˜¯ä¸ªå›è°ƒå‡½æ•° å¯¹è½¬æ¢æˆæ•°ç»„çš„æ•°æ®äºŒæ¬¡å¤„ç† console.log(Array.from(&#39;12&#39;,value=&gt;value*2)); ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ å†³å®šthisçš„æŒ‡å‘ find() æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä¸€ä¸ªç«‹å³è¿”å› console.log([1,2,3,4,5,6].find((value,index,arr)=&gt;{retrun value&gt;3;}));//4 findIndex() æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç«‹å³è¿”å›ä¸‹æ ‡ console.log([1,2,3,4,5,6].find((value,index,arr)=&gt;{retrun value&gt;3;}));//3 åº”ç”¨ const students=[ { name:&#39;aaa&#39;, sex:&#39;ç”·&#39;, age:16 }, { name:&#39;bbb&#39;, sex:&#39;å¥³&#39;, age:16 }, { name:&#39;aaaddd&#39;, sex:&#39;ç”·&#39;, age:16 } ] console.log(students.find(value=&gt;value.sex===&#39;å¥³&#39;)); //è¿”å›sexä¸ºå¥³çš„æ•°æ® å¯¹è±¡çš„æ–°å¢æ–¹æ³•Object.assign() ç¬¬ä¸€ä¸ªå‚æ•° ç›®æ ‡å¯¹è±¡ ç¬¬äºŒä¸ªå‚æ•° æºå¯¹è±¡ ç”¨äºåˆå¹¶å¯¹è±¡ const apple ={ color:&#39;red&#39;, shape:&#39;c&#39;, taste:&#39;dd&#39; } const pen ={ color:&#39;blue&#39;, shape:&#39;c&#39;, taste:&#39;dd&#39; } console.log(Object.assign(apple,pen));//æŠŠappleå’Œpenåˆå¹¶ä¸ºä¸€ä¸ªå¯¹è±¡å¹¶ä¸”èµ‹å€¼ç»™apple Object.keys() //è¿”å›é”® Object.values() // è¿”å›å€¼ Object.entries() //è¿”å›é”®å’Œå€¼ å’Œæ•°ç»„çš„keys() values() entries() çš„åŒºåˆ« æ•°ç»„è¿”å›çš„æ˜¯iterator å¯¹è±¡æ˜¯è¿”å›æ•°ç»„ const apple ={ color:&#39;red&#39;, shape:&#39;c&#39;, taste:&#39;dd&#39; } console.log(object.values(apple)); //[red,c,dd]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://www.lovelves.cn/tags/JavaScript/"},{"name":"ES6","slug":"ES6","permalink":"https://www.lovelves.cn/tags/ES6/"},{"name":"å‰ç«¯ç¬”è®°","slug":"å‰ç«¯ç¬”è®°","permalink":"https://www.lovelves.cn/tags/å‰ç«¯ç¬”è®°/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"springmvc_03","slug":"springmvc-day03","date":"2021-06-15T04:02:56.000Z","updated":"2021-06-16T06:47:42.000Z","comments":true,"path":"2021/06/15/springmvc-day03/","link":"","permalink":"https://www.lovelves.cn/2021/06/15/springmvc-day03/","excerpt":"","text":"SpringMVCçš„æ–‡ä»¶ä¸Šä¼ 1-SpringMVCçš„è¯·æ±‚-æ–‡ä»¶ä¸Šä¼ -å®¢æˆ·ç«¯è¡¨å•å®ç°(åº”ç”¨)æ–‡ä»¶ä¸Šä¼ å®¢æˆ·ç«¯è¡¨å•éœ€è¦æ»¡è¶³ï¼š è¡¨å•é¡¹type=â€œfileâ€ è¡¨å•çš„æäº¤æ–¹å¼æ˜¯post è¡¨å•çš„enctypeå±æ€§æ˜¯å¤šéƒ¨åˆ†è¡¨å•å½¢å¼ï¼ŒåŠenctype=â€œmultipart/form-dataâ€ &lt;form action=&quot;${pageContext.request.contextPath}/user/quick22&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; åç§°&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br/&gt; æ–‡ä»¶1&lt;input type=&quot;file&quot; name=&quot;uploadFile&quot;&gt;&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt; 2-SpringMVCçš„è¯·æ±‚-æ–‡ä»¶ä¸Šä¼ -æ–‡ä»¶ä¸Šä¼ çš„åŸç†(ç†è§£) 3-SpringMVCçš„è¯·æ±‚-æ–‡ä»¶ä¸Šä¼ -å•æ–‡ä»¶ä¸Šä¼ çš„ä»£ç å®ç°1(åº”ç”¨)æ·»åŠ ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt; &lt;/dependency&gt; é…ç½®å¤šåª’ä½“è§£æå™¨ &lt;!--é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨--&gt; &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt; &lt;property name=&quot;defaultEncoding&quot; value=&quot;UYF-8&quot;/&gt; &lt;property name=&quot;maxUploadSize&quot; value=&quot;500000&quot;/&gt; &lt;/bean&gt; åå°ç¨‹åº @RequestMapping(value=&quot;/quick22&quot;) @ResponseBody public void save22(String username, MultipartFile uploadFile) throws IOException { System.out.println(username); System.out.println(uploadFile); } 4-SpringMVCçš„è¯·æ±‚-æ–‡ä»¶ä¸Šä¼ -å•æ–‡ä»¶ä¸Šä¼ çš„ä»£ç å®ç°2(åº”ç”¨)å®Œæˆæ–‡ä»¶ä¸Šä¼  @RequestMapping(value=&quot;/quick22&quot;) @ResponseBody public void save22(String username, MultipartFile uploadFile) throws IOException { System.out.println(username); //è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åç§° String originalFilename = uploadFile.getOriginalFilename(); uploadFile.transferTo(new File(&quot;C:\\\\upload\\\\&quot;+originalFilename)); } 5-SpringMVCçš„è¯·æ±‚-æ–‡ä»¶ä¸Šä¼ -å¤šæ–‡ä»¶ä¸Šä¼ çš„ä»£ç å®ç°(åº”ç”¨)å¤šæ–‡ä»¶ä¸Šä¼ ï¼Œåªéœ€è¦å°†é¡µé¢ä¿®æ”¹ä¸ºå¤šä¸ªæ–‡ä»¶ä¸Šä¼ é¡¹ï¼Œå°†æ–¹æ³•å‚æ•°MultipartFileç±»å‹ä¿®æ”¹ä¸ºMultipartFile[]å³å¯ &lt;form action=&quot;${pageContext.request.contextPath}/user/quick23&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; åç§°&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br/&gt; æ–‡ä»¶1&lt;input type=&quot;file&quot; name=&quot;uploadFile&quot;&gt;&lt;br/&gt; æ–‡ä»¶2&lt;input type=&quot;file&quot; name=&quot;uploadFile&quot;&gt;&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt; @RequestMapping(value=&quot;/quick23&quot;) @ResponseBody public void save23(String username, MultipartFile[] uploadFile) throws IOException { System.out.println(username); for (MultipartFile multipartFile : uploadFile) { String originalFilename = multipartFile.getOriginalFilename(); multipartFile.transferTo(new File(&quot;C:\\\\upload\\\\&quot;+originalFilename)); } } 6-SpringMVCçš„è¯·æ±‚-çŸ¥è¯†è¦ç‚¹(ç†è§£ï¼Œè®°å¿†) SpringMVCçš„æ‹¦æˆªå™¨01-SpringMVCæ‹¦æˆªå™¨-æ‹¦æˆªå™¨çš„ä½œç”¨(ç†è§£)Spring MVC çš„æ‹¦æˆªå™¨ç±»ä¼¼äº Servlet å¼€å‘ä¸­çš„è¿‡æ»¤å™¨ Filterï¼Œç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚ å°†æ‹¦æˆªå™¨æŒ‰ä¸€å®šçš„é¡ºåºè”ç»“æˆä¸€æ¡é“¾ï¼Œè¿™æ¡é“¾ç§°ä¸ºæ‹¦æˆªå™¨é“¾ï¼ˆInterceptorChainï¼‰ã€‚åœ¨è®¿é—®è¢«æ‹¦æˆªçš„æ–¹æ³•æˆ–å­—æ®µæ—¶ï¼Œæ‹¦æˆªå™¨é“¾ä¸­çš„æ‹¦æˆªå™¨å°±ä¼šæŒ‰å…¶ä¹‹å‰å®šä¹‰çš„é¡ºåºè¢«è°ƒç”¨ã€‚æ‹¦æˆªå™¨ä¹Ÿæ˜¯AOPæ€æƒ³çš„å…·ä½“å®ç°ã€‚ 02-SpringMVCæ‹¦æˆªå™¨-interceptorå’ŒfilteråŒºåˆ«(ç†è§£ï¼Œè®°å¿†)å…³äºinterceptorå’Œfilterçš„åŒºåˆ«ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š 03-SpringMVCæ‹¦æˆªå™¨-å¿«é€Ÿå…¥é—¨(åº”ç”¨)è‡ªå®šä¹‰æ‹¦æˆªå™¨å¾ˆç®€å•ï¼Œåªæœ‰å¦‚ä¸‹ä¸‰æ­¥ï¼š â‘ åˆ›å»ºæ‹¦æˆªå™¨ç±»å®ç°HandlerInterceptoræ¥å£ â‘¡é…ç½®æ‹¦æˆªå™¨ â‘¢æµ‹è¯•æ‹¦æˆªå™¨çš„æ‹¦æˆªæ•ˆæœ ç¼–å†™æ‹¦æˆªå™¨ï¼š public class MyInterceptor1 implements HandlerInterceptor { //åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰ æ‰§è¡Œ public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws ServletException, IOException { System.out.println(&quot;preHandle.....&quot;); } //åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å è§†å›¾å¯¹è±¡è¿”å›ä¹‹å‰æ‰§è¡Œ public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) { System.out.println(&quot;postHandle...&quot;); } //åœ¨æµç¨‹éƒ½æ‰§è¡Œå®Œæ¯•å æ‰§è¡Œ public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) { System.out.println(&quot;afterCompletion....&quot;); } } é…ç½®ï¼šåœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­é…ç½® &lt;!--é…ç½®æ‹¦æˆªå™¨--&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;!--å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ--&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;bean class=&quot;com.itheima.interceptor.MyInterceptor1&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt; ç¼–å†™æµ‹è¯•ç¨‹åºæµ‹è¯•ï¼š ç¼–å†™Controller,å‘è¯·æ±‚åˆ°controller,è·³è½¬é¡µé¢ @Controller public class TargetController { @RequestMapping(&quot;/target&quot;) public ModelAndView show(){ System.out.println(&quot;ç›®æ ‡èµ„æºæ‰§è¡Œ......&quot;); ModelAndView modelAndView = new ModelAndView(); modelAndView.addObject(&quot;name&quot;,&quot;itcast&quot;); modelAndView.setViewName(&quot;index&quot;); return modelAndView; } } é¡µé¢ &lt;html&gt; &lt;body&gt; &lt;h2&gt;Hello World! ${name}&lt;/h2&gt; &lt;/body&gt; &lt;/html&gt; 04-SpringMVCæ‹¦æˆªå™¨-å¿«é€Ÿå…¥é—¨è¯¦è§£(åº”ç”¨)æ‹¦æˆªå™¨åœ¨é¢„å¤„ç†åä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ‰§è¡Œç›®æ ‡èµ„æºï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¸æ‰§è¡Œç›®æ ‡èµ„æºï¼Œä»¥åŠåœ¨æœ‰å¤šä¸ªæ‹¦æˆªå™¨çš„æƒ…å†µä¸‹æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆ? å†ç¼–å†™ä¸€ä¸ªæ‹¦æˆªå™¨2ï¼Œ public class MyInterceptor2 implements HandlerInterceptor { //åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰ æ‰§è¡Œ public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws ServletException, IOException { System.out.println(&quot;preHandle22222.....&quot;); return true; } //åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å è§†å›¾å¯¹è±¡è¿”å›ä¹‹å‰æ‰§è¡Œ public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) { System.out.println(&quot;postHandle2222...&quot;); } //åœ¨æµç¨‹éƒ½æ‰§è¡Œå®Œæ¯•å æ‰§è¡Œ public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) { System.out.println(&quot;afterCompletion2222....&quot;); } } é…ç½®æ‹¦æˆªå™¨2 &lt;!--é…ç½®æ‹¦æˆªå™¨--&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;!--å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ--&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;bean class=&quot;com.itheima.interceptor.MyInterceptor2&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;mvc:interceptor&gt; &lt;!--å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ--&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;bean class=&quot;com.itheima.interceptor.MyInterceptor1&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt; ç»“è®ºï¼š å½“æ‹¦æˆªå™¨çš„preHandleæ–¹æ³•è¿”å›trueåˆ™ä¼šæ‰§è¡Œç›®æ ‡èµ„æºï¼Œå¦‚æœè¿”å›falseåˆ™ä¸æ‰§è¡Œç›®æ ‡èµ„æº å¤šä¸ªæ‹¦æˆªå™¨æƒ…å†µä¸‹ï¼Œé…ç½®åœ¨å‰çš„å…ˆæ‰§è¡Œï¼Œé…ç½®åœ¨åçš„åæ‰§è¡Œ æ‹¦æˆªå™¨ä¸­çš„æ–¹æ³•æ‰§è¡Œé¡ºåºæ˜¯ï¼špreHandlerâ€”â€”-ç›®æ ‡èµ„æºâ€”-postHandleâ€”- afterCompletion 05-SpringMVCæ‹¦æˆªå™¨-çŸ¥è¯†å°ç»“(è®°å¿†)æ‹¦æˆªå™¨ä¸­çš„æ–¹æ³•è¯´æ˜å¦‚ä¸‹ 06-SpringMVCæ‹¦æˆªå™¨-ç”¨æˆ·ç™»å½•æƒé™æ§åˆ¶åˆ†æ(ç†è§£)åœ¨day06-Springç»ƒä¹ æ¡ˆä¾‹çš„åŸºç¡€ä¹‹ä¸Šï¼šç”¨æˆ·æ²¡æœ‰ç™»å½•çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å¯¹åå°èœå•è¿›è¡Œè®¿é—®æ“ä½œï¼Œç‚¹å‡»èœå•è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œåªæœ‰ç”¨æˆ·ç™»å½•æˆåŠŸåæ‰èƒ½è¿›è¡Œåå°åŠŸèƒ½çš„æ“ä½œ éœ€æ±‚å›¾ï¼š 07-SpringMVCæ‹¦æˆªå™¨-ç”¨æˆ·ç™»å½•æƒé™æ§åˆ¶ä»£ç å®ç°1(åº”ç”¨)åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½• æœ¬è´¨ï¼šåˆ¤æ–­sessionä¸­æœ‰æ²¡æœ‰userï¼Œå¦‚æœæ²¡æœ‰ç™»é™†åˆ™å…ˆå»ç™»é™†ï¼Œå¦‚æœå·²ç»ç™»é™†åˆ™ç›´æ¥æ”¾è¡Œè®¿é—®ç›®æ ‡èµ„æº å…ˆç¼–å†™æ‹¦æˆªå™¨å¦‚ä¸‹ï¼š public class PrivilegeInterceptor implements HandlerInterceptor { public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws IOException { //é€»è¾‘ï¼šåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½• æœ¬è´¨ï¼šåˆ¤æ–­sessionä¸­æœ‰æ²¡æœ‰user HttpSession session = request.getSession(); User user = (User) session.getAttribute(&quot;user&quot;); if(user==null){ //æ²¡æœ‰ç™»å½• response.sendRedirect(request.getContextPath()+&quot;/login.jsp&quot;); return false; } //æ”¾è¡Œ è®¿é—®ç›®æ ‡èµ„æº return true; } } ç„¶åé…ç½®è¯¥æ‹¦æˆªå™¨ï¼šæ‰¾åˆ°é¡¹ç›®æ¡ˆä¾‹çš„spring-mvc.xmlï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š &lt;!--é…ç½®æƒé™æ‹¦æˆªå™¨--&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;!--é…ç½®å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ--&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;bean class=&quot;com.itheima.interceptor.PrivilegeInterceptor&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt; 08-SpringMVCæ‹¦æˆªå™¨-ç”¨æˆ·ç™»å½•æƒé™æ§åˆ¶ä»£ç å®ç°2(åº”ç”¨)åœ¨ç™»é™†é¡µé¢è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œç‚¹å‡»ç™»é™†ï¼Œé€šè¿‡ç”¨æˆ·åå¯†ç è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœç™»é™†æˆåŠŸï¼Œåˆ™å°†ç”¨æˆ·ä¿¡æ¯å®ä½“å­˜å…¥sessionï¼Œç„¶åè·³è½¬åˆ°é¦–é¡µï¼Œå¦‚æœç™»é™†å¤±è´¥åˆ™ç»§ç»­å›åˆ°ç™»é™†é¡µé¢ åœ¨UserControllerä¸­ç¼–å†™ç™»é™†é€»è¾‘ @RequestMapping(&quot;/login&quot;) public String login(String username,String password,HttpSession session){ User user = userService.login(username,password); if(user!=null){ //ç™»å½•æˆåŠŸ å°†userå­˜å‚¨åˆ°session session.setAttribute(&quot;user&quot;,user); return &quot;redirect:/index.jsp&quot;; } return &quot;redirect:/login.jsp&quot;; } serviceå±‚ä»£ç å¦‚ä¸‹ï¼š //serviceå±‚ public User login(String username, String password) { User user = userDao.findByUsernameAndPassword(username,password); return user; } daoå±‚ä»£ç å¦‚ä¸‹ï¼š //daoå±‚ public User findByUsernameAndPassword(String username, String password) throws EmptyResultDataAccessException{ User user = jdbcTemplate.queryForObject(&quot;select * from sys_user where username=? and password=?&quot;, new BeanPropertyRowMapper&lt;User&gt;(User.class), username, password); return user; } æ­¤æ—¶ä»ç„¶ç™»é™†ä¸ä¸Šï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å°†ç™»é™†è¯·æ±‚urlè®©æ‹¦æˆªå™¨æ”¾è¡Œ,æ·»åŠ èµ„æºæ’é™¤çš„é…ç½® &lt;!--é…ç½®æƒé™æ‹¦æˆªå™¨--&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;!--é…ç½®å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ--&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;!--é…ç½®å“ªäº›èµ„æºæ’é™¤æ‹¦æˆªæ“ä½œ--&gt; &lt;mvc:exclude-mapping path=&quot;/user/login&quot;/&gt; &lt;bean class=&quot;com.itheima.interceptor.PrivilegeInterceptor&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt; 09-SpringMVCæ‹¦æˆªå™¨-ç”¨æˆ·ç™»å½•æƒé™æ§åˆ¶ä»£ç å®ç°3(åº”ç”¨)JdbcTemplate.queryForObjectå¯¹è±¡å¦‚æœæŸ¥è¯¢ä¸åˆ°æ•°æ®ä¼šæŠ›å¼‚å¸¸ï¼Œå¯¼è‡´ç¨‹åºæ— æ³•è¾¾åˆ°é¢„æœŸæ•ˆæœï¼Œå¦‚ä½•æ¥è§£å†³è¯¥é—®é¢˜ï¼Ÿ åœ¨ä¸šåŠ¡å±‚å¤„ç†æ¥è‡ªdaoå±‚çš„å¼‚å¸¸ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸serviceå±‚è¿”å›null,è€Œä¸æ˜¯å°†å¼‚å¸¸æŠ›ç»™controller å› æ­¤æ”¹é€ ç™»é™†çš„ä¸šåŠ¡å±‚ä»£ç ,æ·»åŠ å¼‚å¸¸çš„æ§åˆ¶ public User login(String username, String password) { try { User user = userDao.findByUsernameAndPassword(username,password); return user; }catch (EmptyResultDataAccessException e){ return null; } } 1. SpringMVCå¼‚å¸¸å¤„ç†æœºåˆ¶1.1 å¼‚å¸¸å¤„ç†çš„æ€è·¯ç³»ç»Ÿä¸­å¼‚å¸¸åŒ…æ‹¬ä¸¤ç±»ï¼šé¢„æœŸå¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸RuntimeExceptionï¼Œå‰è€…é€šè¿‡æ•è·å¼‚å¸¸ä»è€Œè·å–å¼‚å¸¸ä¿¡æ¯ï¼Œåè€…ä¸»è¦é€šè¿‡è§„èŒƒä»£ç å¼€å‘ã€æµ‹è¯•ç­‰æ‰‹æ®µå‡å°‘è¿è¡Œæ—¶å¼‚å¸¸çš„å‘ç”Ÿã€‚ ç³»ç»Ÿçš„Daoã€Serviceã€Controllerå‡ºç°éƒ½é€šè¿‡throws Exceptionå‘ä¸ŠæŠ›å‡ºï¼Œæœ€åç”±SpringMVCå‰ç«¯æ§åˆ¶å™¨äº¤ç”±å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Œå¦‚ä¸‹å›¾ï¼š 1.2 å¼‚å¸¸å¤„ç†ä¸¤ç§æ–¹å¼â‘  ä½¿ç”¨Spring MVCæä¾›çš„ç®€å•å¼‚å¸¸å¤„ç†å™¨SimpleMappingExceptionResolver â‘¡ å®ç°Springçš„å¼‚å¸¸å¤„ç†æ¥å£HandlerExceptionResolver è‡ªå®šä¹‰è‡ªå·±çš„å¼‚å¸¸å¤„ç†å™¨ 1.3 ç®€å•å¼‚å¸¸å¤„ç†å™¨SimpleMappingExceptionResolverSpringMVCå·²ç»å®šä¹‰å¥½äº†è¯¥ç±»å‹è½¬æ¢å™¨ï¼Œåœ¨ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®é¡¹ç›®æƒ…å†µè¿›è¡Œç›¸åº”å¼‚å¸¸ä¸è§†å›¾çš„æ˜ å°„é…ç½® &lt;!--é…ç½®ç®€å•æ˜ å°„å¼‚å¸¸å¤„ç†å™¨--&gt; &lt;bean class=â€œorg.springframework.web.servlet.handler.SimpleMappingExceptionResolverâ€&gt; &lt;property name=â€œdefaultErrorViewâ€ value=â€œerrorâ€/&gt; é»˜è®¤é”™è¯¯è§†å›¾ &lt;property name=â€œexceptionMappingsâ€&gt; &lt;map&gt; å¼‚å¸¸ç±»å‹ é”™è¯¯è§†å›¾ &lt;entry key=&quot;com.itheima.exception.MyException&quot; value=&quot;error&quot;/&gt; &lt;entry key=&quot;java.lang.ClassCastException&quot; value=&quot;error&quot;/&gt; &lt;/map&gt; &lt;/property&gt; &lt;/bean&gt; 1.4 è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†æ­¥éª¤â‘ åˆ›å»ºå¼‚å¸¸å¤„ç†å™¨ç±»å®ç°HandlerExceptionResolver public class MyExceptionResolver implements HandlerExceptionResolver { @Override public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) { //å¤„ç†å¼‚å¸¸çš„ä»£ç å®ç° //åˆ›å»ºModelAndViewå¯¹è±¡ ModelAndView modelAndView = new ModelAndView(); modelAndView.setViewName(&quot;exceptionPage&quot;); return modelAndView; } } â‘¡é…ç½®å¼‚å¸¸å¤„ç†å™¨ &lt;bean id=&quot;exceptionResolver&quot; class=&quot;com.itheima.exception.MyExceptionResolver&quot;/&gt; â‘¢ç¼–å†™å¼‚å¸¸é¡µé¢ &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; è¿™æ˜¯ä¸€ä¸ªæœ€ç»ˆå¼‚å¸¸çš„æ˜¾ç¤ºé¡µé¢ &lt;/body&gt; &lt;/html&gt; â‘£æµ‹è¯•å¼‚å¸¸è·³è½¬ @RequestMapping(&quot;/quick22&quot;) @ResponseBody public void quickMethod22() throws IOException, ParseException { SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); simpleDateFormat.parse(&quot;abcde&quot;); } 1.5 çŸ¥è¯†è¦ç‚¹å¼‚å¸¸å¤„ç†æ–¹å¼ é…ç½®ç®€å•å¼‚å¸¸å¤„ç†å™¨SimpleMappingExceptionResolver è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨ è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†æ­¥éª¤ â‘ åˆ›å»ºå¼‚å¸¸å¤„ç†å™¨ç±»å®ç°HandlerExceptionResolver â‘¡é…ç½®å¼‚å¸¸å¤„ç†å™¨ â‘¢ç¼–å†™å¼‚å¸¸é¡µé¢ â‘£æµ‹è¯•å¼‚å¸¸è·³è½¬ ###","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://www.lovelves.cn/tags/springboot/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"Springä¸Webç¯å¢ƒé›†æˆ","slug":"Springä¸Webç¯å¢ƒé›†æˆ","date":"2021-06-15T00:41:08.000Z","updated":"2021-06-16T06:39:56.000Z","comments":true,"path":"2021/06/15/Springä¸Webç¯å¢ƒé›†æˆ/","link":"","permalink":"https://www.lovelves.cn/2021/06/15/Springä¸Webç¯å¢ƒé›†æˆ/","excerpt":"","text":"1. Springä¸Webç¯å¢ƒé›†æˆ1.1 ApplicationContextåº”ç”¨ä¸Šä¸‹æ–‡è·å–æ–¹å¼åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯é€šè¿‡new ClasspathXmlApplicationContext(springé…ç½®æ–‡ä»¶) æ–¹å¼è·å–çš„ï¼Œä½†æ˜¯æ¯æ¬¡ä»å®¹å™¨ä¸­è·å¾—Beanæ—¶éƒ½è¦ç¼–å†™new ClasspathXmlApplicationContext(springé…ç½®æ–‡ä»¶) ï¼Œè¿™æ ·çš„å¼Šç«¯æ˜¯é…ç½®æ–‡ä»¶åŠ è½½å¤šæ¬¡ï¼Œåº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡åˆ›å»ºå¤šæ¬¡ã€‚ åœ¨Webé¡¹ç›®ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ServletContextListenerç›‘å¬Webåº”ç”¨çš„å¯åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Webåº”ç”¨å¯åŠ¨æ—¶ï¼Œå°±åŠ è½½Springçš„é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ApplicationContextï¼Œåœ¨å°†å…¶å­˜å‚¨åˆ°æœ€å¤§çš„åŸŸservletContextåŸŸä¸­ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»»æ„ä½ç½®ä»åŸŸä¸­è·å¾—åº”ç”¨ä¸Šä¸‹æ–‡ApplicationContextå¯¹è±¡äº†ã€‚ 1.2 Springæä¾›è·å–åº”ç”¨ä¸Šä¸‹æ–‡çš„å·¥å…·ä¸Šé¢çš„åˆ†æä¸ç”¨æ‰‹åŠ¨å®ç°ï¼ŒSpringæä¾›äº†ä¸€ä¸ªç›‘å¬å™¨ContextLoaderListenerå°±æ˜¯å¯¹ä¸Šè¿°åŠŸèƒ½çš„å°è£…ï¼Œè¯¥ç›‘å¬å™¨å†…éƒ¨åŠ è½½Springé…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¹¶å­˜å‚¨åˆ°ServletContextåŸŸä¸­ï¼Œæä¾›äº†ä¸€ä¸ªå®¢æˆ·ç«¯å·¥å…·WebApplicationContextUtilsä¾›ä½¿ç”¨è€…è·å¾—åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšçš„åªæœ‰ä¸¤ä»¶äº‹ï¼š â‘ åœ¨web.xmlä¸­é…ç½®ContextLoaderListenerç›‘å¬å™¨ï¼ˆå¯¼å…¥spring-webåæ ‡ï¼‰ â‘¡ä½¿ç”¨WebApplicationContextUtilsè·å¾—åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ApplicationContext 1.3 å¯¼å…¥Springé›†æˆwebçš„åæ ‡&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; 1.4 é…ç½®ContextLoaderListenerç›‘å¬å™¨&lt;!--å…¨å±€å‚æ•°--&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;!--Springçš„ç›‘å¬å™¨--&gt; &lt;listener&gt; &lt;listener-class&gt; org.springframework.web.context.ContextLoaderListener &lt;/listener-class&gt; &lt;/listener&gt; 1.5 é€šè¿‡å·¥å…·è·å¾—åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ApplicationContext applicationContext = WebApplicationContextUtils.getWebApplicationContext(servletContext); Object obj = applicationContext.getBean(&quot;id&quot;); çŸ¥è¯†è¦ç‚¹ Springé›†æˆwebç¯å¢ƒæ­¥éª¤ â€‹ â‘ é…ç½®ContextLoaderListenerç›‘å¬å™¨ â€‹ â‘¡ä½¿ç”¨WebApplicationContextUtilsè·å¾—åº”ç”¨ä¸Šä¸‹æ–‡ 2. SpringMVCçš„ç®€ä»‹2.1 SpringMVCæ¦‚è¿°SpringMVC æ˜¯ä¸€ç§åŸºäº Java çš„å®ç° MVC è®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§ Web æ¡†æ¶ï¼Œå±äºSpringFrameWork çš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨ Spring Web Flow ä¸­ã€‚ SpringMVC å·²ç»æˆä¸ºç›®å‰æœ€ä¸»æµçš„MVCæ¡†æ¶ä¹‹ä¸€ï¼Œå¹¶ä¸”éšç€Spring3.0 çš„å‘å¸ƒï¼Œå…¨é¢è¶…è¶Š Struts2ï¼Œæˆä¸ºæœ€ä¼˜ç§€çš„ MVC æ¡†æ¶ã€‚å®ƒé€šè¿‡ä¸€å¥—æ³¨è§£ï¼Œè®©ä¸€ä¸ªç®€å•çš„ Java ç±»æˆä¸ºå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ï¼Œè€Œæ— é¡»å®ç°ä»»ä½•æ¥å£ã€‚åŒæ—¶å®ƒè¿˜æ”¯æŒ RESTful ç¼–ç¨‹é£æ ¼çš„è¯·æ±‚ã€‚ 2.3 SpringMVCå¿«é€Ÿå…¥é—¨éœ€æ±‚ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯æ¥æ”¶è¯·æ±‚ï¼Œæ‰§è¡Œé€»è¾‘å¹¶è¿›è¡Œè§†å›¾è·³è½¬ã€‚ å¼€å‘æ­¥éª¤ â‘ å¯¼å…¥SpringMVCç›¸å…³åæ ‡ â‘¡é…ç½®SpringMVCæ ¸å¿ƒæ§åˆ¶å™¨DispathcerServlet â‘¢åˆ›å»ºControllerç±»å’Œè§†å›¾é¡µé¢ â‘£ä½¿ç”¨æ³¨è§£é…ç½®Controllerç±»ä¸­ä¸šåŠ¡æ–¹æ³•çš„æ˜ å°„åœ°å€ â‘¤é…ç½®SpringMVCæ ¸å¿ƒæ–‡ä»¶ spring-mvc.xml â‘¥å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æµ‹è¯• ä»£ç å®ç° â‘ å¯¼å…¥Springå’ŒSpringMVCçš„åæ ‡ã€å¯¼å…¥Servletå’ŒJspçš„åæ ‡ &lt;!--Springåæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!--SpringMVCåæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!--Servletåæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;/dependency&gt; &lt;!--Jspåæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;jsp-api&lt;/artifactId&gt; &lt;version&gt;2.0&lt;/version&gt; &lt;/dependency&gt; â‘¡åœ¨web.xmlé…ç½®SpringMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨ &lt;servlet&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; â‘¢åˆ›å»ºControllerå’Œä¸šåŠ¡æ–¹æ³• public class QuickController { public String quickMethod(){ System.out.println(&quot;quickMethod running.....&quot;); return &quot;index&quot;; } } â‘¢åˆ›å»ºè§†å›¾é¡µé¢index.jsp &lt;html&gt; &lt;body&gt; &lt;h2&gt;Hello SpringMVC!&lt;/h2&gt; &lt;/body&gt; &lt;/html&gt; â‘£é…ç½®æ³¨è§£ @Controller public class QuickController { @RequestMapping(&quot;/quick&quot;) public String quickMethod(){ System.out.println(&quot;quickMethod running.....&quot;); return &quot;index&quot;; } } â‘¤åˆ›å»ºspring-mvc.xml &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!--é…ç½®æ³¨è§£æ‰«æ--&gt; &lt;context:component-scan base-package=&quot;com.itheima&quot;/&gt; &lt;/beans&gt; â‘¥è®¿é—®æµ‹è¯•åœ°å€ http://localhost:8080/itheima_springmvc1/quick æ§åˆ¶å°æ‰“å° é¡µé¢æ˜¾ç¤º 2.3 SpringMVCæµç¨‹å›¾ç¤º 2.4 çŸ¥è¯†è¦ç‚¹SpringMVCçš„å¼€å‘æ­¥éª¤ â‘ å¯¼å…¥SpringMVCç›¸å…³åæ ‡ â‘¡é…ç½®SpringMVCæ ¸å¿ƒæ§åˆ¶å™¨DispathcerServlet â‘¢åˆ›å»ºControllerç±»å’Œè§†å›¾é¡µé¢ â‘£ä½¿ç”¨æ³¨è§£é…ç½®Controllerç±»ä¸­ä¸šåŠ¡æ–¹æ³•çš„æ˜ å°„åœ°å€ â‘¤é…ç½®SpringMVCæ ¸å¿ƒæ–‡ä»¶ spring-mvc.xml â‘¥å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æµ‹è¯• 3. SpringMVCçš„ç»„ä»¶è§£æ3.1 SpringMVCçš„æ‰§è¡Œæµç¨‹ â‘ ç”¨æˆ·å‘é€è¯·æ±‚è‡³å‰ç«¯æ§åˆ¶å™¨DispatcherServletã€‚ â‘¡DispatcherServletæ”¶åˆ°è¯·æ±‚è°ƒç”¨HandlerMappingå¤„ç†å™¨æ˜ å°„å™¨ã€‚ â‘¢å¤„ç†å™¨æ˜ å°„å™¨æ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨(å¯ä»¥æ ¹æ®xmlé…ç½®ã€æ³¨è§£è¿›è¡ŒæŸ¥æ‰¾)ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨(å¦‚æœæœ‰åˆ™ç”Ÿæˆ)ä¸€å¹¶è¿”å›ç»™DispatcherServletã€‚ â‘£DispatcherServletè°ƒç”¨HandlerAdapterå¤„ç†å™¨é€‚é…å™¨ã€‚ â‘¤HandlerAdapterç»è¿‡é€‚é…è°ƒç”¨å…·ä½“çš„å¤„ç†å™¨(Controllerï¼Œä¹Ÿå«åç«¯æ§åˆ¶å™¨)ã€‚ â‘¥Controlleræ‰§è¡Œå®Œæˆè¿”å›ModelAndViewã€‚ â‘¦HandlerAdapterå°†controlleræ‰§è¡Œç»“æœModelAndViewè¿”å›ç»™DispatcherServletã€‚ â‘§DispatcherServletå°†ModelAndViewä¼ ç»™ViewResloverè§†å›¾è§£æå™¨ã€‚ â‘¨ViewResloverè§£æåè¿”å›å…·ä½“Viewã€‚ â‘©DispatcherServletæ ¹æ®Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ã€‚DispatcherServletå“åº”ç”¨æˆ·ã€‚ 3.2 SpringMVCç»„ä»¶è§£æ å‰ç«¯æ§åˆ¶å™¨ï¼šDispatcherServlet â€‹ ç”¨æˆ·è¯·æ±‚åˆ°è¾¾å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒå°±ç›¸å½“äº MVC æ¨¡å¼ä¸­çš„ Cï¼ŒDispatcherServlet æ˜¯æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”± å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ŒDispatcherServlet çš„å­˜åœ¨é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚ å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping â€‹ HandlerMapping è´Ÿè´£æ ¹æ®ç”¨æˆ·è¯·æ±‚æ‰¾åˆ° Handler å³å¤„ç†å™¨ï¼ŒSpringMVC æä¾›äº†ä¸åŒçš„æ˜ å°„å™¨å®ç°ä¸åŒçš„ æ˜ å°„æ–¹å¼ï¼Œä¾‹å¦‚ï¼šé…ç½®æ–‡ä»¶æ–¹å¼ï¼Œå®ç°æ¥å£æ–¹å¼ï¼Œæ³¨è§£æ–¹å¼ç­‰ã€‚ å¤„ç†å™¨é€‚é…å™¨ï¼šHandlerAdapter â€‹ é€šè¿‡ HandlerAdapter å¯¹å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œï¼Œè¿™æ˜¯é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨ï¼Œé€šè¿‡æ‰©å±•é€‚é…å™¨å¯ä»¥å¯¹æ›´å¤šç±»å‹çš„å¤„ç† å™¨è¿›è¡Œæ‰§è¡Œã€‚ å¤„ç†å™¨ï¼šHandler â€‹ å®ƒå°±æ˜¯æˆ‘ä»¬å¼€å‘ä¸­è¦ç¼–å†™çš„å…·ä½“ä¸šåŠ¡æ§åˆ¶å™¨ã€‚ç”± DispatcherServlet æŠŠç”¨æˆ·è¯·æ±‚è½¬å‘åˆ° Handlerã€‚ç”± Handler å¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚ è§†å›¾è§£æå™¨ï¼šView Resolver â€‹ View Resolver è´Ÿè´£å°†å¤„ç†ç»“æœç”Ÿæˆ View è§†å›¾ï¼ŒView Resolver é¦–å…ˆæ ¹æ®é€»è¾‘è§†å›¾åè§£ææˆç‰©ç†è§†å›¾åï¼Œå³å…·ä½“çš„é¡µé¢åœ°å€ï¼Œå†ç”Ÿæˆ View è§†å›¾å¯¹è±¡ï¼Œæœ€åå¯¹ View è¿›è¡Œæ¸²æŸ“å°†å¤„ç†ç»“æœé€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚ è§†å›¾ï¼šView â€‹ SpringMVC æ¡†æ¶æä¾›äº†å¾ˆå¤šçš„ View è§†å›¾ç±»å‹çš„æ”¯æŒï¼ŒåŒ…æ‹¬ï¼šjstlViewã€freemarkerViewã€pdfViewç­‰ã€‚æœ€å¸¸ç”¨çš„è§†å›¾å°±æ˜¯ jspã€‚ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦é€šè¿‡é¡µé¢æ ‡ç­¾æˆ–é¡µé¢æ¨¡ç‰ˆæŠ€æœ¯å°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ï¼Œéœ€è¦ç”±ç¨‹åºå‘˜æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘å…·ä½“çš„é¡µé¢ 3.3 SpringMVCæ³¨è§£è§£æ@RequestMapping ä½œç”¨ï¼šç”¨äºå»ºç«‹è¯·æ±‚ URL å’Œå¤„ç†è¯·æ±‚æ–¹æ³•ä¹‹é—´çš„å¯¹åº”å…³ç³» ä½ç½®ï¼š â€‹ ç±»ä¸Šï¼Œè¯·æ±‚URL çš„ç¬¬ä¸€çº§è®¿é—®ç›®å½•ã€‚æ­¤å¤„ä¸å†™çš„è¯ï¼Œå°±ç›¸å½“äºåº”ç”¨çš„æ ¹ç›®å½• â€‹ æ–¹æ³•ä¸Šï¼Œè¯·æ±‚ URL çš„ç¬¬äºŒçº§è®¿é—®ç›®å½•ï¼Œä¸ç±»ä¸Šçš„ä½¿ç”¨@ReqquestMappingæ ‡æ³¨çš„ä¸€çº§ç›®å½•ä¸€èµ·ç»„æˆè®¿é—®è™šæ‹Ÿè·¯å¾„ å±æ€§ï¼š â€‹ valueï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„URLã€‚å®ƒå’Œpathå±æ€§çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ â€‹ methodï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„æ–¹å¼ â€‹ paramsï¼šç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶ã€‚å®ƒæ”¯æŒç®€å•çš„è¡¨è¾¾å¼ã€‚è¦æ±‚è¯·æ±‚å‚æ•°çš„keyå’Œvalueå¿…é¡»å’Œé…ç½®çš„ä¸€æ¨¡ä¸€æ · ä¾‹å¦‚ï¼š â€‹ params = {â€œaccountNameâ€}ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°å¿…é¡»æœ‰accountName â€‹ params = {â€œmoeny!100â€}ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°ä¸­moneyä¸èƒ½æ˜¯100 1.mvcå‘½åç©ºé—´å¼•å…¥ å‘½åç©ºé—´ï¼šxmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; çº¦æŸåœ°å€ï¼šhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd 2.ç»„ä»¶æ‰«æ SpringMVCåŸºäºSpringå®¹å™¨ï¼Œæ‰€ä»¥åœ¨è¿›è¡ŒSpringMVCæ“ä½œæ—¶ï¼Œéœ€è¦å°†Controllerå­˜å‚¨åˆ°Springå®¹å™¨ä¸­ï¼Œå¦‚æœä½¿ç”¨@Controlleræ³¨è§£æ ‡æ³¨çš„è¯ï¼Œå°±éœ€è¦ä½¿ç”¨&lt;context:component-scan base-package=â€œcom.itheima.controllerâ€/&gt;è¿›è¡Œç»„ä»¶æ‰«æã€‚ 3.4 SpringMVCçš„XMLé…ç½®è§£æSpringMVCæœ‰é»˜è®¤ç»„ä»¶é…ç½®ï¼Œé»˜è®¤ç»„ä»¶éƒ½æ˜¯DispatcherServlet.propertiesé…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ï¼Œè¯¥é…ç½®æ–‡ä»¶åœ°å€org/springframework/web/servlet/DispatcherServlet.propertiesï¼Œè¯¥æ–‡ä»¶ä¸­é…ç½®äº†é»˜è®¤çš„è§†å›¾è§£æå™¨ï¼Œå¦‚ä¸‹ï¼š org.springframework.web.servlet.ViewResolver=org.springframework.web.servlet.view.InternalResourceViewResolver ç¿»çœ‹è¯¥è§£æå™¨æºç ï¼Œå¯ä»¥çœ‹åˆ°è¯¥è§£æå™¨çš„é»˜è®¤è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š REDIRECT_URL_PREFIX = &quot;redirect:&quot; --é‡å®šå‘å‰ç¼€ FORWARD_URL_PREFIX = &quot;forward:&quot; --è½¬å‘å‰ç¼€ï¼ˆé»˜è®¤å€¼ï¼‰ prefix = &quot;&quot;; --è§†å›¾åç§°å‰ç¼€ suffix = &quot;&quot;; --è§†å›¾åç§°åç¼€ è§†å›¾è§£æå™¨ æˆ‘ä»¬å¯ä»¥é€šè¿‡å±æ€§æ³¨å…¥çš„æ–¹å¼ä¿®æ”¹è§†å›¾çš„çš„å‰åç¼€ &lt;!--é…ç½®å†…éƒ¨èµ„æºè§†å›¾è§£æå™¨--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt; &lt;/bean&gt; 3.5 çŸ¥è¯†è¦ç‚¹SpringMVCçš„ç›¸å…³ç»„ä»¶ å‰ç«¯æ§åˆ¶å™¨ï¼šDispatcherServlet å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping å¤„ç†å™¨é€‚é…å™¨ï¼šHandlerAdapter å¤„ç†å™¨ï¼šHandler è§†å›¾è§£æå™¨ï¼šView Resolver è§†å›¾ï¼šView SpringMVCçš„æ³¨è§£å’Œé…ç½® è¯·æ±‚æ˜ å°„æ³¨è§£ï¼š@RequestMapping è§†å›¾è§£æå™¨é…ç½®ï¼š REDIRECT_URL_PREFIX = â€œredirect:â€ FORWARD_URL_PREFIX = â€œforward:â€ prefix = â€œâ€; suffix = â€œâ€;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://www.lovelves.cn/tags/springboot/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"springmvc02","slug":"springmvc02","date":"2021-06-15T00:41:08.000Z","updated":"2021-06-16T06:40:02.000Z","comments":true,"path":"2021/06/15/springmvc02/","link":"","permalink":"https://www.lovelves.cn/2021/06/15/springmvc02/","excerpt":"","text":"SpringMVCçš„è¯·æ±‚å’Œå“åº”SpringMVCçš„æ•°æ®å“åº”01-SpringMVCçš„æ•°æ®å“åº”-æ•°æ®å“åº”æ–¹å¼(ç†è§£)1) é¡µé¢è·³è½¬ ç›´æ¥è¿”å›å­—ç¬¦ä¸² é€šè¿‡ModelAndViewå¯¹è±¡è¿”å› 2ï¼‰ å›å†™æ•°æ® ç›´æ¥è¿”å›å­—ç¬¦ä¸² è¿”å›å¯¹è±¡æˆ–é›†åˆ 02-SpringMVCçš„æ•°æ®å“åº”-é¡µé¢è·³è½¬-è¿”å›å­—ç¬¦ä¸²å½¢å¼ï¼ˆåº”ç”¨ï¼‰ 03-SpringMVCçš„æ•°æ®å“åº”-é¡µé¢è·³è½¬-è¿”å›ModelAndViewå½¢å¼1(åº”ç”¨)åœ¨Controllerä¸­æ–¹æ³•è¿”å›ModelAndViewå¯¹è±¡ï¼Œå¹¶ä¸”è®¾ç½®è§†å›¾åç§° @RequestMapping(value=&quot;/quick2&quot;) public ModelAndView save2(){ /* Model:æ¨¡å‹ ä½œç”¨å°è£…æ•°æ® Viewï¼šè§†å›¾ ä½œç”¨å±•ç¤ºæ•°æ® */ ModelAndView modelAndView = new ModelAndView(); //è®¾ç½®æ¨¡å‹æ•°æ® modelAndView.addObject(&quot;username&quot;,&quot;itcast&quot;); //è®¾ç½®è§†å›¾åç§° modelAndView.setViewName(&quot;success&quot;); return modelAndView; } 04-SpringMVCçš„æ•°æ®å“åº”-é¡µé¢è·³è½¬-è¿”å›ModelAndViewå½¢å¼2(åº”ç”¨)nåœ¨Controllerä¸­æ–¹æ³•å½¢å‚ä¸Šç›´æ¥å£°æ˜ModelAndViewï¼Œæ— éœ€åœ¨æ–¹æ³•ä¸­è‡ªå·±åˆ›å»ºï¼Œåœ¨æ–¹æ³•ä¸­ç›´æ¥ä½¿ç”¨è¯¥å¯¹è±¡è®¾ç½®è§†å›¾ï¼ŒåŒæ ·å¯ä»¥è·³è½¬é¡µé¢ @RequestMapping(value=&quot;/quick3&quot;) public ModelAndView save3(ModelAndView modelAndView){ modelAndView.addObject(&quot;username&quot;,&quot;itheima&quot;); modelAndView.setViewName(&quot;success&quot;); return modelAndView; } @RequestMapping(value=&quot;/quick4&quot;) public String save4(Model model){ model.addAttribute(&quot;username&quot;,&quot;åšå­¦è°·&quot;); return &quot;success&quot;; } 05-SpringMVCçš„æ•°æ®å“åº”-é¡µé¢è·³è½¬-è¿”å›ModelAndView3(åº”ç”¨)åœ¨Controlleræ–¹æ³•çš„å½¢å‚ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨åŸç”Ÿçš„HttpServeltRequestå¯¹è±¡ï¼Œåªéœ€å£°æ˜å³å¯ @RequestMapping(value=&quot;/quick5&quot;) public String save5(HttpServletRequest request){ request.setAttribute(&quot;username&quot;,&quot;é…·ä¸é±¼&quot;); return &quot;success&quot;; } 06-SpringMVCçš„æ•°æ®å“åº”-å›å†™æ•°æ®-ç›´æ¥å›å†™å­—ç¬¦ä¸²(åº”ç”¨)é€šè¿‡SpringMVCæ¡†æ¶æ³¨å…¥çš„responseå¯¹è±¡ï¼Œä½¿ç”¨response.getWriter().print(â€œhello worldâ€) å›å†™æ•°æ®ï¼Œæ­¤æ—¶ä¸éœ€è¦è§†å›¾è·³è½¬ï¼Œä¸šåŠ¡æ–¹æ³•è¿”å›å€¼ä¸ºvoid å°†éœ€è¦å›å†™çš„å­—ç¬¦ä¸²ç›´æ¥è¿”å›ï¼Œä½†æ­¤æ—¶éœ€è¦é€šè¿‡@ResponseBodyæ³¨è§£å‘ŠçŸ¥SpringMVCæ¡†æ¶ï¼Œæ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ä¸æ˜¯è·³è½¬æ˜¯ç›´æ¥åœ¨httpå“åº”ä½“ä¸­è¿”å› @RequestMapping(value=&quot;/quick7&quot;) @ResponseBody //å‘ŠçŸ¥SpringMVCæ¡†æ¶ ä¸è¿›è¡Œè§†å›¾è·³è½¬ ç›´æ¥è¿›è¡Œæ•°æ®å“åº” public String save7() throws IOException { return &quot;hello itheima&quot;; } @RequestMapping(value=&quot;/quick6&quot;) public void save6(HttpServletResponse response) throws IOException { response.getWriter().print(&quot;hello itcast&quot;); } 07-SpringMVCçš„æ•°æ®å“åº”-å›å†™æ•°æ®-ç›´æ¥å›å†™jsonæ ¼å¼å­—ç¬¦ä¸²(åº”ç”¨)@RequestMapping(value=&quot;/quick8&quot;) @ResponseBody public String save8() throws IOException { return &quot;{\\&quot;username\\&quot;:\\&quot;zhangsan\\&quot;,\\&quot;age\\&quot;:18}&quot;; } æ‰‹åŠ¨æ‹¼æ¥jsonæ ¼å¼å­—ç¬¦ä¸²çš„æ–¹å¼å¾ˆéº»çƒ¦ï¼Œå¼€å‘ä¸­å¾€å¾€è¦å°†å¤æ‚çš„javaå¯¹è±¡è½¬æ¢æˆjsonæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨webé˜¶æ®µå­¦ä¹ è¿‡çš„jsonè½¬æ¢å·¥å…·jacksonè¿›è¡Œè½¬æ¢,é€šè¿‡jacksonè½¬æ¢jsonæ ¼å¼å­—ç¬¦ä¸²ï¼Œå›å†™å­—ç¬¦ä¸² @RequestMapping(value=&quot;/quick9&quot;) @ResponseBody public String save9() throws IOException { User user = new User(); user.setUsername(&quot;lisi&quot;); user.setAge(30); //ä½¿ç”¨jsonçš„è½¬æ¢å·¥å…·å°†å¯¹è±¡è½¬æ¢æˆjsonæ ¼å¼å­—ç¬¦ä¸²åœ¨è¿”å› ObjectMapper objectMapper = new ObjectMapper(); String json = objectMapper.writeValueAsString(user); return json; } 08-SpringMVCçš„æ•°æ®å“åº”-å›å†™æ•°æ®-è¿”å›å¯¹è±¡æˆ–é›†åˆ(åº”ç”¨)é€šè¿‡SpringMVCå¸®åŠ©æˆ‘ä»¬å¯¹å¯¹è±¡æˆ–é›†åˆè¿›è¡Œjsonå­—ç¬¦ä¸²çš„è½¬æ¢å¹¶å›å†™ï¼Œä¸ºå¤„ç†å™¨é€‚é…å™¨é…ç½®æ¶ˆæ¯è½¬æ¢å‚æ•°ï¼ŒæŒ‡å®šä½¿ç”¨jacksonè¿›è¡Œå¯¹è±¡æˆ–é›†åˆçš„è½¬æ¢ï¼Œå› æ­¤éœ€è¦åœ¨spring-mvc.xmlä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt; &lt;property name=&quot;messageConverters&quot;&gt; &lt;list&gt; &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; @RequestMapping(value=&quot;/quick10&quot;) @ResponseBody //æœŸæœ›SpringMVCè‡ªåŠ¨å°†Userè½¬æ¢æˆjsonæ ¼å¼çš„å­—ç¬¦ä¸² public User save10() throws IOException { User user = new User(); user.setUsername(&quot;lisi2&quot;); user.setAge(32); return user; } 09-SpringMVCçš„æ•°æ®å“åº”-å›å†™æ•°æ®-è¿”å›å¯¹è±¡æˆ–é›†åˆ2(åº”ç”¨)åœ¨æ–¹æ³•ä¸Šæ·»åŠ @ResponseBodyå°±å¯ä»¥è¿”å›jsonæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯è¿™æ ·é…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œé…ç½®çš„ä»£ç æ¯”è¾ƒå¤šï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨mvcçš„æ³¨è§£é©±åŠ¨ä»£æ›¿ä¸Šè¿°é…ç½® &lt;mvc:annotation-driven/&gt; åœ¨ SpringMVC çš„å„ä¸ªç»„ä»¶ä¸­ï¼Œå¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨ç§°ä¸º SpringMVC çš„ä¸‰å¤§ç»„ä»¶ã€‚ ä½¿ç”¨&lt;mvc:annotation-driven /&gt;è‡ªåŠ¨åŠ è½½ RequestMappingHandlerMappingï¼ˆå¤„ç†æ˜ å°„å™¨ï¼‰å’Œ RequestMappingHandlerAdapterï¼ˆ å¤„ ç† é€‚ é… å™¨ ï¼‰ï¼Œå¯ç”¨åœ¨Spring-xml.xmlé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ &lt;mvc:annotation-driven /&gt;æ›¿ä»£æ³¨è§£å¤„ç†å™¨å’Œé€‚é…å™¨çš„é…ç½®ã€‚ åŒæ—¶ä½¿ç”¨&lt;mvc:annotation-driven /&gt; é»˜è®¤åº•å±‚å°±ä¼šé›†æˆjacksonè¿›è¡Œå¯¹è±¡æˆ–é›†åˆçš„jsonæ ¼å¼å­—ç¬¦ä¸²çš„è½¬æ¢ 10-SpringMVCçš„æ•°æ®å“åº”-çŸ¥è¯†è¦ç‚¹å°ç»“(ç†è§£ï¼Œè®°å¿†)1ï¼‰ é¡µé¢è·³è½¬ ç›´æ¥è¿”å›å­—ç¬¦ä¸² é€šè¿‡ModelAndViewå¯¹è±¡è¿”å› 2ï¼‰ å›å†™æ•°æ® ç›´æ¥è¿”å›å­—ç¬¦ä¸² HttpServletResponse å¯¹è±¡ç›´æ¥å†™å›æ•°æ®ï¼ŒHttpServletRequestå¯¹è±¡å¸¦å›æ•°æ®ï¼ŒModelå¯¹è±¡å¸¦å›æ•°æ®æˆ–è€…@ResponseBodyå°†å­—ç¬¦ä¸²æ•°æ®å†™å› è¿”å›å¯¹è±¡æˆ–é›†åˆ @ResponseBody+&lt;mvc:annotation-driven/&gt; SpringMVCçš„è¯·æ±‚11-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è¯·æ±‚å‚æ•°ç±»å‹(ç†è§£)å®¢æˆ·ç«¯è¯·æ±‚å‚æ•°çš„æ ¼å¼æ˜¯ï¼šname=value&amp;name=valueâ€¦â€¦ æœåŠ¡å™¨ç«¯è¦è·å¾—è¯·æ±‚çš„å‚æ•°ï¼Œæœ‰æ—¶è¿˜éœ€è¦è¿›è¡Œæ•°æ®çš„å°è£…ï¼ŒSpringMVCå¯ä»¥æ¥æ”¶å¦‚ä¸‹ç±»å‹çš„å‚æ•° åŸºæœ¬ç±»å‹å‚æ•° POJOç±»å‹å‚æ•° æ•°ç»„ç±»å‹å‚æ•° é›†åˆç±»å‹å‚æ•° 12-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—åŸºæœ¬ç±»å‹å‚æ•°(åº”ç”¨)Controllerä¸­çš„ä¸šåŠ¡æ–¹æ³•çš„å‚æ•°åç§°è¦ä¸è¯·æ±‚å‚æ•°çš„nameä¸€è‡´ï¼Œå‚æ•°å€¼ä¼šè‡ªåŠ¨æ˜ å°„åŒ¹é…ã€‚å¹¶ä¸”èƒ½è‡ªåŠ¨åšç±»å‹è½¬æ¢ï¼› è‡ªåŠ¨çš„ç±»å‹è½¬æ¢æ˜¯æŒ‡ä»Stringå‘å…¶ä»–ç±»å‹çš„è½¬æ¢ http://localhost:8080/itheima_springmvc1/quick9?username=zhangsan&amp;age=12 @RequestMapping(value=&quot;/quick11&quot;) @ResponseBody public void save11(String username,int age) throws IOException { System.out.println(username); System.out.println(age); } 13-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—POJOç±»å‹å‚æ•°(åº”ç”¨)Controllerä¸­çš„ä¸šåŠ¡æ–¹æ³•çš„POJOå‚æ•°çš„å±æ€§åä¸è¯·æ±‚å‚æ•°çš„nameä¸€è‡´ï¼Œå‚æ•°å€¼ä¼šè‡ªåŠ¨æ˜ å°„åŒ¹é…ã€‚ package com.itheima.domain; public class User { private String username; private int age; public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } @Override public String toString() { return &quot;User{&quot; + &quot;username=&#39;&quot; + username + &#39;\\&#39;&#39; + &quot;, age=&quot; + age + &#39;}&#39;; } } @RequestMapping(value=&quot;/quick12&quot;) @ResponseBody public void save12(User user) throws IOException { System.out.println(user); } 14-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—æ•°ç»„ç±»å‹å‚æ•°(åº”ç”¨)Controllerä¸­çš„ä¸šåŠ¡æ–¹æ³•æ•°ç»„åç§°ä¸è¯·æ±‚å‚æ•°çš„nameä¸€è‡´ï¼Œå‚æ•°å€¼ä¼šè‡ªåŠ¨æ˜ å°„åŒ¹é…ã€‚ @RequestMapping(value=&quot;/quick13&quot;) @ResponseBody public void save13(String[] strs) throws IOException { System.out.println(Arrays.asList(strs)); } 15-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—é›†åˆç±»å‹å‚æ•°1(åº”ç”¨)è·å¾—é›†åˆå‚æ•°æ—¶ï¼Œè¦å°†é›†åˆå‚æ•°åŒ…è£…åˆ°ä¸€ä¸ªPOJOä¸­æ‰å¯ä»¥ã€‚ &lt;form action=&quot;${pageContext.request.contextPath}/user/quick14&quot; method=&quot;post&quot;&gt; &lt;%--è¡¨æ˜æ˜¯ç¬¬ä¸€ä¸ªUserå¯¹è±¡çš„username age--%&gt; &lt;input type=&quot;text&quot; name=&quot;userList[0].username&quot;&gt;&lt;br/&gt; &lt;input type=&quot;text&quot; name=&quot;userList[0].age&quot;&gt;&lt;br/&gt; &lt;input type=&quot;text&quot; name=&quot;userList[1].username&quot;&gt;&lt;br/&gt; &lt;input type=&quot;text&quot; name=&quot;userList[1].age&quot;&gt;&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt; package com.itheima.domain; import java.util.List; public class VO { private List&lt;User&gt; userList; public List&lt;User&gt; getUserList() { return userList; } public void setUserList(List&lt;User&gt; userList) { this.userList = userList; } @Override public String toString() { return &quot;VO{&quot; + &quot;userList=&quot; + userList + &#39;}&#39;; } } @RequestMapping(value=&quot;/quick14&quot;) @ResponseBody public void save14(VO vo) throws IOException { System.out.println(vo); } 16-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—é›†åˆç±»å‹å‚æ•°2(åº”ç”¨)å½“ä½¿ç”¨ajaxæäº¤æ—¶ï¼Œå¯ä»¥æŒ‡å®šcontentTypeä¸ºjsonå½¢å¼ï¼Œé‚£ä¹ˆåœ¨æ–¹æ³•å‚æ•°ä½ç½®ä½¿ç”¨@RequestBodyå¯ä»¥ç›´æ¥æ¥æ”¶é›†åˆæ•°æ®è€Œæ— éœ€ä½¿ç”¨POJOè¿›è¡ŒåŒ…è£… &lt;script src=&quot;${pageContext.request.contextPath}/js/jquery-3.3.1.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var userList = new Array(); userList.push({username:&quot;zhangsan&quot;,age:18}); userList.push({username:&quot;lisi&quot;,age:28}); $.ajax({ type:&quot;POST&quot;, url:&quot;${pageContext.request.contextPath}/user/quick15&quot;, data:JSON.stringify(userList), contentType:&quot;application/json;charset=utf-8&quot; }); &lt;/script&gt; @RequestMapping(value=&quot;/quick15&quot;) @ResponseBody public void save15(@RequestBody List&lt;User&gt; userList) throws IOException { System.out.println(userList); } 17-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-é™æ€èµ„æºè®¿é—®çš„å¼€å¯(åº”ç”¨)å½“æœ‰é™æ€èµ„æºéœ€è¦åŠ è½½æ—¶ï¼Œæ¯”å¦‚jqueryæ–‡ä»¶ï¼Œé€šè¿‡è°·æ­Œå¼€å‘è€…å·¥å…·æŠ“åŒ…å‘ç°ï¼Œæ²¡æœ‰åŠ è½½åˆ°jqueryæ–‡ä»¶ï¼ŒåŸå› æ˜¯SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServletçš„url-patterné…ç½®çš„æ˜¯/,ä»£è¡¨å¯¹æ‰€æœ‰çš„èµ„æºéƒ½è¿›è¡Œè¿‡æ»¤æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼æŒ‡å®šæ”¾è¡Œé™æ€èµ„æºï¼š â€¢åœ¨spring-mvc.xmlé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ”¾è¡Œçš„èµ„æº â€‹ &lt;mvc:resources mapping=&quot;/js/**&quot;location=&quot;/js/&quot;/&gt; â€¢ä½¿ç”¨&lt;mvc:default-servlet-handler/&gt;æ ‡ç­¾ &lt;!--å¼€å‘èµ„æºçš„è®¿é—®--&gt; &lt;!--&lt;mvc:resources mapping=&quot;/js/**&quot; location=&quot;/js/&quot;/&gt; &lt;mvc:resources mapping=&quot;/img/**&quot; location=&quot;/img/&quot;/&gt;--&gt; &lt;mvc:default-servlet-handler/&gt; 18-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-é…ç½®å…¨å±€ä¹±ç è¿‡æ»¤å™¨(åº”ç”¨)å½“postè¯·æ±‚æ—¶ï¼Œæ•°æ®ä¼šå‡ºç°ä¹±ç ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªè¿‡æ»¤å™¨æ¥è¿›è¡Œç¼–ç çš„è¿‡æ»¤ã€‚ &lt;!--é…ç½®å…¨å±€è¿‡æ»¤çš„filter--&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; 19-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-å‚æ•°ç»‘å®šæ³¨è§£@RequestParam(åº”ç”¨)å½“è¯·æ±‚çš„å‚æ•°åç§°ä¸Controllerçš„ä¸šåŠ¡æ–¹æ³•å‚æ•°åç§°ä¸ä¸€è‡´æ—¶ï¼Œå°±éœ€è¦é€šè¿‡@RequestParamæ³¨è§£æ˜¾ç¤ºçš„ç»‘å®š &lt;form action=&quot;${pageContext.request.contextPath}/quick16&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;br&gt; &lt;/form&gt; @RequestMapping(value=&quot;/quick16&quot;) @ResponseBody public void save16(@RequestParam(value=&quot;name&quot;,required = false,defaultValue = &quot;itcast&quot;) String username) throws IOException { System.out.println(username); } 20-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-Restfulé£æ ¼çš„å‚æ•°çš„è·å–(åº”ç”¨)Restfulæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€è®¾è®¡é£æ ¼ï¼Œè€Œä¸æ˜¯æ ‡å‡†ï¼Œåªæ˜¯æä¾›äº†ä¸€ç»„è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶ã€‚ä¸»è¦ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’ç±»çš„è½¯ä»¶ï¼ŒåŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜æœºåˆ¶ç­‰ã€‚ Restfulé£æ ¼çš„è¯·æ±‚æ˜¯ä½¿ç”¨â€œurl+è¯·æ±‚æ–¹å¼â€è¡¨ç¤ºä¸€æ¬¡è¯·æ±‚ç›®çš„çš„ï¼ŒHTTP åè®®é‡Œé¢å››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯å¦‚ä¸‹ï¼š GETï¼šç”¨äºè·å–èµ„æº POSTï¼šç”¨äºæ–°å»ºèµ„æº PUTï¼šç”¨äºæ›´æ–°èµ„æº DELETEï¼šç”¨äºåˆ é™¤èµ„æº ä¾‹å¦‚ï¼š /user/1 GET ï¼š å¾—åˆ° id = 1 çš„ user /user/1 DELETEï¼š åˆ é™¤ id = 1 çš„ user /user/1 PUTï¼š æ›´æ–° id = 1 çš„ user /user POSTï¼š æ–°å¢ user ä¸Šè¿°urlåœ°å€/user/1ä¸­çš„1å°±æ˜¯è¦è·å¾—çš„è¯·æ±‚å‚æ•°ï¼Œåœ¨SpringMVCä¸­å¯ä»¥ä½¿ç”¨å ä½ç¬¦è¿›è¡Œå‚æ•°ç»‘å®šã€‚åœ°å€/user/1å¯ä»¥å†™æˆ/user/{id}ï¼Œå ä½ç¬¦{id}å¯¹åº”çš„å°±æ˜¯1çš„å€¼ã€‚åœ¨ä¸šåŠ¡æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨@PathVariableæ³¨è§£è¿›è¡Œå ä½ç¬¦çš„åŒ¹é…è·å–å·¥ä½œã€‚ http://localhost:8080/itheima_springmvc1/quick17/zhangsan @RequestMapping(value=&quot;/quick17/{name}&quot;) @ResponseBody public void save17(@PathVariable(value=&quot;name&quot;) String username) throws IOException { System.out.println(username); } 21-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨(åº”ç”¨)SpringMVC é»˜è®¤å·²ç»æä¾›äº†ä¸€äº›å¸¸ç”¨çš„ç±»å‹è½¬æ¢å™¨ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯æäº¤çš„å­—ç¬¦ä¸²è½¬æ¢æˆintå‹è¿›è¡Œå‚æ•°è®¾ç½®ã€‚ ä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®ç±»å‹éƒ½æä¾›äº†è½¬æ¢å™¨ï¼Œæ²¡æœ‰æä¾›çš„å°±éœ€è¦è‡ªå®šä¹‰è½¬æ¢å™¨ï¼Œä¾‹å¦‚ï¼šæ—¥æœŸç±»å‹çš„æ•°æ®å°±éœ€è¦è‡ªå®šä¹‰è½¬æ¢å™¨ã€‚ public class DateConverter implements Converter&lt;String, Date&gt; { public Date convert(String dateStr) { //å°†æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸå¯¹è±¡ è¿”å› SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); Date date = null; try { date = format.parse(dateStr); } catch (ParseException e) { e.printStackTrace(); } return date; } } @RequestMapping(value=&quot;/quick18&quot;) @ResponseBody public void save18(Date date) throws IOException { System.out.println(date); } 22-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—Servletç›¸å…³API(åº”ç”¨)SpringMVCæ”¯æŒä½¿ç”¨åŸå§‹ServletAPIå¯¹è±¡ä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„å‚æ•°è¿›è¡Œæ³¨å…¥ï¼Œå¸¸ç”¨çš„å¯¹è±¡å¦‚ä¸‹ï¼š HttpServletRequest HttpServletResponse HttpSession @RequestMapping(value=&quot;/quick19&quot;) @ResponseBody public void save19(HttpServletRequest request, HttpServletResponse response, HttpSession session) throws IOException { System.out.println(request); System.out.println(response); System.out.println(session); } 23-SpringMVCçš„è¯·æ±‚-è·å¾—è¯·æ±‚å‚æ•°-è·å¾—è¯·æ±‚å¤´ä¿¡æ¯(åº”ç”¨)ä½¿ç”¨@RequestHeaderå¯ä»¥è·å¾—è¯·æ±‚å¤´ä¿¡æ¯ï¼Œç›¸å½“äºwebé˜¶æ®µå­¦ä¹ çš„request.getHeader(name) @RequestHeaderæ³¨è§£çš„å±æ€§å¦‚ä¸‹ï¼š valueï¼šè¯·æ±‚å¤´çš„åç§° requiredï¼šæ˜¯å¦å¿…é¡»æºå¸¦æ­¤è¯·æ±‚å¤´ @RequestMapping(value=&quot;/quick20&quot;) @ResponseBody public void save20(@RequestHeader(value = &quot;User-Agent&quot;,required = false) String user_agent) throws IOException { System.out.println(user_agent); } ä½¿ç”¨@CookieValueå¯ä»¥è·å¾—æŒ‡å®šCookieçš„å€¼ @CookieValueæ³¨è§£çš„å±æ€§å¦‚ä¸‹ï¼š valueï¼šæŒ‡å®šcookieçš„åç§° requiredï¼šæ˜¯å¦å¿…é¡»æºå¸¦æ­¤cookie @RequestMapping(value=&quot;/quick21&quot;) @ResponseBody public void save21(@CookieValue(value = &quot;JSESSIONID&quot;) String jsessionId) throws IOException { System.out.println(jsessionId); }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://www.lovelves.cn/tags/springboot/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"é…·æˆ‘éŸ³ä¹çˆ¬å–","slug":"é…·æˆ‘éŸ³ä¹çˆ¬å–","date":"2021-06-15T00:41:08.000Z","updated":"2021-06-18T11:12:08.005Z","comments":true,"path":"2021/06/15/é…·æˆ‘éŸ³ä¹çˆ¬å–/","link":"","permalink":"https://www.lovelves.cn/2021/06/15/é…·æˆ‘éŸ³ä¹çˆ¬å–/","excerpt":"","text":"é…·æˆ‘éŸ³ä¹çˆ¬è™«ä¸»è¦æ¥å£è·å–æ­Œæ›²ä¸‹è½½åœ°å€ http://www.kuwo.cn/url?format=mp3&amp;rid=173345979&amp;response=url&amp;type=convert_url3&amp;br=320kmp3&amp;from=web&amp;t=1623843977328&amp;httpsStatus=1 è·å–ç»“æœurl æ˜¯æ­Œæ›²çš„ä¸‹è½½åœ°å€ {&quot;code&quot;: 200, &quot;msg&quot;: &quot;success&quot;, &quot;url&quot;: &quot;https://gv-sycdn.kuwo.cn/8ee6ee8edbbafa235e08991ac4382519/60c9e6b6/resource/n2/30/9/3326431231.mp3&quot;} ä¸»è¦å‚æ•°rid æ­Œæ›²çš„idbr æ­Œæ›²çš„ç ç‡ 320æ˜¯æœ€é«˜ç ç‡t æ—¶é—´æˆ³ç”¨python æ‹¼å‡‘å‚æ•° base_url = &#39;http://www.kuwo.cn/url&#39; params = { &#39;format&#39;: &#39;mp3&#39;, &#39;rid&#39;: rid, &#39;response&#39;: &#39;url&#39;, &#39;type&#39;: &#39;convert_url3&#39;, &#39;br&#39;: &#39;320kmp3&#39;, # 320K ä»£è¡¨æ˜¯æ— é™¨éŸ³è´¨ã€‚ &#39;from&#39;: &#39;web&#39;, &#39;t&#39;: str(int(time.time() * 1000)), &#39;httpsStatus&#39;: &#39;1&#39; } è·å–æ­Œæ›²rid http://www.kuwo.cn/api/www/search/searchMusicBykeyWord?key=%E9%99%88%E6%85%A7%E7%90%B3&amp;pn=1&amp;rn=30&amp;httpsStatus=1 ä¸»è¦å‚æ•°key ä½ è¦å¾—æ­Œæ›²æˆ–è€…ä½œè€…å¾—åå­—pn å½“å‰å¾—é¡µæ•°rn ä¸€é¡µæ˜¾ç¤ºå¤šå°‘é¦– è¯·æ±‚æ—¶headeréœ€è¦çš„å‚æ•°CookieUser-Agent æµè§ˆå™¨è¡¨ç¤ºcsrf Cookieä¸­çš„kw_tokençš„å€¼Host ä¸»åŸŸåReferer æ¥æº è·å–ç»“æœrid æ­Œæ›²çš„ID name æ­Œæ›²åå­— songTimeMinutes æ­Œæ›²çš„æ—¶é•¿ { &quot;code&quot;: 200, &quot;curTime&quot;: 1623845910234, &quot;data&quot;: { &quot;total&quot;: &quot;1577&quot;, &quot;list&quot;: [ { &quot;musicrid&quot;: &quot;MUSIC_7165139&quot;, &quot;barrage&quot;: &quot;0&quot;, &quot;artist&quot;: &quot;å¢å† å»·&amp;å¼ æ™ºéœ–&amp;æˆé¾™&amp;è®¸å† æ°&amp;é™ˆæ…§ç³&amp;é™ˆæ…§å¨´&amp;æå…‹å‹¤&amp;G.E.M.é‚“ç´«æ£‹&amp;å¼ å­¦å‹&amp;é™ˆå¥•è¿…&amp;è°­å’éºŸ&quot;, &quot;mvpayinfo&quot;: { &quot;play&quot;: &quot;0&quot;, &quot;vid&quot;: &quot;3991780&quot;, &quot;download&quot;: &quot;0&quot; }, &quot;pic&quot;: &quot;https://img4.kuwo.cn/star/albumcover/120/26/5/2778776974.jpg&quot;, &quot;isstar&quot;: 0, &quot;rid&quot;: 7165139, &quot;duration&quot;: 255, &quot;score100&quot;: &quot;79&quot;, &quot;content_type&quot;: &quot;0&quot;, &quot;track&quot;: 0, &quot;hasLossless&quot;: false, &quot;hasmv&quot;: 1, &quot;album&quot;: &quot;çœŸçš„è‹±é›„&quot;, &quot;albumid&quot;: &quot;558959&quot;, &quot;pay&quot;: &quot;0&quot;, &quot;artistid&quot;: 690, &quot;albumpic&quot;: &quot;https://img4.kuwo.cn/star/albumcover/120/26/5/2778776974.jpg&quot;, &quot;originalsongtype&quot;: 1, &quot;songTimeMinutes&quot;: &quot;04:15&quot;, &quot;isListenFee&quot;: false, &quot;pic120&quot;: &quot;https://img4.kuwo.cn/star/albumcover/120/26/5/2778776974.jpg&quot;, &quot;name&quot;: &quot;çœŸçš„è‹±é›„&quot;, &quot;online&quot;: 1, &quot;payInfo&quot;: { &quot;play&quot;: &quot;0000&quot;, &quot;download&quot;: &quot;0000&quot;, &quot;local_encrypt&quot;: &quot;0&quot;, &quot;limitfree&quot;: &quot;0&quot;, &quot;cannotDownload&quot;: &quot;0&quot;, &quot;cannotOnlinePlay&quot;: &quot;0&quot;, &quot;feeType&quot;: { &quot;song&quot;: &quot;0&quot;, &quot;album&quot;: &quot;0&quot;, &quot;vip&quot;: &quot;0&quot;, &quot;bookvip&quot;: &quot;0&quot; }, &quot;listen_fragment&quot;: &quot;0&quot;, &quot;tips_intercept&quot;: &quot;0&quot; } }, { &quot;musicrid&quot;: &quot;MUSIC_86371&quot;, &quot;barrage&quot;: &quot;0&quot;, &quot;artist&quot;: &quot;é™ˆæ…§ç³&quot;, &quot;mvpayinfo&quot;: { &quot;play&quot;: &quot;0&quot;, &quot;vid&quot;: &quot;253402&quot;, &quot;download&quot;: &quot;0&quot; }, &quot;pic&quot;: &quot;https://img4.kuwo.cn/star/albumcover/120/70/38/3191802684.jpg&quot;, &quot;isstar&quot;: 0, &quot;rid&quot;: 86371, &quot;duration&quot;: 247, &quot;score100&quot;: &quot;79&quot;, &quot;content_type&quot;: &quot;0&quot;, &quot;track&quot;: 0, &quot;hasLossless&quot;: false, &quot;hasmv&quot;: 1, &quot;album&quot;: &quot;é—ªäº®æ¯ä¸€å¤©Shining&amp;nbsp;æ–°æ­Œ&amp;nbsp;+&amp;nbsp;ç²¾é€‰&quot;, &quot;albumid&quot;: &quot;24050&quot;, &quot;pay&quot;: &quot;16515324&quot;, &quot;artistid&quot;: 871, &quot;albumpic&quot;: &quot;https://img4.kuwo.cn/star/albumcover/120/70/38/3191802684.jpg&quot;, &quot;originalsongtype&quot;: 0, &quot;songTimeMinutes&quot;: &quot;04:07&quot;, &quot;isListenFee&quot;: false, &quot;pic120&quot;: &quot;https://img4.kuwo.cn/star/albumcover/120/70/38/3191802684.jpg&quot;, &quot;name&quot;: &quot;è®°äº‹æœ¬-é€‰è‡ªâ€œæˆ‘çš„ç§˜å¯†èŠ±å›­2â€&quot;, &quot;online&quot;: 1, &quot;payInfo&quot;: { &quot;play&quot;: &quot;1100&quot;, &quot;download&quot;: &quot;1111&quot;, &quot;local_encrypt&quot;: &quot;1&quot;, &quot;limitfree&quot;: &quot;0&quot;, &quot;cannotDownload&quot;: &quot;0&quot;, &quot;cannotOnlinePlay&quot;: &quot;0&quot;, &quot;feeType&quot;: { &quot;song&quot;: &quot;1&quot;, &quot;album&quot;: &quot;0&quot;, &quot;vip&quot;: &quot;1&quot;, &quot;bookvip&quot;: &quot;0&quot; }, &quot;listen_fragment&quot;: &quot;0&quot;, &quot;tips_intercept&quot;: &quot;0&quot; } }, pythonå®æˆ˜ç†Ÿæ‚‰ä»¥ä¸Šæ¥å£å°±å¥½åŠäº† åœ¨ç½‘ä¸Šçˆ¬äº†ä»½ä¸é”™çš„å‚è€ƒä»£ç  å¦‚ä¸‹ import time, os, requests, threading, re, multiprocessing from multiprocessing import Pool class KuwoMusic: def __init__(self,cookie): self.cookie = cookie def get_music_url(self, rid): # http://www.kuwo.cn/url?format=mp3&amp;rid=440613&amp;response=url&amp;type=convert_url3&amp;br=320kmp3&amp;from=web&amp;t=1620179066636&amp;httpsStatus=1 base_url = &#39;http://www.kuwo.cn/url&#39; params = { &#39;format&#39;: &#39;mp3&#39;, &#39;rid&#39;: rid, &#39;response&#39;: &#39;url&#39;, &#39;type&#39;: &#39;convert_url3&#39;, &#39;br&#39;: &#39;320kmp3&#39;, # 320K ä»£è¡¨æ˜¯æ— é™¨éŸ³è´¨ã€‚ &#39;from&#39;: &#39;web&#39;, &#39;t&#39;: str(int(time.time() * 1000)), &#39;httpsStatus&#39;: &#39;1&#39; } headers = { &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Host&#39;: &#39;www.kuwo.cn&#39;, &#39;Referer&#39;: &#39;http://www.kuwo.cn/search/list&#39;, &#39;Cookie&#39;: self.cookie, &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#39; } resp = requests.get(url=base_url, params=params, headers=headers) music_url = resp.json().get(&quot;url&quot;) return music_url def music_download(self, url, name): host = re.findall(&#39;https://(.*?)/&#39;, url)[0] headers = { &#39;Accept&#39;: &#39;*/*&#39;, &#39;sec-ch-ua&#39;: &#39;&quot; Not A;Brand&quot;;v = &quot;99&quot;, &quot;Chromium&quot;;v = &quot;90&quot;, &quot;Google Chrome&quot;;v = &quot;90&quot;&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Host&#39;: host, &#39;Referer&#39;: url, &#39;Cookie&#39;: self.cookie, &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#39; } print(name + &quot;.mp3\\tå¼€å§‹ä¸‹è½½...&quot;) data = requests.get(url=url, headers=headers).content try: if not os.path.exists(&quot;éŸ³ä¹ä¸‹è½½&quot;): os.mkdir(&quot;éŸ³ä¹ä¸‹è½½&quot;) except: pass filepath = &quot;éŸ³ä¹ä¸‹è½½/&quot; + name + &#39;.mp3&#39; with open(filepath, &#39;wb&#39;) as f: f.write(data) print(name + &quot;.mp3\\tä¸‹è½½å®Œæˆ.&quot;) def get_music_list(self, key, pn): # http://www.kuwo.cn/api/www/search/searchMusicBykeyWord?key=%E5%91%A8%E6%9D%B0%E4%BC%A6&amp;pn=1&amp;rn=30&amp;httpsStatus=1&amp;reqId=1aee48d0-ad43-11eb-b9fa-5f2f406dcb43 base_url = &#39;http://www.kuwo.cn/api/www/search/searchMusicBykeyWord&#39; params = { &#39;key&#39;: key, &#39;pn&#39;: pn, &#39;rn&#39;: 30, &#39;httpsStatus&#39;: &#39;1&#39; } csrf = re.findall(&quot;kw_token=(.{11})&quot;, self.cookie)[0] headers = { &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Cookie&#39;: self.cookie, &#39;csrf&#39;: csrf, # è¿™ä¸ªå€¼æ˜¯cookie é‡Œé¢çš„ kw_tokenå€¼ &#39;Host&#39;: &#39;www.kuwo.cn&#39;, &#39;Referer&#39;: &#39;http://www.kuwo.cn/search/list&#39;, &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36&#39; } resp = requests.get(url=base_url, params=params, headers=headers) music_data = [] if len(resp.text) &gt; 88: # å‡ºé”™è¿”å›é•¿åº¦æ˜¯84 music_list = resp.json() music_list = music_list[&#39;data&#39;][&#39;list&#39;] for music in music_list: artist = music[&#39;artist&#39;] # æ­Œæ›²æ¼”å”±è€… artist = self.rename_use(artist) name = music[&#39;name&#39;] name = self.rename_use(name) rid = music[&#39;rid&#39;] # æ­Œæ›² rid duration = music[&#39;duration&#39;] # è¿™ä¸ªå€¼æ˜¯æ­Œæ›²æ—¶é•¿ï¼Œå•ä½æ˜¯ ç§’ duration = self.s_to_m(duration) music_data.append({&#39;name&#39;: name, &#39;artist&#39;: artist, &#39;rid&#39;: rid, &#39;duration&#39;: duration}) else: print(&quot;æ•°æ®è·å–å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚&quot;) return music_data def reset_list(self, a): # åˆ—è¡¨å»é‡å¤æ•°æ®ï¼Œ a ä»£è¡¨ä¸€ä¸‹åˆ—è¡¨ c = [] for i in range(len(a)): b = a.pop() if b not in a: c.append(b) return c def rename_use(self, file_name): file_name = file_name.replace(&quot;\\\\&quot;, &#39;&#39;).replace(&quot;/&quot;, &#39;&#39;).replace(&quot;:&quot;, &#39;&#39;).replace(&quot;*&quot;, &#39;&#39;).replace(&quot;?&quot;, &#39;&#39;).replace( &#39;&quot;&#39;, &#39;&#39;).replace(&quot;&lt;&quot;, &#39;&#39;).replace(&quot;&gt;&quot;, &#39;&#39;).replace(&quot;|&quot;, &#39;&#39;).replace(&quot;&amp;nbsp;&quot;, &quot;&quot;) return file_name def s_to_m(self, s): m = int(s) / 60 a = m - int(m) b = a * 60 b = int(b) if int(b) &lt; 10: b = &quot;0&quot; + str(int(b)) ms = str(int(m)) + &quot;ï¼š&quot; + str(b) return ms def show_short(self, name): if len(name) &gt; 18: name = name[:18] + &quot;..&quot; return name def main(self): inp = input(&quot;è¯·è¾“å…¥æ­Œæ›²åæˆ–æ­Œæ‰‹ï¼š\\n&quot;) pn = 1 musics_all = [] while True: music_data = self.get_music_list(inp, pn=pn) if music_data: musics_all.append(music_data) # åœ¨è¿™é‡Œåˆ¤æ–­å»é‡ï¼Œä¹Ÿè¡Œã€‚åªæ˜¯æŠŠå»é‡æ–¹æ³•å†™å‡ºæ¥æ‰æƒ³åˆ°ï¼Œ å”‰ï¼ï¼ for i, music in enumerate(music_data): artist = music[&#39;artist&#39;] # æ­Œæ›²æ¼”å”±è€… artist = self.show_short(artist) name = music[&#39;name&#39;] name = self.show_short(name) rid = music[&#39;rid&#39;] # æ­Œæ›² rid duration = music[&#39;duration&#39;] # æ­Œæ›²æ—¶é•¿ å•ä½ ç§’ songTimeMinutes print(f&quot;{i + 1}. {name} \\tæ¼”å”±:{artist} \\tæ—¶é•¿:{duration}&quot;) print(&quot;*&quot; * 40 + &quot; åä¸½çš„åˆ†å‰²çº¿ &quot; + &quot;*&quot; * 40) if pn == 1: print(&quot;è¯·é€‰æ‹©ä¸‹è½½æ–¹å¼ï¼š \\n1.æŒ‰æ­Œæ›²ç¼–å·ä¸‹è½½ \\t3.ä¸‹ä¸€é¡µ\\t4.å…¨éƒ¨ä¸‹è½½\\t æŒ‰0é€€å‡º\\n&quot;) elif pn &gt; 1: print(&quot;è¯·é€‰æ‹©ä¸‹è½½æ–¹å¼ï¼š \\n1.æŒ‰æ­Œæ›²ç¼–å·ä¸‹è½½ \\t2.ä¸Šä¸€é¡µ \\t3.ä¸‹ä¸€é¡µ\\t4.å…¨éƒ¨ä¸‹è½½\\t æŒ‰0é€€å‡º\\n&quot;) inp_b = input() if inp_b == &#39;1&#39;: while True: print(&quot;é€‰æ‹©æ­Œæ›²ç¼–å·ï¼ŒåŠ å…¥ä¸‹è½½..è¾“å…¥&#39;0&#39;, é€€å‡º&quot;) inp_c = input(&quot;&quot;) if int(inp_c) in [i for i in range(1, 31)]: rid = music_data[int(inp_c) - 1][&#39;rid&#39;] artist = music_data[int(inp_c) - 1][&#39;artist&#39;] name = music_data[int(inp_c) - 1][&#39;name&#39;] music_url = self.get_music_url(rid) music_name = name + &quot;-&quot; + artist th = threading.Thread(target=self.music_download, args=(music_url, music_name)) th.start() # th.join() print(&quot;æ·»åŠ æˆåŠŸï¼Œè¯·ç»§ç»­&quot;) elif inp_c == &#39;0&#39;: print(&quot;æˆåŠŸé€€å‡º&quot;) break else: print(&quot;è¾“å…¥æœ‰è¯¯,æ˜¯å¯¹åº”æ­Œæ›²çš„ç¼–å·ï¼ˆ1,4 æˆ–æ˜¯ 12ï¼‰&quot;) time.sleep(3) elif inp_b == &#39;2&#39;: pn -= 1 if pn &lt;1: print(&quot;æ“ä½œä¸å½“ï¼Œè¯·é‡è¯•&quot;) pn = 1 elif inp_b == &#39;3&#39;: pn += 1 elif inp_b == &#39;4&#39;: musics_all = self.reset_list(musics_all) # å»é™¤é‡å¤æ­Œå• for musics in musics_all: for music in musics: rid = music[&#39;rid&#39;] artist = music[&#39;artist&#39;] name = music[&#39;name&#39;] music_url = self.get_music_url(rid) music_name = name + &quot;-&quot; + artist # print(music_name,music_url) # th = threading.Thread(target=self.music_download, args=(music_url, music_name)) # th.start() # th.join() pool.apply_async(self.music_download, args=(music_url, music_name)) pool.close() pool.join() print(&quot;ä¸‹è½½å®Œæ¯•ï¼Œç¨‹åºå³å°†é€€å‡º&quot;) time.sleep(2) break elif inp_b == &#39;0&#39;: print(&#39;æˆåŠŸé€€å‡ºï¼Œç¨‹åºå³å°†å…³é—­&#39;) time.sleep(2) break else: print(&quot;å¯èƒ½è¾“å…¥æœ‰è¯¯ï¼Œå¯ä»¥é‡è¯•&quot;) time.sleep(2) else: print(&quot;æ•°æ®è·å–å¤±è´¥ï¼Œæˆ–æ²¡æœ‰æ›´å¤šæ­Œæ›²äº†&quot;) time.sleep(2) def get_cookie(): url = &#39;http://www.kuwo.cn/&#39; headers = { &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Host&#39;: &#39;www.kuwo.cn&#39;, &#39;Referer&#39;: &#39;http://www.kuwo.cn/&#39;, &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#39; } res = requests.get(url=url, headers=headers) cookies = res.cookies.items() cookie = &#39;&#39; for name, value in cookies: cookie += &#39;{0}={1};&#39;.format(name, value) return cookie if __name__ == &#39;__main__&#39;: multiprocessing.freeze_support() pool = Pool(3) cookie = get_cookie() kuwo = KuwoMusic(cookie) kuwo.main()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://www.lovelves.cn/tags/çˆ¬è™«/"},{"name":"python","slug":"python","permalink":"https://www.lovelves.cn/tags/python/"},{"name":"é…·æˆ‘éŸ³ä¹çˆ¬å–","slug":"é…·æˆ‘éŸ³ä¹çˆ¬å–","permalink":"https://www.lovelves.cn/tags/é…·æˆ‘éŸ³ä¹çˆ¬å–/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"JdbcTemplate","slug":"JdbcTemplate","date":"2021-06-14T03:33:38.000Z","updated":"2021-06-16T06:40:14.000Z","comments":true,"path":"2021/06/14/JdbcTemplate/","link":"","permalink":"https://www.lovelves.cn/2021/06/14/JdbcTemplate/","excerpt":"","text":"JdbcTemplateåŸºæœ¬ä½¿ç”¨01-JdbcTemplateåŸºæœ¬ä½¿ç”¨-æ¦‚è¿°(äº†è§£)JdbcTemplateæ˜¯springæ¡†æ¶ä¸­æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯å¯¹åŸå§‹ç¹ççš„Jdbc APIå¯¹è±¡çš„ç®€å•å°è£…ã€‚springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„æ“ä½œæ¨¡æ¿ç±»ã€‚ä¾‹å¦‚ï¼šæ“ä½œå…³ç³»å‹æ•°æ®çš„JdbcTemplateå’ŒHibernateTemplateï¼Œæ“ä½œnosqlæ•°æ®åº“çš„RedisTemplateï¼Œæ“ä½œæ¶ˆæ¯é˜Ÿåˆ—çš„JmsTemplateç­‰ç­‰ã€‚ 02-JdbcTemplateåŸºæœ¬ä½¿ç”¨-å¼€å‘æ­¥éª¤(ç†è§£)â‘ å¯¼å…¥spring-jdbcå’Œspring-txåæ ‡ â‘¡åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ â‘¢åˆ›å»ºJdbcTemplateå¯¹è±¡ â‘£æ‰§è¡Œæ•°æ®åº“æ“ä½œ 03-JdbcTemplateåŸºæœ¬ä½¿ç”¨-å¿«é€Ÿå…¥é—¨ä»£ç å®ç°(åº”ç”¨)å¯¼å…¥spring-jdbcå’Œspring-txåæ ‡ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.itheima&lt;/groupId&gt; &lt;artifactId&gt;itheima_spring_jdbc&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;itheima_spring_jdbc Maven Webapp&lt;/name&gt; &lt;!-- FIXME change it to the project&#39;s website --&gt; &lt;url&gt;http://www.example.com&lt;/url&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.32&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt; &lt;version&gt;2.2.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ package com.itheima.domain; public class Account { private String name; private double money; public String getNa me() { return name; } public void setName(String name) { this.name = name; } public double getMoney() { return money; } public void setMoney(double money) { this.money = money; } @Override public String toString() { return &quot;Account{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, money=&quot; + money + &#39;}&#39;; } } åˆ›å»ºJdbcTemplateå¯¹è±¡ æ‰§è¡Œæ•°æ®åº“æ“ä½œ @Test //æµ‹è¯•JdbcTemplateå¼€å‘æ­¥éª¤ public void test1() throws PropertyVetoException { //åˆ›å»ºæ•°æ®æºå¯¹è±¡ ComboPooledDataSource dataSource = new ComboPooledDataSource(); dataSource.setDriverClass(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/test&quot;); dataSource.setUser(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); JdbcTemplate jdbcTemplate = new JdbcTemplate(); //è®¾ç½®æ•°æ®æºå¯¹è±¡ çŸ¥é“æ•°æ®åº“åœ¨å“ª jdbcTemplate.setDataSource(dataSource); //æ‰§è¡Œæ“ä½œ int row = jdbcTemplate.update(&quot;insert into account values(?,?)&quot;, &quot;tom&quot;, 5000); System.out.println(row); } 04-JdbcTemplateåŸºæœ¬ä½¿ç”¨-springäº§ç”Ÿæ¨¡æ¿å¯¹è±¡åˆ†æ(ç†è§£)æˆ‘ä»¬å¯ä»¥å°†JdbcTemplateçš„åˆ›å»ºæƒäº¤ç»™Springï¼Œå°†æ•°æ®æºDataSourceçš„åˆ›å»ºæƒä¹Ÿäº¤ç»™Springï¼Œåœ¨Springå®¹å™¨å†…éƒ¨å°†æ•°æ®æºDataSourceæ³¨å…¥åˆ°JdbcTemplateæ¨¡ç‰ˆå¯¹è±¡ä¸­,ç„¶åé€šè¿‡Springå®¹å™¨è·å¾—JdbcTemplateå¯¹è±¡æ¥æ‰§è¡Œæ“ä½œã€‚ 05-JdbcTemplateåŸºæœ¬ä½¿ç”¨-springäº§ç”Ÿæ¨¡æ¿å¯¹è±¡ä»£ç å®ç°(åº”ç”¨)é…ç½®å¦‚ä¸‹ï¼š &lt;!--æ•°æ®æºå¯¹è±¡--&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql:///test&quot;&gt;&lt;/property&gt; &lt;property name=&quot;user&quot; value=&quot;root&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!--jdbcæ¨¡æ¿å¯¹è±¡--&gt; &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; æµ‹è¯•ä»£ç  @Test //æµ‹è¯•Springäº§ç”ŸjdbcTemplateå¯¹è±¡ public void test2() throws PropertyVetoException { ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); JdbcTemplate jdbcTemplate = app.getBean(JdbcTemplate.class); int row = jdbcTemplate.update(&quot;insert into account values(?,?)&quot;, &quot;lisi&quot;, 5000); System.out.println(row); } 06-JdbcTemplateåŸºæœ¬ä½¿ç”¨-springäº§ç”Ÿæ¨¡æ¿å¯¹è±¡ä»£ç å®ç°ï¼ˆæŠ½å–jdbc.propertiesï¼‰(åº”ç”¨)å°†æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯æŠ½å–åˆ°å¤–éƒ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå’Œspringçš„é…ç½®æ–‡ä»¶åˆ†ç¦»å¼€ï¼Œæœ‰åˆ©äºåæœŸç»´æŠ¤ jdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/test jdbc.username=root jdbc.password=root é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸º: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd &quot;&gt; &lt;!--åŠ è½½jdbc.properties--&gt; &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;!--æ•°æ®æºå¯¹è±¡--&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt; &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt; &lt;/bean&gt; &lt;!--jdbcæ¨¡æ¿å¯¹è±¡--&gt; &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt; 07-JdbcTemplateåŸºæœ¬ä½¿ç”¨-å¸¸ç”¨æ“ä½œ-æ›´æ–°æ“ä½œ(åº”ç”¨)package com.itheima.test; import com.itheima.domain.Account; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.jdbc.core.BeanPropertyRowMapper; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.test.context.ContextConfiguration; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; import java.util.List; @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(&quot;classpath:applicationContext.xml&quot;) public class JdbcTemplateCRUDTest { @Autowired private JdbcTemplate jdbcTemplate; //ä¿®æ”¹æ›´æ–° @Test public void testUpdate(){ jdbcTemplate.update(&quot;update account set money=? where name=?&quot;,10000,&quot;tom&quot;); } //åˆ é™¤ @Test public void testDelete(){ jdbcTemplate.update(&quot;delete from account where name=?&quot;,&quot;tom&quot;); } } 08-JdbcTemplateåŸºæœ¬ä½¿ç”¨-å¸¸ç”¨æ“ä½œ-æŸ¥è¯¢æ“ä½œ(åº”ç”¨)package com.itheima.test; import com.itheima.domain.Account; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.jdbc.core.BeanPropertyRowMapper; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.test.context.ContextConfiguration; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; import java.util.List; @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(&quot;classpath:applicationContext.xml&quot;) public class JdbcTemplateCRUDTest { @Autowired private JdbcTemplate jdbcTemplate; //èšåˆæŸ¥è¯¢ @Test public void testQueryCount(){ Long count = jdbcTemplate.queryForObject(&quot;select count(*) from account&quot;, Long.class); System.out.println(count); } //æŸ¥è¯¢ä¸€ä¸ª @Test public void testQueryOne(){ Account account = jdbcTemplate.queryForObject(&quot;select * from account where name=?&quot;, new BeanPropertyRowMapper&lt;Account&gt;(Account.class), &quot;tom&quot;); System.out.println(account); } //æŸ¥è¯¢æ‰€æœ‰ @Test public void testQueryAll(){ List&lt;Account&gt; accountList = jdbcTemplate.query(&quot;select * from account&quot;, new BeanPropertyRowMapper&lt;Account&gt;(Account.class)); System.out.println(accountList); } } 09-JdbcTemplateåŸºæœ¬ä½¿ç”¨-çŸ¥è¯†è¦ç‚¹(ç†è§£ï¼Œè®°å¿†)â‘ å¯¼å…¥spring-jdbcå’Œspring-txåæ ‡ â‘¡åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ â‘¢åˆ›å»ºJdbcTemplateå¯¹è±¡ JdbcTemplate jdbcTemplate = newJdbcTemplate(); jdbcTemplate.setDataSource(dataSource); â‘£æ‰§è¡Œæ•°æ®åº“æ“ä½œ æ›´æ–°æ“ä½œï¼š jdbcTemplate.update (sql,params) æŸ¥è¯¢æ“ä½œï¼š jdbcTemplate.query (sql,Mapper,params) jdbcTemplate.queryForObject(sql,Mapper,params) å£°æ˜å¼äº‹åŠ¡æ§åˆ¶1. ç¼–ç¨‹å¼äº‹åŠ¡æ§åˆ¶ç›¸å…³å¯¹è±¡1.1 PlatformTransactionManagerPlatformTransactionManager æ¥å£æ˜¯ spring çš„äº‹åŠ¡ç®¡ç†å™¨ï¼Œå®ƒé‡Œé¢æä¾›äº†æˆ‘ä»¬å¸¸ç”¨çš„æ“ä½œäº‹åŠ¡çš„æ–¹æ³•ã€‚ æ³¨æ„ï¼š PlatformTransactionManager æ˜¯æ¥å£ç±»å‹ï¼Œä¸åŒçš„ Dao å±‚æŠ€æœ¯åˆ™æœ‰ä¸åŒçš„å®ç°ç±»ï¼Œä¾‹å¦‚ï¼šDao å±‚æŠ€æœ¯æ˜¯jdbc æˆ– mybatis æ—¶ï¼šorg.springframework.jdbc.datasource.DataSourceTransactionManager Dao å±‚æŠ€æœ¯æ˜¯hibernateæ—¶ï¼šorg.springframework.orm.hibernate5.HibernateTransactionManager 1.2 TransactionDefinitionTransactionDefinition æ˜¯äº‹åŠ¡çš„å®šä¹‰ä¿¡æ¯å¯¹è±¡ï¼Œé‡Œé¢æœ‰å¦‚ä¸‹æ–¹æ³•ï¼š 1. äº‹åŠ¡éš”ç¦»çº§åˆ«è®¾ç½®éš”ç¦»çº§åˆ«ï¼Œå¯ä»¥è§£å†³äº‹åŠ¡å¹¶å‘äº§ç”Ÿçš„é—®é¢˜ï¼Œå¦‚è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œè™šè¯»ã€‚ ISOLATION_DEFAULT ISOLATION_READ_UNCOMMITTED ISOLATION_READ_COMMITTED ISOLATION_REPEATABLE_READ ISOLATION_SERIALIZABLE 2. äº‹åŠ¡ä¼ æ’­è¡Œä¸º REQUIREDï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ã€‚ä¸€èˆ¬çš„é€‰æ‹©ï¼ˆé»˜è®¤å€¼ï¼‰ SUPPORTSï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼ˆæ²¡æœ‰äº‹åŠ¡ï¼‰ MANDATORYï¼šä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ REQUERS_NEWï¼šæ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰åœ¨äº‹åŠ¡ä¸­ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ NOT_SUPPORTEDï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ· NEVERï¼šä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠ›å‡ºå¼‚å¸¸ NESTEDï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œ REQUIRED ç±»ä¼¼çš„æ“ä½œ è¶…æ—¶æ—¶é—´ï¼šé»˜è®¤å€¼æ˜¯-1ï¼Œæ²¡æœ‰è¶…æ—¶é™åˆ¶ã€‚å¦‚æœæœ‰ï¼Œä»¥ç§’ä¸ºå•ä½è¿›è¡Œè®¾ç½® æ˜¯å¦åªè¯»ï¼šå»ºè®®æŸ¥è¯¢æ—¶è®¾ç½®ä¸ºåªè¯» 1.3 TransactionStatusTransactionStatus æ¥å£æä¾›çš„æ˜¯äº‹åŠ¡å…·ä½“çš„è¿è¡ŒçŠ¶æ€ï¼Œæ–¹æ³•ä»‹ç»å¦‚ä¸‹ã€‚ 1.4 çŸ¥è¯†è¦ç‚¹ç¼–ç¨‹å¼äº‹åŠ¡æ§åˆ¶ä¸‰å¤§å¯¹è±¡ PlatformTransactionManager TransactionDefinition TransactionStatus 2 åŸºäº XML çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶2.1 ä»€ä¹ˆæ˜¯å£°æ˜å¼äº‹åŠ¡æ§åˆ¶Spring çš„å£°æ˜å¼äº‹åŠ¡é¡¾åæ€ä¹‰å°±æ˜¯é‡‡ç”¨å£°æ˜çš„æ–¹å¼æ¥å¤„ç†äº‹åŠ¡ã€‚è¿™é‡Œæ‰€è¯´çš„å£°æ˜ï¼Œå°±æ˜¯æŒ‡åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ï¼Œç”¨åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å£°æ˜å¼çš„å¤„ç†äº‹åŠ¡æ¥ä»£æ›¿ä»£ç å¼çš„å¤„ç†äº‹åŠ¡ã€‚ å£°æ˜å¼äº‹åŠ¡å¤„ç†çš„ä½œç”¨ äº‹åŠ¡ç®¡ç†ä¸ä¾µå…¥å¼€å‘çš„ç»„ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œä¸šåŠ¡é€»è¾‘å¯¹è±¡å°±ä¸ä¼šæ„è¯†åˆ°æ­£åœ¨äº‹åŠ¡ç®¡ç†ä¹‹ä¸­ï¼Œäº‹å®ä¸Šä¹Ÿåº”è¯¥å¦‚æ­¤ï¼Œå› ä¸ºäº‹åŠ¡ç®¡ç†æ˜¯å±äºç³»ç»Ÿå±‚é¢çš„æœåŠ¡ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœæƒ³è¦æ”¹å˜äº‹åŠ¡ç®¡ç†ç­–åˆ’çš„è¯ï¼Œä¹Ÿåªéœ€è¦åœ¨å®šä¹‰æ–‡ä»¶ä¸­é‡æ–°é…ç½®å³å¯ åœ¨ä¸éœ€è¦äº‹åŠ¡ç®¡ç†çš„æ—¶å€™ï¼Œåªè¦åœ¨è®¾å®šæ–‡ä»¶ä¸Šä¿®æ”¹ä¸€ä¸‹ï¼Œå³å¯ç§»å»äº‹åŠ¡ç®¡ç†æœåŠ¡ï¼Œæ— éœ€æ”¹å˜ä»£ç é‡æ–°ç¼–è¯‘ï¼Œè¿™æ ·ç»´æŠ¤èµ·æ¥æå…¶æ–¹ä¾¿ æ³¨æ„ï¼šSpring å£°æ˜å¼äº‹åŠ¡æ§åˆ¶åº•å±‚å°±æ˜¯AOPã€‚ 2.2 å£°æ˜å¼äº‹åŠ¡æ§åˆ¶çš„å®ç°å£°æ˜å¼äº‹åŠ¡æ§åˆ¶æ˜ç¡®äº‹é¡¹ï¼š è°æ˜¯åˆ‡ç‚¹ï¼Ÿ è°æ˜¯é€šçŸ¥ï¼Ÿ é…ç½®åˆ‡é¢ï¼Ÿ â‘ å¼•å…¥txå‘½åç©ºé—´ &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; â‘¡é…ç½®äº‹åŠ¡å¢å¼º &lt;!--å¹³å°äº‹åŠ¡ç®¡ç†å™¨--&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!--äº‹åŠ¡å¢å¼ºé…ç½®--&gt; &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt; &lt;tx:attributes&gt; &lt;tx:method name=&quot;*&quot;/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; â‘¢é…ç½®äº‹åŠ¡ AOP ç»‡å…¥ &lt;!--äº‹åŠ¡çš„aopå¢å¼º--&gt; &lt;aop:config&gt; &lt;aop:pointcut id=&quot;myPointcut&quot; expression=&quot;execution(* com.itheima.service.impl.*.*(..))&quot;/&gt; &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;myPointcut&quot;&gt;&lt;/aop:advisor&gt; &lt;/aop:config&gt; â‘£æµ‹è¯•äº‹åŠ¡æ§åˆ¶è½¬è´¦ä¸šåŠ¡ä»£ç  @Override public void transfer(String outMan, String inMan, double money) { accountDao.out(outMan,money); int i = 1/0; accountDao.in(inMan,money); } 2.3 åˆ‡ç‚¹æ–¹æ³•çš„äº‹åŠ¡å‚æ•°çš„é…ç½®&lt;!--äº‹åŠ¡å¢å¼ºé…ç½®--&gt; &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt; &lt;tx:attributes&gt; &lt;tx:method name=&quot;*&quot;/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; å…¶ä¸­ï¼Œtx:method ä»£è¡¨åˆ‡ç‚¹æ–¹æ³•çš„äº‹åŠ¡å‚æ•°çš„é…ç½®ï¼Œä¾‹å¦‚ï¼š &lt;tx:method name=&quot;transfer&quot; isolation=&quot;REPEATABLE_READ&quot; propagation=&quot;REQUIRED&quot; timeout=&quot;-1&quot; read-only=&quot;false&quot;/&gt; nameï¼šåˆ‡ç‚¹æ–¹æ³•åç§° isolation:äº‹åŠ¡çš„éš”ç¦»çº§åˆ« propogationï¼šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º timeoutï¼šè¶…æ—¶æ—¶é—´ read-onlyï¼šæ˜¯å¦åªè¯» 2.4 çŸ¥è¯†è¦ç‚¹å£°æ˜å¼äº‹åŠ¡æ§åˆ¶çš„é…ç½®è¦ç‚¹ å¹³å°äº‹åŠ¡ç®¡ç†å™¨é…ç½® äº‹åŠ¡é€šçŸ¥çš„é…ç½® äº‹åŠ¡aopç»‡å…¥çš„é…ç½® 3 åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶3.1 ä½¿ç”¨æ³¨è§£é…ç½®å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ ç¼–å†™ AccoutDao @Repository(&quot;accountDao&quot;) public class AccountDaoImpl implements AccountDao { @Autowired private JdbcTemplate jdbcTemplate; public void out(String outMan, double money) { jdbcTemplate.update(&quot;update account set money=money-? where name=?&quot;,money,outMan); } public void in(String inMan, double money) { jdbcTemplate.update(&quot;update account set money=money+? where name=?&quot;,money,inMan); } } ç¼–å†™ AccoutService @Service(&quot;accountService&quot;) @Transactional public class AccountServiceImpl implements AccountService { @Autowired private AccountDao accountDao; @Transactional(isolation = Isolation.READ_COMMITTED,propagation = Propagation.REQUIRED) public void transfer(String outMan, String inMan, double money) { accountDao.out(outMan,money); int i = 1/0; accountDao.in(inMan,money); } } ç¼–å†™ applicationContext.xml é…ç½®æ–‡ä»¶ &lt;!â€”ä¹‹å‰çœç•¥datsSourceã€jdbcTemplateã€å¹³å°äº‹åŠ¡ç®¡ç†å™¨çš„é…ç½®--&gt; &lt;!--ç»„ä»¶æ‰«æ--&gt; &lt;context:component-scan base-package=&quot;com.itheima&quot;/&gt; &lt;!--äº‹åŠ¡çš„æ³¨è§£é©±åŠ¨--&gt; &lt;tx:annotation-driven/&gt; 3.2 æ³¨è§£é…ç½®å£°æ˜å¼äº‹åŠ¡æ§åˆ¶è§£æâ‘ ä½¿ç”¨ @Transactional åœ¨éœ€è¦è¿›è¡Œäº‹åŠ¡æ§åˆ¶çš„ç±»æˆ–æ˜¯æ–¹æ³•ä¸Šä¿®é¥°ï¼Œæ³¨è§£å¯ç”¨çš„å±æ€§åŒ xml é…ç½®æ–¹å¼ï¼Œä¾‹å¦‚éš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºç­‰ã€‚ â‘¡æ³¨è§£ä½¿ç”¨åœ¨ç±»ä¸Šï¼Œé‚£ä¹ˆè¯¥ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•éƒ½ä½¿ç”¨åŒä¸€å¥—æ³¨è§£å‚æ•°é…ç½®ã€‚ â‘¢ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œä¸åŒçš„æ–¹æ³•å¯ä»¥é‡‡ç”¨ä¸åŒçš„äº‹åŠ¡å‚æ•°é…ç½®ã€‚ â‘£Xmlé…ç½®æ–‡ä»¶ä¸­è¦å¼€å¯äº‹åŠ¡çš„æ³¨è§£é©±åŠ¨&lt;tx:annotation-driven /&gt; 3.3 çŸ¥è¯†è¦ç‚¹æ³¨è§£å£°æ˜å¼äº‹åŠ¡æ§åˆ¶çš„é…ç½®è¦ç‚¹ å¹³å°äº‹åŠ¡ç®¡ç†å™¨é…ç½®ï¼ˆxmlæ–¹å¼ï¼‰ äº‹åŠ¡é€šçŸ¥çš„é…ç½®ï¼ˆ@Transactionalæ³¨è§£é…ç½®ï¼‰ äº‹åŠ¡æ³¨è§£é©±åŠ¨çš„é…ç½® tx:annotation-driven/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://www.lovelves.cn/tags/springboot/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"springå­¦ä¹ ä¹‹æ—…03","slug":"AOP","date":"2021-06-14T01:42:14.000Z","updated":"2021-06-20T13:37:04.759Z","comments":true,"path":"2021/06/14/AOP/","link":"","permalink":"https://www.lovelves.cn/2021/06/14/AOP/","excerpt":"","text":"1.Spring çš„ AOP ç®€ä»‹1.1 ä»€ä¹ˆæ˜¯ AOPAOP ä¸º Aspect Oriented Programming çš„ç¼©å†™ï¼Œæ„æ€ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯é€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚ AOP æ˜¯ OOP çš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚ 1.2 AOP çš„ä½œç”¨åŠå…¶ä¼˜åŠ¿ä½œç”¨ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œåœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹å¯¹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼º ä¼˜åŠ¿ï¼šå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œå¹¶ä¸”ä¾¿äºç»´æŠ¤ 1.3 AOP çš„åº•å±‚å®ç°å®é™…ä¸Šï¼ŒAOP çš„åº•å±‚æ˜¯é€šè¿‡ Spring æä¾›çš„çš„åŠ¨æ€ä»£ç†æŠ€æœ¯å®ç°çš„ã€‚åœ¨è¿è¡ŒæœŸé—´ï¼ŒSpringé€šè¿‡åŠ¨æ€ä»£ç†æŠ€æœ¯åŠ¨æ€çš„ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡æ–¹æ³•æ‰§è¡Œæ—¶è¿›è¡Œå¢å¼ºåŠŸèƒ½çš„ä»‹å…¥ï¼Œåœ¨å»è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ï¼Œä»è€Œå®ŒæˆåŠŸèƒ½çš„å¢å¼ºã€‚ 1.4 AOP çš„åŠ¨æ€ä»£ç†æŠ€æœ¯å¸¸ç”¨çš„åŠ¨æ€ä»£ç†æŠ€æœ¯ JDK ä»£ç† : åŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†æŠ€æœ¯ cglib ä»£ç†ï¼šåŸºäºçˆ¶ç±»çš„åŠ¨æ€ä»£ç†æŠ€æœ¯ 1.5 JDK çš„åŠ¨æ€ä»£ç†â‘ ç›®æ ‡ç±»æ¥å£ public interface TargetInterface { public void method(); } â‘¡ç›®æ ‡ç±» public class Target implements TargetInterface { @Override public void method() { System.out.println(&quot;Target running....&quot;); } } â‘¢åŠ¨æ€ä»£ç†ä»£ç  Target target = new Target(); //åˆ›å»ºç›®æ ‡å¯¹è±¡ //åˆ›å»ºä»£ç†å¯¹è±¡ TargetInterface proxy = (TargetInterface) Proxy.newProxyInstance(target.getClass() .getClassLoader(),target.getClass().getInterfaces(),new InvocationHandler() { @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(&quot;å‰ç½®å¢å¼ºä»£ç ...&quot;); Object invoke = method.invoke(target, args); System.out.println(&quot;åç½®å¢å¼ºä»£ç ...&quot;); return invoke; } } ); â‘£ è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æµ‹è¯• // æµ‹è¯•,å½“è°ƒç”¨æ¥å£çš„ä»»ä½•æ–¹æ³•æ—¶ï¼Œä»£ç†å¯¹è±¡çš„ä»£ç éƒ½æ— åºä¿®æ”¹ proxy.method(); 1.6 cglib çš„åŠ¨æ€ä»£ç†â‘ ç›®æ ‡ç±» public class Target { public void method() { System.out.println(&quot;Target running....&quot;); } } â‘¡åŠ¨æ€ä»£ç†ä»£ç  Target target = new Target(); //åˆ›å»ºç›®æ ‡å¯¹è±¡ Enhancer enhancer = new Enhancer(); //åˆ›å»ºå¢å¼ºå™¨ enhancer.setSuperclass(Target.class); //è®¾ç½®çˆ¶ç±» enhancer.setCallback(new MethodInterceptor() { //è®¾ç½®å›è°ƒ @Override public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable { System.out.println(&quot;å‰ç½®ä»£ç å¢å¼º....&quot;); Object invoke = method.invoke(target, objects); System.out.println(&quot;åç½®ä»£ç å¢å¼º....&quot;); return invoke; } }); Target proxy = (Target) enhancer.create(); //åˆ›å»ºä»£ç†å¯¹è±¡ â‘¢è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æµ‹è¯• //æµ‹è¯•,å½“è°ƒç”¨æ¥å£çš„ä»»ä½•æ–¹æ³•æ—¶ï¼Œä»£ç†å¯¹è±¡çš„ä»£ç éƒ½æ— åºä¿®æ”¹ proxy.method(); 1.7 AOP ç›¸å…³æ¦‚å¿µSpring çš„ AOP å®ç°åº•å±‚å°±æ˜¯å¯¹ä¸Šé¢çš„åŠ¨æ€ä»£ç†çš„ä»£ç è¿›è¡Œäº†å°è£…ï¼Œå°è£…åæˆ‘ä»¬åªéœ€è¦å¯¹éœ€è¦å…³æ³¨çš„éƒ¨åˆ†è¿›è¡Œä»£ç ç¼–å†™ï¼Œå¹¶é€šè¿‡é…ç½®çš„æ–¹å¼å®ŒæˆæŒ‡å®šç›®æ ‡çš„æ–¹æ³•å¢å¼ºã€‚ åœ¨æ­£å¼è®²è§£ AOP çš„æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»ç†è§£ AOP çš„ç›¸å…³æœ¯è¯­ï¼Œå¸¸ç”¨çš„æœ¯è¯­å¦‚ä¸‹ï¼š Targetï¼ˆç›®æ ‡å¯¹è±¡ï¼‰ï¼šä»£ç†çš„ç›®æ ‡å¯¹è±¡ Proxy ï¼ˆä»£ç†ï¼‰ï¼šä¸€ä¸ªç±»è¢« AOP ç»‡å…¥å¢å¼ºåï¼Œå°±äº§ç”Ÿä¸€ä¸ªç»“æœä»£ç†ç±» Joinpointï¼ˆè¿æ¥ç‚¹ï¼‰ï¼šæ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨springä¸­,è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•ï¼Œå› ä¸ºspringåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹ Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰ï¼šæ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº› Joinpoint è¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ Adviceï¼ˆé€šçŸ¥/ å¢å¼ºï¼‰ï¼šæ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ° Joinpoint ä¹‹åæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ Aspectï¼ˆåˆ‡é¢ï¼‰ï¼šæ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ï¼ˆå¼•ä»‹ï¼‰çš„ç»“åˆ Weavingï¼ˆç»‡å…¥ï¼‰ï¼šæ˜¯æŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚springé‡‡ç”¨åŠ¨æ€ä»£ç†ç»‡å…¥ï¼Œè€ŒAspectJé‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥å’Œç±»è£…è½½æœŸç»‡å…¥ 1.8 AOP å¼€å‘æ˜ç¡®çš„äº‹é¡¹ 1.8 AOP å¼€å‘æ˜ç¡®çš„äº‹é¡¹ 1.8 AOP å¼€å‘æ˜ç¡®çš„äº‹é¡¹1)éœ€è¦ç¼–å†™çš„å†…å®¹ ç¼–å†™æ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼ˆç›®æ ‡ç±»çš„ç›®æ ‡æ–¹æ³•ï¼‰ ç¼–å†™åˆ‡é¢ç±»ï¼Œåˆ‡é¢ç±»ä¸­æœ‰é€šçŸ¥(å¢å¼ºåŠŸèƒ½æ–¹æ³•) åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®ç»‡å…¥å…³ç³»ï¼Œå³å°†å“ªäº›é€šçŸ¥ä¸å“ªäº›è¿æ¥ç‚¹è¿›è¡Œç»“åˆ 2ï¼‰AOP æŠ€æœ¯å®ç°çš„å†…å®¹Spring æ¡†æ¶ç›‘æ§åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ‰§è¡Œã€‚ä¸€æ—¦ç›‘æ§åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•è¢«è¿è¡Œï¼Œä½¿ç”¨ä»£ç†æœºåˆ¶ï¼ŒåŠ¨æ€åˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œæ ¹æ®é€šçŸ¥ç±»åˆ«ï¼Œåœ¨ä»£ç†å¯¹è±¡çš„å¯¹åº”ä½ç½®ï¼Œå°†é€šçŸ¥å¯¹åº”çš„åŠŸèƒ½ç»‡å…¥ï¼Œå®Œæˆå®Œæ•´çš„ä»£ç é€»è¾‘è¿è¡Œã€‚ 3ï¼‰AOP åº•å±‚ä½¿ç”¨å“ªç§ä»£ç†æ–¹å¼åœ¨ spring ä¸­ï¼Œæ¡†æ¶ä¼šæ ¹æ®ç›®æ ‡ç±»æ˜¯å¦å®ç°äº†æ¥å£æ¥å†³å®šé‡‡ç”¨å“ªç§åŠ¨æ€ä»£ç†çš„æ–¹å¼ã€‚ 1.9 çŸ¥è¯†è¦ç‚¹ aopï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ aopåº•å±‚å®ç°ï¼šåŸºäºJDKçš„åŠ¨æ€ä»£ç† å’Œ åŸºäºCglibçš„åŠ¨æ€ä»£ç† aopçš„é‡ç‚¹æ¦‚å¿µï¼š Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰ï¼šè¢«å¢å¼ºçš„æ–¹æ³• Adviceï¼ˆé€šçŸ¥/ å¢å¼ºï¼‰ï¼šå°è£…å¢å¼ºä¸šåŠ¡é€»è¾‘çš„æ–¹æ³• Aspectï¼ˆåˆ‡é¢ï¼‰ï¼šåˆ‡ç‚¹+é€šçŸ¥ Weavingï¼ˆç»‡å…¥ï¼‰ï¼šå°†åˆ‡ç‚¹ä¸é€šçŸ¥ç»“åˆçš„è¿‡ç¨‹ å¼€å‘æ˜ç¡®äº‹é¡¹ï¼š è°æ˜¯åˆ‡ç‚¹ï¼ˆåˆ‡ç‚¹è¡¨è¾¾å¼é…ç½®ï¼‰ è°æ˜¯é€šçŸ¥ï¼ˆåˆ‡é¢ç±»ä¸­çš„å¢å¼ºæ–¹æ³•ï¼‰ å°†åˆ‡ç‚¹å’Œé€šçŸ¥è¿›è¡Œç»‡å…¥é…ç½® 2. åŸºäº XML çš„ AOP å¼€å‘2.1 å¿«é€Ÿå…¥é—¨â‘ å¯¼å…¥ AOP ç›¸å…³åæ ‡ â‘¡åˆ›å»ºç›®æ ‡æ¥å£å’Œç›®æ ‡ç±»ï¼ˆå†…éƒ¨æœ‰åˆ‡ç‚¹ï¼‰ â‘¢åˆ›å»ºåˆ‡é¢ç±»ï¼ˆå†…éƒ¨æœ‰å¢å¼ºæ–¹æ³•ï¼‰ â‘£å°†ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»çš„å¯¹è±¡åˆ›å»ºæƒäº¤ç»™ spring â‘¤åœ¨ applicationContext.xml ä¸­é…ç½®ç»‡å…¥å…³ç³» â‘¥æµ‹è¯•ä»£ç  â‘ å¯¼å…¥ AOP ç›¸å…³åæ ‡ &lt;!--å¯¼å…¥springçš„contextåæ ‡ï¼Œcontextä¾èµ–aop--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.0.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- aspectjçš„ç»‡å…¥ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.8.13&lt;/version&gt; &lt;/dependency&gt; â‘¡åˆ›å»ºç›®æ ‡æ¥å£å’Œç›®æ ‡ç±»ï¼ˆå†…éƒ¨æœ‰åˆ‡ç‚¹ï¼‰ public interface TargetInterface { public void method(); } public class Target implements TargetInterface { @Override public void method() { System.out.println(&quot;Target running....&quot;); } } â‘¢åˆ›å»ºåˆ‡é¢ç±»ï¼ˆå†…éƒ¨æœ‰å¢å¼ºæ–¹æ³•ï¼‰ public class MyAspect { //å‰ç½®å¢å¼ºæ–¹æ³• public void before(){ System.out.println(&quot;å‰ç½®ä»£ç å¢å¼º.....&quot;); } } â‘£å°†ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»çš„å¯¹è±¡åˆ›å»ºæƒäº¤ç»™ spring &lt;!--é…ç½®ç›®æ ‡ç±»--&gt; &lt;bean id=&quot;target&quot; class=&quot;com.itheima.aop.Target&quot;&gt;&lt;/bean&gt; &lt;!--é…ç½®åˆ‡é¢ç±»--&gt; &lt;bean id=&quot;myAspect&quot; class=&quot;com.itheima.aop.MyAspect&quot;&gt;&lt;/bean&gt; â‘¤åœ¨ applicationContext.xml ä¸­é…ç½®ç»‡å…¥å…³ç³» å¯¼å…¥aopå‘½åç©ºé—´ &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; â‘¤åœ¨ applicationContext.xml ä¸­é…ç½®ç»‡å…¥å…³ç³» é…ç½®åˆ‡ç‚¹è¡¨è¾¾å¼å’Œå‰ç½®å¢å¼ºçš„ç»‡å…¥å…³ç³» &lt;aop:config&gt; &lt;!--å¼•ç”¨myAspectçš„Beanä¸ºåˆ‡é¢å¯¹è±¡--&gt; &lt;aop:aspect ref=&quot;myAspect&quot;&gt; &lt;!--é…ç½®Targetçš„methodæ–¹æ³•æ‰§è¡Œæ—¶è¦è¿›è¡ŒmyAspectçš„beforeæ–¹æ³•å‰ç½®å¢å¼º--&gt; &lt;aop:before method=&quot;before&quot; pointcut=&quot;execution(public void com.itheima.aop.Target.method())&quot;&gt;&lt;/aop:before&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt; â‘¥æµ‹è¯•ä»£ç  @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(&quot;classpath:applicationContext.xml&quot;) public class AopTest { @Autowired private TargetInterface target; @Test public void test1(){ target.method(); } } â‘¦æµ‹è¯•ç»“æœ 2.2 XML é…ç½® AOP è¯¦è§£1) åˆ‡ç‚¹è¡¨è¾¾å¼çš„å†™æ³•è¡¨è¾¾å¼è¯­æ³•ï¼š execution([ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°)) è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ è¿”å›å€¼ç±»å‹ã€åŒ…åã€ç±»åã€æ–¹æ³•åå¯ä»¥ä½¿ç”¨æ˜Ÿå·* ä»£è¡¨ä»»æ„ åŒ…åä¸ç±»åä¹‹é—´ä¸€ä¸ªç‚¹ . ä»£è¡¨å½“å‰åŒ…ä¸‹çš„ç±»ï¼Œä¸¤ä¸ªç‚¹ .. è¡¨ç¤ºå½“å‰åŒ…åŠå…¶å­åŒ…ä¸‹çš„ç±» å‚æ•°åˆ—è¡¨å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‚¹ .. è¡¨ç¤ºä»»æ„ä¸ªæ•°ï¼Œä»»æ„ç±»å‹çš„å‚æ•°åˆ—è¡¨ ä¾‹å¦‚ï¼š execution(public void com.itheima.aop.Target.method()) execution(void com.itheima.aop.Target.*(..)) execution(* com.itheima.aop.*.*(..)) execution(* com.itheima.aop..*.*(..)) execution(* *..*.*(..)) 2) é€šçŸ¥çš„ç±»å‹é€šçŸ¥çš„é…ç½®è¯­æ³•ï¼š &lt;aop:é€šçŸ¥ç±»å‹ method=â€œåˆ‡é¢ç±»ä¸­æ–¹æ³•åâ€ pointcut=â€œåˆ‡ç‚¹è¡¨è¾¾å¼&quot;&gt;&lt;/aop:é€šçŸ¥ç±»å‹&gt; 3) åˆ‡ç‚¹è¡¨è¾¾å¼çš„æŠ½å–å½“å¤šä¸ªå¢å¼ºçš„åˆ‡ç‚¹è¡¨è¾¾å¼ç›¸åŒæ—¶ï¼Œå¯ä»¥å°†åˆ‡ç‚¹è¡¨è¾¾å¼è¿›è¡ŒæŠ½å–ï¼Œåœ¨å¢å¼ºä¸­ä½¿ç”¨ pointcut-ref å±æ€§ä»£æ›¿ pointcut å±æ€§æ¥å¼•ç”¨æŠ½å–åçš„åˆ‡ç‚¹è¡¨è¾¾å¼ã€‚ &lt;aop:config&gt; &lt;!--å¼•ç”¨myAspectçš„Beanä¸ºåˆ‡é¢å¯¹è±¡--&gt; &lt;aop:aspect ref=&quot;myAspect&quot;&gt; &lt;aop:pointcut id=&quot;myPointcut&quot; expression=&quot;execution(* com.itheima.aop.*.*(..))&quot;/&gt; &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;myPointcut&quot;&gt;&lt;/aop:before&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt; 2.3 çŸ¥è¯†è¦ç‚¹ aopç»‡å…¥çš„é…ç½® &lt;aop:config&gt; &lt;aop:aspect ref=â€œåˆ‡é¢ç±»â€&gt; &lt;aop:before method=â€œé€šçŸ¥æ–¹æ³•åç§°â€ pointcut=â€œåˆ‡ç‚¹è¡¨è¾¾å¼&quot;&gt;&lt;/aop:before&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt; é€šçŸ¥çš„ç±»å‹ï¼šå‰ç½®é€šçŸ¥ã€åç½®é€šçŸ¥ã€ç¯ç»•é€šçŸ¥ã€å¼‚å¸¸æŠ›å‡ºé€šçŸ¥ã€æœ€ç»ˆé€šçŸ¥ åˆ‡ç‚¹è¡¨è¾¾å¼çš„å†™æ³•ï¼š execution([ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°)) 3.åŸºäºæ³¨è§£çš„ AOP å¼€å‘3.1 å¿«é€Ÿå…¥é—¨åŸºäºæ³¨è§£çš„aopå¼€å‘æ­¥éª¤ï¼š â‘ åˆ›å»ºç›®æ ‡æ¥å£å’Œç›®æ ‡ç±»ï¼ˆå†…éƒ¨æœ‰åˆ‡ç‚¹ï¼‰ â‘¡åˆ›å»ºåˆ‡é¢ç±»ï¼ˆå†…éƒ¨æœ‰å¢å¼ºæ–¹æ³•ï¼‰ â‘¢å°†ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»çš„å¯¹è±¡åˆ›å»ºæƒäº¤ç»™ spring â‘£åœ¨åˆ‡é¢ç±»ä¸­ä½¿ç”¨æ³¨è§£é…ç½®ç»‡å…¥å…³ç³» â‘¤åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç»„ä»¶æ‰«æå’Œ AOP çš„è‡ªåŠ¨ä»£ç† â‘¥æµ‹è¯• â‘ åˆ›å»ºç›®æ ‡æ¥å£å’Œç›®æ ‡ç±»ï¼ˆå†…éƒ¨æœ‰åˆ‡ç‚¹ï¼‰ public interface TargetInterface { public void method(); } public class Target implements TargetInterface { @Override public void method() { System.out.println(&quot;Target running....&quot;); } } â‘¡åˆ›å»ºåˆ‡é¢ç±»ï¼ˆå†…éƒ¨æœ‰å¢å¼ºæ–¹æ³•) public class MyAspect { //å‰ç½®å¢å¼ºæ–¹æ³• public void before(){ System.out.println(&quot;å‰ç½®ä»£ç å¢å¼º.....&quot;); } } â‘¢å°†ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»çš„å¯¹è±¡åˆ›å»ºæƒäº¤ç»™ spring @Component(&quot;target&quot;) public class Target implements TargetInterface { @Override public void method() { System.out.println(&quot;Target running....&quot;); } } @Component(&quot;myAspect&quot;) public class MyAspect { public void before(){ System.out.println(&quot;å‰ç½®ä»£ç å¢å¼º.....&quot;); } } â‘£åœ¨åˆ‡é¢ç±»ä¸­ä½¿ç”¨æ³¨è§£é…ç½®ç»‡å…¥å…³ç³» @Component(&quot;myAspect&quot;) @Aspect public class MyAspect { @Before(&quot;execution(* com.itheima.aop.*.*(..))&quot;) public void before(){ System.out.println(&quot;å‰ç½®ä»£ç å¢å¼º.....&quot;); } } â‘¤åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç»„ä»¶æ‰«æå’Œ AOP çš„è‡ªåŠ¨ä»£ç† &lt;!--ç»„ä»¶æ‰«æ--&gt; &lt;context:component-scan base-package=&quot;com.itheima.aop&quot;/&gt; &lt;!--aopçš„è‡ªåŠ¨ä»£ç†--&gt; &lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt; â‘¥æµ‹è¯•ä»£ç  @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(&quot;classpath:applicationContext.xml&quot;) public class AopTest { @Autowired private TargetInterface target; @Test public void test1(){ target.method(); } } â‘¦æµ‹è¯•ç»“æœ 3.2 æ³¨è§£é…ç½® AOP è¯¦è§£1) æ³¨è§£é€šçŸ¥çš„ç±»å‹é€šçŸ¥çš„é…ç½®è¯­æ³•ï¼š@é€šçŸ¥æ³¨è§£(â€œåˆ‡ç‚¹è¡¨è¾¾å¼â€) 2) åˆ‡ç‚¹è¡¨è¾¾å¼çš„æŠ½å–åŒ xmlé…ç½®aop ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†åˆ‡ç‚¹è¡¨è¾¾å¼æŠ½å–ã€‚æŠ½å–æ–¹å¼æ˜¯åœ¨åˆ‡é¢å†…å®šä¹‰æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸Šä½¿ç”¨@Pointcutæ³¨è§£å®šä¹‰åˆ‡ç‚¹è¡¨è¾¾å¼ï¼Œç„¶ååœ¨åœ¨å¢å¼ºæ³¨è§£ä¸­è¿›è¡Œå¼•ç”¨ã€‚å…·ä½“å¦‚ä¸‹ï¼š @@Component(&quot;myAspect&quot;) @Aspect public class MyAspect { @Before(&quot;MyAspect.myPoint()&quot;) public void before(){ System.out.println(&quot;å‰ç½®ä»£ç å¢å¼º.....&quot;); } @Pointcut(&quot;execution(* com.itheima.aop.*.*(..))&quot;) public void myPoint(){} } 3.3 çŸ¥è¯†è¦ç‚¹ æ³¨è§£aopå¼€å‘æ­¥éª¤ â‘ ä½¿ç”¨@Aspectæ ‡æ³¨åˆ‡é¢ç±» â‘¡ä½¿ç”¨@é€šçŸ¥æ³¨è§£æ ‡æ³¨é€šçŸ¥æ–¹æ³• â‘¢åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®aopè‡ªåŠ¨ä»£ç†aop:aspectj-autoproxy/ 3.4 ç¯ç»•é€šçŸ¥ é—®é¢˜ï¼šå½“æˆ‘ä»¬é…ç½®äº†ç¯ç»•é€šçŸ¥ä¹‹åï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æ²¡æœ‰æ‰§è¡Œï¼Œè€Œé€šçŸ¥æ–¹æ³•æ‰§è¡Œäº†ã€‚ åˆ†æï¼šé€šè¿‡å¯¹æ¯”åŠ¨æ€ä»£ç†ä¸­çš„ç¯ç»•é€šçŸ¥ä»£ç ï¼Œå‘ç°åŠ¨æ€ä»£ç†çš„ç¯ç»•é€šçŸ¥æœ‰æ˜ç¡®çš„åˆ‡å…¥ç‚¹æ–¹æ³•è°ƒç”¨ï¼Œè€Œæˆ‘ä»¬çš„ä»£ç ä¸­æ²¡æœ‰ã€‚è§£å†³ï¼šSpringæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¥å£ï¼šProceedingJoinPointã€‚è¯¥æ¥å£æœ‰ä¸€ä¸ªæ–¹æ³•proceed()ï¼Œæ­¤æ–¹æ³•å°±ç›¸å½“äºæ˜ç¡®è°ƒç”¨åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚è¯¥æ¥å£å¯ä»¥ä½œä¸ºç¯ç»•é€šçŸ¥çš„æ–¹æ³•å‚æ•°ï¼Œåœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œspringæ¡†æ¶ä¼šä¸ºæˆ‘ä»¬æä¾›è¯¥æ¥å£çš„å®ç°ç±»ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ springä¸­çš„ç¯ç»•é€šçŸ¥ï¼š å®ƒæ˜¯springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ç§å¯ä»¥åœ¨ä»£ç ä¸­æ‰‹åŠ¨æ§åˆ¶å¢å¼ºæ–¹æ³•ä½•æ—¶æ‰§è¡Œçš„æ–¹å¼ã€‚ public Object aroundPringLog(ProceedingJoinPoint pjp){ Object rtValue = null; try{ Object[] args = pjp.getArgs();//å¾—åˆ°æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„å‚æ•° System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚å‰ç½®&quot;); rtValue = pjp.proceed(args);//æ˜ç¡®è°ƒç”¨ä¸šåŠ¡å±‚æ–¹æ³•ï¼ˆåˆ‡å…¥ç‚¹æ–¹æ³•ï¼‰ System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚åç½®&quot;); return rtValue; }catch (Throwable t){ System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚å¼‚å¸¸&quot;); throw new RuntimeException(t); }finally { System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚æœ€ç»ˆ&quot;); } } é…ç½®æ–‡ä»¶ &lt;!--é…ç½®AOP--&gt; &lt;aop:config&gt; &lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ idå±æ€§ç”¨äºæŒ‡å®šè¡¨è¾¾å¼çš„å”¯ä¸€æ ‡è¯†ã€‚expressionå±æ€§ç”¨äºæŒ‡å®šè¡¨è¾¾å¼å†…å®¹ æ­¤æ ‡ç­¾å†™åœ¨aop:aspectæ ‡ç­¾å†…éƒ¨åªèƒ½å½“å‰åˆ‡é¢ä½¿ç”¨ã€‚ å®ƒè¿˜å¯ä»¥å†™åœ¨aop:aspectå¤–é¢ï¼Œæ­¤æ—¶å°±å˜æˆäº†æ‰€æœ‰åˆ‡é¢å¯ç”¨ --&gt; &lt;aop:pointcut id=&quot;pt1&quot; expression=&quot;execution(* com.itheima.service.impl.*.*(..))&quot;&gt;&lt;/aop:pointcut&gt; &lt;!--é…ç½®åˆ‡é¢ --&gt; &lt;aop:aspect id=&quot;logAdvice&quot; ref=&quot;logger&quot;&gt; &lt;!-- é…ç½®ç¯ç»•é€šçŸ¥ è¯¦ç»†çš„æ³¨é‡Šè¯·çœ‹Loggerç±»ä¸­--&gt; &lt;aop:around method=&quot;aroundPringLog&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:around&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt; æ³¨è§£é…ç½®æ–¹æ³• public class Logger { @Pointcut(&quot;execution(* com.itheima.service.impl.*.*(..))&quot;) private void pt1(){} @Around(&quot;pt1()&quot;) public Object aroundPringLog(ProceedingJoinPoint pjp){ Object rtValue = null; try{ Object[] args = pjp.getArgs();//å¾—åˆ°æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„å‚æ•° System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚å‰ç½®&quot;); rtValue = pjp.proceed(args);//æ˜ç¡®è°ƒç”¨ä¸šåŠ¡å±‚æ–¹æ³•ï¼ˆåˆ‡å…¥ç‚¹æ–¹æ³•ï¼‰ System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚åç½®&quot;); return rtValue; }catch (Throwable t){ System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚å¼‚å¸¸&quot;); throw new RuntimeException(t); }finally { System.out.println(&quot;Loggerç±»ä¸­çš„aroundPringLogæ–¹æ³•å¼€å§‹è®°å½•æ—¥å¿—äº†ã€‚ã€‚ã€‚æœ€ç»ˆ&quot;); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"spring","slug":"spring","permalink":"https://www.lovelves.cn/tags/spring/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"springå­¦ä¹ ä¹‹æ—…02","slug":"02-SpringIoCå’ŒDIæ³¨è§£å¼€å‘","date":"2021-06-14T01:42:14.000Z","updated":"2021-06-19T13:23:19.509Z","comments":true,"path":"2021/06/14/02-SpringIoCå’ŒDIæ³¨è§£å¼€å‘/","link":"","permalink":"https://www.lovelves.cn/2021/06/14/02-SpringIoCå’ŒDIæ³¨è§£å¼€å‘/","excerpt":"","text":"1.Springé…ç½®æ•°æ®æº(åˆ©ç”¨springæ¥é…ç½®æ•°æ®åº“çš„è¿æ¥æ±  )1.1 æ•°æ®æºï¼ˆè¿æ¥æ± ï¼‰çš„ä½œç”¨æ•°æ®æº(è¿æ¥æ± )æ˜¯æé«˜ç¨‹åºæ€§èƒ½å¦‚å‡ºç°çš„ äº‹å…ˆå®ä¾‹åŒ–æ•°æ®æºï¼Œåˆå§‹åŒ–éƒ¨åˆ†è¿æ¥èµ„æº ä½¿ç”¨è¿æ¥èµ„æºæ—¶ä»æ•°æ®æºä¸­è·å– ä½¿ç”¨å®Œæ¯•åå°†è¿æ¥èµ„æºå½’è¿˜ç»™æ•°æ®æº å¸¸è§çš„æ•°æ®æº(è¿æ¥æ± )ï¼šDBCPã€C3P0ã€BoneCPã€Druidç­‰ å¼€å‘æ­¥éª¤ â‘ å¯¼å…¥æ•°æ®æºçš„åæ ‡å’Œæ•°æ®åº“é©±åŠ¨åæ ‡ â‘¡åˆ›å»ºæ•°æ®æºå¯¹è±¡ â‘¢è®¾ç½®æ•°æ®æºçš„åŸºæœ¬è¿æ¥æ•°æ® â‘£ä½¿ç”¨æ•°æ®æºè·å–è¿æ¥èµ„æºå’Œå½’è¿˜è¿æ¥èµ„æº 1.2 æ•°æ®æºçš„æ‰‹åŠ¨åˆ›å»ºâ‘ å¯¼å…¥c3p0å’Œdruidçš„åæ ‡ &lt;!-- C3P0è¿æ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Druidè¿æ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.10&lt;/version&gt; &lt;/dependency&gt; â‘ å¯¼å…¥mysqlæ•°æ®åº“é©±åŠ¨åæ ‡ &lt;!-- mysqlé©±åŠ¨ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.39&lt;/version&gt; &lt;/dependency&gt; â‘¡åˆ›å»ºC3P0è¿æ¥æ±  @Test public void testC3P0() throws Exception { //åˆ›å»ºæ•°æ®æº ComboPooledDataSource dataSource = new ComboPooledDataSource(); //è®¾ç½®æ•°æ®åº“è¿æ¥å‚æ•° dataSource.setDriverClass(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/test&quot;); dataSource.setUser(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); //è·å¾—è¿æ¥å¯¹è±¡ Connection connection = dataSource.getConnection(); System.out.println(connection); } â‘¡åˆ›å»ºDruidè¿æ¥æ±  @Test public void testDruid() throws Exception { //åˆ›å»ºæ•°æ®æº DruidDataSource dataSource = new DruidDataSource(); //è®¾ç½®æ•°æ®åº“è¿æ¥å‚æ•° dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/test&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); //è·å¾—è¿æ¥å¯¹è±¡ Connection connection = dataSource.getConnection(); System.out.println(connection); } â‘¢æå–jdbc.propertiesé…ç½®æ–‡ä»¶ jdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/test jdbc.username=root jdbc.password=root â‘£è¯»å–jdbc.propertiesé…ç½®æ–‡ä»¶åˆ›å»ºè¿æ¥æ±  @Test public void testC3P0ByProperties() throws Exception { //åŠ è½½ç±»è·¯å¾„ä¸‹çš„jdbc.properties ResourceBundle rb = ResourceBundle.getBundle(&quot;jdbc&quot;); ComboPooledDataSource dataSource = new ComboPooledDataSource(); dataSource.setDriverClass(rb.getString(&quot;jdbc.driver&quot;)); dataSource.setJdbcUrl(rb.getString(&quot;jdbc.url&quot;)); dataSource.setUser(rb.getString(&quot;jdbc.username&quot;)); dataSource.setPassword(rb.getString(&quot;jdbc.password&quot;)); Connection connection = dataSource.getConnection(); System.out.println(connection); } 1.3 Springé…ç½®æ•°æ®æºå¯ä»¥å°†DataSourceçš„åˆ›å»ºæƒäº¤ç”±Springå®¹å™¨å»å®Œæˆ DataSourceæœ‰æ— å‚æ„é€ æ–¹æ³•ï¼Œè€ŒSpringé»˜è®¤å°±æ˜¯é€šè¿‡æ— å‚æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡çš„ DataSourceè¦æƒ³ä½¿ç”¨éœ€è¦é€šè¿‡setæ–¹æ³•è®¾ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œè€ŒSpringå¯ä»¥é€šè¿‡setæ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²æ³¨å…¥ &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot;/&gt; &lt;property name=&quot;user&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt; &lt;/bean&gt; æµ‹è¯•ä»å®¹å™¨å½“ä¸­è·å–æ•°æ®æº ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); DataSource dataSource = (DataSource) applicationContext.getBean(&quot;dataSource&quot;); Connection connection = dataSource.getConnection(); System.out.println(connection); 1.4 æŠ½å–jdbcé…ç½®æ–‡ä»¶applicationContext.xmlåŠ è½½jdbc.propertiesé…ç½®æ–‡ä»¶è·å¾—è¿æ¥ä¿¡æ¯ã€‚ é¦–å…ˆï¼Œéœ€è¦å¼•å…¥contextå‘½åç©ºé—´å’Œçº¦æŸè·¯å¾„ï¼š å‘½åç©ºé—´ï¼šxmlns:context=â€http://www.springframework.org/schema/context&quot; çº¦æŸè·¯å¾„ï¼šhttp://www.springframework.org/schema/contextâ€‹ â€‹ http://www.springframework.org/schema/context/spring-context.xsd &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt; &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt; &lt;/bean&gt; 1.5 çŸ¥è¯†è¦ç‚¹Springå®¹å™¨åŠ è½½propertiesæ–‡ä»¶ &lt;context:property-placeholder location=&quot;xx.properties&quot;/&gt; &lt;property name=&quot;&quot; value=&quot;${key}&quot;/&gt; 2. Springæ³¨è§£å¼€å‘2.1 SpringåŸå§‹æ³¨è§£Springæ˜¯è½»ä»£ç è€Œé‡é…ç½®çš„æ¡†æ¶ï¼Œé…ç½®æ¯”è¾ƒç¹é‡ï¼Œå½±å“å¼€å‘æ•ˆç‡ï¼Œæ‰€ä»¥æ³¨è§£å¼€å‘æ˜¯ä¸€ç§è¶‹åŠ¿ï¼Œæ³¨è§£ä»£æ›¿xmlé…ç½®æ–‡ä»¶å¯ä»¥ç®€åŒ–é…ç½®ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ SpringåŸå§‹æ³¨è§£ä¸»è¦æ˜¯æ›¿ä»£çš„é…ç½® æ³¨è§£ è¯´æ˜ @Component ä½¿ç”¨åœ¨ç±»ä¸Šç”¨äºå®ä¾‹åŒ–Bean @Controller ä½¿ç”¨åœ¨webå±‚ç±»ä¸Šç”¨äºå®ä¾‹åŒ–Bean @Service ä½¿ç”¨åœ¨serviceå±‚ç±»ä¸Šç”¨äºå®ä¾‹åŒ–Bean @Repository ä½¿ç”¨åœ¨daoå±‚ç±»ä¸Šç”¨äºå®ä¾‹åŒ–Bean @Autowired ä½¿ç”¨åœ¨å­—æ®µä¸Šç”¨äºæ ¹æ®ç±»å‹ä¾èµ–æ³¨å…¥ @Qualifier ç»“åˆ@Autowiredä¸€èµ·ä½¿ç”¨ç”¨äºæ ¹æ®åç§°è¿›è¡Œä¾èµ–æ³¨å…¥ @Resource ç›¸å½“äº@Autowired+@Qualifierï¼ŒæŒ‰ç…§åç§°è¿›è¡Œæ³¨å…¥ @Value æ³¨å…¥æ™®é€šå±æ€§ @Scope æ ‡æ³¨Beançš„ä½œç”¨èŒƒå›´ @PostConstruct ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šæ ‡æ³¨è¯¥æ–¹æ³•æ˜¯Beançš„åˆå§‹åŒ–æ–¹æ³• @PreDestroy ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šæ ‡æ³¨è¯¥æ–¹æ³•æ˜¯Beançš„é”€æ¯æ–¹æ³• ç”¨äºåˆ›å»ºå¯¹è±¡çš„ ä»–ä»¬çš„ä½œç”¨å°±å’Œåœ¨XMLé…ç½®æ–‡ä»¶ä¸­ç¼–å†™ä¸€ä¸ªæ ‡ç­¾å®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ Component: ä½œç”¨ï¼šç”¨äºæŠŠå½“å‰ç±»å¯¹è±¡å­˜å…¥springå®¹å™¨ä¸­ å±æ€§ï¼švalueï¼šç”¨äºæŒ‡å®šbeançš„idã€‚å½“æˆ‘ä»¬ä¸å†™æ—¶ï¼Œå®ƒçš„é»˜è®¤å€¼æ˜¯å½“å‰ç±»åï¼Œä¸”é¦–å­—æ¯æ”¹å°å†™ã€‚ Controllerï¼šä¸€èˆ¬ç”¨åœ¨è¡¨ç°å±‚ Serviceï¼šä¸€èˆ¬ç”¨åœ¨ä¸šåŠ¡å±‚ Repositoryï¼šä¸€èˆ¬ç”¨åœ¨æŒä¹…å±‚ ä»¥ä¸Šä¸‰ä¸ªæ³¨è§£ä»–ä»¬çš„ä½œç”¨å’Œå±æ€§ä¸Componentæ˜¯ä¸€æ¨¡ä¸€æ ·ã€‚ ä»–ä»¬ä¸‰ä¸ªæ˜¯springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›æ˜ç¡®çš„ä¸‰å±‚ä½¿ç”¨çš„æ³¨è§£ï¼Œä½¿æˆ‘ä»¬çš„ä¸‰å±‚å¯¹è±¡æ›´åŠ æ¸…æ™° æ³¨æ„ï¼š ä½¿ç”¨æ³¨è§£è¿›è¡Œå¼€å‘æ—¶ï¼Œéœ€è¦åœ¨applicationContext.xmlä¸­é…ç½®ç»„ä»¶æ‰«æï¼Œä½œç”¨æ˜¯æŒ‡å®šå“ªä¸ªåŒ…åŠå…¶å­åŒ…ä¸‹çš„Beanéœ€è¦è¿›è¡Œæ‰«æä»¥ä¾¿è¯†åˆ«ä½¿ç”¨æ³¨è§£é…ç½®çš„ç±»ã€å­—æ®µå’Œæ–¹æ³•ã€‚ &lt;!--æ³¨è§£çš„ç»„ä»¶æ‰«æ--&gt; &lt;context:component-scan base-package=&quot;com.itheima&quot;&gt;&lt;/context:component-scan&gt; ä½¿ç”¨@Compontæˆ–@Repositoryæ ‡è¯†UserDaoImpléœ€è¦Springè¿›è¡Œå®ä¾‹åŒ–ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ä½¿ç”¨@Compontæˆ–@Serviceæ ‡è¯†UserServiceImpléœ€è¦Springè¿›è¡Œå®ä¾‹åŒ– //@Component(&quot;userDao&quot;) @Repository(&quot;userDao&quot;) public class UserDaoImpl implements UserDao { @Override public void save() { System.out.println(&quot;save running... ...&quot;); } } ç”¨äºæ³¨å…¥æ•°æ®çš„ ä»–ä»¬çš„ä½œç”¨å°±å’Œåœ¨xmlé…ç½®æ–‡ä»¶ä¸­çš„beanæ ‡ç­¾ä¸­å†™ä¸€ä¸ªæ ‡ç­¾çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ Autowired: ä½œç”¨ï¼šè‡ªåŠ¨æŒ‰ç…§ç±»å‹æ³¨å…¥ã€‚åªè¦å®¹å™¨ä¸­æœ‰å”¯ä¸€çš„ä¸€ä¸ªbeanå¯¹è±¡ç±»å‹å’Œè¦æ³¨å…¥çš„å˜é‡ç±»å‹åŒ¹é…ï¼Œå°±å¯ä»¥æ³¨å…¥æˆåŠŸ å¦‚æœiocå®¹å™¨ä¸­æ²¡æœ‰ä»»ä½•beançš„ç±»å‹å’Œè¦æ³¨å…¥çš„å˜é‡ç±»å‹åŒ¹é…ï¼Œåˆ™æŠ¥é”™ã€‚ å¦‚æœIocå®¹å™¨ä¸­æœ‰å¤šä¸ªç±»å‹åŒ¹é…æ—¶ï¼š å‡ºç°ä½ç½®ï¼š å¯ä»¥æ˜¯å˜é‡ä¸Šï¼Œä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•ä¸Š ç»†èŠ‚ï¼š åœ¨ä½¿ç”¨æ³¨è§£æ³¨å…¥æ—¶ï¼Œsetæ–¹æ³•å°±ä¸æ˜¯å¿…é¡»çš„äº†ã€‚ Qualifier: ä½œç”¨ï¼šåœ¨æŒ‰ç…§ç±»ä¸­æ³¨å…¥çš„åŸºç¡€ä¹‹ä¸Šå†æŒ‰ç…§åç§°æ³¨å…¥ã€‚å®ƒåœ¨ç»™ç±»æˆå‘˜æ³¨å…¥æ—¶ä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚ä½†æ˜¯åœ¨ç»™æ–¹æ³•å‚æ•°æ³¨å…¥æ—¶å¯ä»¥ å±æ€§ï¼š valueï¼šç”¨äºæŒ‡å®šæ³¨å…¥beançš„idã€‚ Resource ä½œç”¨ï¼šç›´æ¥æŒ‰ç…§beançš„idæ³¨å…¥ã€‚å®ƒå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ å±æ€§ï¼š nameï¼šç”¨äºæŒ‡å®šbeançš„idã€‚ ä»¥ä¸Šä¸‰ä¸ªæ³¨å…¥éƒ½åªèƒ½æ³¨å…¥å…¶ä»–beanç±»å‹çš„æ•°æ®ï¼Œè€ŒåŸºæœ¬ç±»å‹å’ŒStringç±»å‹æ— æ³•ä½¿ç”¨ä¸Šè¿°æ³¨è§£å®ç°ã€‚ å¦å¤–ï¼Œé›†åˆç±»å‹çš„æ³¨å…¥åªèƒ½é€šè¿‡XMLæ¥å®ç°ã€‚* Value ä½œç”¨ï¼šç”¨äºæ³¨å…¥åŸºæœ¬ç±»å‹å’ŒStringç±»å‹çš„æ•°æ® å±æ€§ï¼š valueï¼šç”¨äºæŒ‡å®šæ•°æ®çš„å€¼ã€‚å®ƒå¯ä»¥ä½¿ç”¨springä¸­SpEL(ä¹Ÿå°±æ˜¯springçš„elè¡¨è¾¾å¼ï¼‰ SpELçš„å†™æ³•ï¼š${è¡¨è¾¾å¼}ä½¿ç”¨@Autowiredæˆ–è€…@Autowired+@Qulifieræˆ–è€…@Resourceè¿›è¡ŒuserDaoçš„æ³¨å…¥ //@Component(&quot;userService&quot;) @Service(&quot;userService&quot;) public class UserServiceImpl implements UserService { /*@Autowired @Qualifier(&quot;userDao&quot;)*/ @Resource(name=&quot;userDao&quot;) private UserDao userDao; @Override public void save() { userDao.save(); } } ä½¿ç”¨@Valueè¿›è¡Œå­—ç¬¦ä¸²çš„æ³¨å…¥ @Repository(&quot;userDao&quot;) public class UserDaoImpl implements UserDao { @Value(&quot;æ³¨å…¥æ™®é€šæ•°æ®&quot;) private String str; @Value(&quot;${jdbc.driver}&quot;) private String driver; @Override public void save() { System.out.println(str); System.out.println(driver); System.out.println(&quot;save running... ...&quot;); } } * ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´çš„ ä»–ä»¬çš„ä½œç”¨å°±å’Œåœ¨beanæ ‡ç­¾ä¸­ä½¿ç”¨scopeå±æ€§å®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ Scope ä½œç”¨ï¼šç”¨äºæŒ‡å®šbeançš„ä½œç”¨èŒƒå›´ å±æ€§ï¼š valueï¼šæŒ‡å®šèŒƒå›´çš„å–å€¼ã€‚å¸¸ç”¨å–å€¼ï¼šsingleton prototype* å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ äº†è§£ ä»–ä»¬çš„ä½œç”¨å°±å’Œåœ¨beanæ ‡ç­¾ä¸­ä½¿ç”¨init-methodå’Œdestroy-methodeçš„ä½œç”¨æ˜¯ä¸€æ ·çš„ PreDestroy ä½œç”¨ï¼šç”¨äºæŒ‡å®šé”€æ¯æ–¹æ³• PostConstruct ä½œç”¨ï¼šç”¨äºæŒ‡å®šåˆå§‹åŒ–æ–¹æ³• ä½¿ç”¨@Scopeæ ‡æ³¨Beançš„èŒƒå›´ //@Scope(&quot;prototype&quot;) @Scope(&quot;singleton&quot;) public class UserDaoImpl implements UserDao { //æ­¤å¤„çœç•¥ä»£ç  } ä½¿ç”¨@PostConstructæ ‡æ³¨åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨@PreDestroyæ ‡æ³¨é”€æ¯æ–¹æ³• @PostConstruct public void init(){ System.out.println(&quot;åˆå§‹åŒ–æ–¹æ³•....&quot;); } @PreDestroy public void destroy(){ System.out.println(&quot;é”€æ¯æ–¹æ³•.....&quot;); } 2.2 Springæ–°æ³¨è§£ Configuration ä½œç”¨ï¼šæŒ‡å®šå½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±» ç»†èŠ‚ï¼šå½“é…ç½®ç±»ä½œä¸ºAnnotationConfigApplicationContextå¯¹è±¡åˆ›å»ºçš„å‚æ•°æ—¶ï¼Œè¯¥æ³¨è§£å¯ä»¥ä¸å†™ã€‚ ComponentScan ä½œç”¨ï¼šç”¨äºé€šè¿‡æ³¨è§£æŒ‡å®šspringåœ¨åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ… å±æ€§ï¼š valueï¼šå®ƒå’ŒbasePackagesçš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç”¨äºæŒ‡å®šåˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…ã€‚ æˆ‘ä»¬ä½¿ç”¨æ­¤æ³¨è§£å°±ç­‰åŒäºåœ¨xmlä¸­é…ç½®äº†: &lt;context:component-scan base-package=&quot;com.itheima&quot;&gt;&lt;/context:component-scan&gt; Bean ä½œç”¨ï¼šç”¨äºæŠŠå½“å‰æ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºbeanå¯¹è±¡å­˜å…¥springçš„iocå®¹å™¨ä¸­ å±æ€§: name:ç”¨äºæŒ‡å®šbeançš„idã€‚å½“ä¸å†™æ—¶ï¼Œé»˜è®¤å€¼æ˜¯å½“å‰æ–¹æ³•çš„åç§° ç»†èŠ‚ï¼š å½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®æ–¹æ³•æ—¶ï¼Œå¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œspringæ¡†æ¶ä¼šå»å®¹å™¨ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å¯ç”¨çš„beanå¯¹è±¡ã€‚ æŸ¥æ‰¾çš„æ–¹å¼å’ŒAutowiredæ³¨è§£çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ Import ä½œç”¨ï¼šç”¨äºå¯¼å…¥å…¶ä»–çš„é…ç½®ç±» å±æ€§ï¼š valueï¼šç”¨äºæŒ‡å®šå…¶ä»–é…ç½®ç±»çš„å­—èŠ‚ç ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨Importçš„æ³¨è§£ä¹‹åï¼Œæœ‰Importæ³¨è§£çš„ç±»å°±çˆ¶é…ç½®ç±»ï¼Œè€Œå¯¼å…¥çš„éƒ½æ˜¯å­é…ç½®ç±» PropertySource ä½œç”¨ï¼šç”¨äºæŒ‡å®špropertiesæ–‡ä»¶çš„ä½ç½® å±æ€§ï¼š valueï¼šæŒ‡å®šæ–‡ä»¶çš„åç§°å’Œè·¯å¾„ã€‚ å…³é”®å­—ï¼šclasspathï¼Œè¡¨ç¤ºç±»è·¯å¾„ä¸‹ @Configuration @ComponentScan @Import @Configuration @ComponentScan(&quot;com.itheima&quot;) @Import({DataSourceConfiguration.class}) public class SpringConfiguration { } @PropertySource @value @PropertySource(&quot;classpath:jdbc.properties&quot;) public class DataSourceConfiguration { @Value(&quot;${jdbc.driver}&quot;) private String driver; @Value(&quot;${jdbc.url}&quot;) private String url; @Value(&quot;${jdbc.username}&quot;) private String username; @Value(&quot;${jdbc.password}&quot;) private String password; @Bean @Bean(name=&quot;dataSource&quot;) public DataSource getDataSource() throws PropertyVetoException { ComboPooledDataSource dataSource = new ComboPooledDataSource(); dataSource.setDriverClass(driver); dataSource.setJdbcUrl(url); dataSource.setUser(username); dataSource.setPassword(password); return dataSource; } æµ‹è¯•åŠ è½½æ ¸å¿ƒé…ç½®ç±»åˆ›å»ºSpringå®¹å™¨ @Test public void testAnnoConfiguration() throws Exception { ApplicationContext applicationContext = new AnnotationConfigApplicationContext(SpringConfiguration.class); UserService userService = (UserService) applicationContext.getBean(&quot;userService&quot;); userService.save(); DataSource dataSource = (DataSource) applicationContext.getBean(&quot;dataSource&quot;); Connection connection = dataSource.getConnection(); System.out.println(connection); } 3. Springæ•´åˆJunit3.1 åŸå§‹Junitæµ‹è¯•Springçš„é—®é¢˜åœ¨æµ‹è¯•ç±»ä¸­ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½æœ‰ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;); IAccountService as = ac.getBean(&quot;accountService&quot;,IAccountService.class); è¿™ä¸¤è¡Œä»£ç çš„ä½œç”¨æ˜¯è·å–å®¹å™¨ï¼Œå¦‚æœä¸å†™çš„è¯ï¼Œç›´æ¥ä¼šæç¤ºç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚æ‰€ä»¥åˆä¸èƒ½è½»æ˜“åˆ æ‰ã€‚ 3.2 ä¸Šè¿°é—®é¢˜è§£å†³æ€è·¯è®©SpringJunitè´Ÿè´£åˆ›å»ºSpringå®¹å™¨ï¼Œä½†æ˜¯éœ€è¦å°†é…ç½®æ–‡ä»¶çš„åç§°å‘Šè¯‰å®ƒ å°†éœ€è¦è¿›è¡Œæµ‹è¯•Beanç›´æ¥åœ¨æµ‹è¯•ç±»ä¸­è¿›è¡Œæ³¨å…¥ 3.3 Springé›†æˆJunitæ­¥éª¤â‘ å¯¼å…¥springé›†æˆJunitçš„åæ ‡ â‘¡ä½¿ç”¨@Runwithæ³¨è§£æ›¿æ¢åŸæ¥çš„è¿è¡ŒæœŸ â‘¢ä½¿ç”¨@ContextConfigurationæŒ‡å®šé…ç½®æ–‡ä»¶æˆ–é…ç½®ç±» â‘£ä½¿ç”¨@Autowiredæ³¨å…¥éœ€è¦æµ‹è¯•çš„å¯¹è±¡ â‘¤åˆ›å»ºæµ‹è¯•æ–¹æ³•è¿›è¡Œæµ‹è¯• 3.4 Springé›†æˆJunitä»£ç å®ç°â‘ å¯¼å…¥springé›†æˆJunitçš„åæ ‡ &lt;!--æ­¤å¤„éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œspring5 åŠä»¥ä¸Šç‰ˆæœ¬è¦æ±‚ junit çš„ç‰ˆæœ¬å¿…é¡»æ˜¯ 4.12 åŠä»¥ä¸Š--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;5.0.2.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; â‘¡ä½¿ç”¨@Runwithæ³¨è§£æ›¿æ¢åŸæ¥çš„è¿è¡ŒæœŸ @RunWith(SpringJUnit4ClassRunner.class) public class SpringJunitTest { } â‘¢ä½¿ç”¨@ContextConfigurationæŒ‡å®šé…ç½®æ–‡ä»¶æˆ–é…ç½®ç±» @RunWith(SpringJUnit4ClassRunner.class) //åŠ è½½springæ ¸å¿ƒé…ç½®æ–‡ä»¶ //@ContextConfiguration(value = {&quot;classpath:applicationContext.xml&quot;}) //åŠ è½½springæ ¸å¿ƒé…ç½®ç±» @ContextConfiguration(classes = {SpringConfiguration.class}) public class SpringJunitTest { } â‘£ä½¿ç”¨@Autowiredæ³¨å…¥éœ€è¦æµ‹è¯•çš„å¯¹è±¡ @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(classes = {SpringConfiguration.class}) public class SpringJunitTest { @Autowired private UserService userService; } â‘¤åˆ›å»ºæµ‹è¯•æ–¹æ³•è¿›è¡Œæµ‹è¯• @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(classes = {SpringConfiguration.class})public class SpringJunitTest { @Autowired private UserService userService; @Test public void testUserService(){ userService.save(); } } å¯ä»¥ç”¨gitä¸‹è½½ç›¸å…³ä»£ç  git clone https://gitee.com/lovelves/learning-code-warehouse.git","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"spring","slug":"spring","permalink":"https://www.lovelves.cn/tags/spring/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"hexoçš„å®‰è£…ä½¿ç”¨","slug":"hexo","date":"2021-06-14T01:42:14.000Z","updated":"2021-06-20T13:37:00.746Z","comments":true,"path":"2021/06/14/hexo/","link":"","permalink":"https://www.lovelves.cn/2021/06/14/hexo/","excerpt":"","text":"hexoå®‰è£…åŠä½¿ç”¨å®‰è£…å‰å¿…å¤‡ç¯å¢ƒå¤§å‰ææ˜¯è¦å®‰è£…nodejs å’Œgitgitçš„ä¸‹è½½åœ°å€ https://git-scm.com/downloads ï¼ˆgitå®‰è£…å¯¹åº”çš„ç‰ˆæœ¬å°±å¯ä»¥äº† å®‰è£…å¥½ç®€å• è¿™å°±ä¸å™è¿°äº†ï¼‰nodeä¸‹è½½åœ°å€ https://nodejs.org/dist/ç”±äºæ¯ä¸ªäººçš„ç”µè„‘ç¯å¢ƒæ˜¯ä¸ä¸€æ ·çš„ æ‰“å¼€è¿™ä¸ªç½‘ç«™é€‰æ‹©è‡ªå·±ç”µè„‘é€‚åˆçš„ç‰ˆæœ¬ä¸‹è½½msi ååºç»“å°¾çš„æ˜¯windowsç‰ˆæœ¬ï¼Œpkgç»“å°¾çš„æ˜¯macç‰ˆæœ¬ ï¼Œzipç»“å°¾çš„æ˜¯ç»¿è‰²ç‰ˆgzç»“å°¾çš„äº‹linuxç‰ˆæœ¬ å®‰è£…å¾ˆç®€å• ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å®Œæˆå°±å¯ä»¥äº† å°±æ˜¯ç»¿è‰²ç‰ˆæ¯”è¾ƒéº»çƒ¦ éœ€è¦è‡ªå·±é…ç½®ç¯å¢ƒå˜é‡ å»ºè®®é€‰æ‹©12ç‰ˆæœ¬ ä¸é«˜ä¸ä½ é«˜ç‰ˆæœ¬åªæ”¯æŒwin10å®‰è£…åçš„ç¬¬ä¸€ä»¶äº‹ç»™npm æ¢æºç”±äºå›½å†…ç½‘ç»œç¯å¢ƒ åªèƒ½æ¢æºæ‰èƒ½æé«˜é€Ÿåº¦ä½¿ç”¨npm æ·˜å®é•œåƒï¼ˆhttp://npm.taobao.org/ï¼‰å¯åœ¨cmdå‘½ä»¤çª—å£æ‰§è¡Œï¼š npm install -g cnpm --registry=https://registry.npm.taobao.org å®‰è£…å®Œå ä»¥åç”¨cnpm æ¥ä»£æ›¿npmä»¥ä¸Šéƒ½å®‰è£…å¥½åå¯ä»¥ å®‰è£…hexoäº† å®‰è£…hexoåœ¨cmdå‘½ä»¤çª—å£æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ cnpm install hexo-cli -g hexo ä½¿ç”¨æ–¹æ³•ç”Ÿæˆhexo å®˜æ–¹çš„ç®€å•ä¸»é¢˜åˆå§‹åŒ–ç”Ÿæˆhexoç›¸å…³æ–‡ä»¶åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥ä»¥ä¸‹å‘½ä»¤ mkdir hello hexo init åœ¨helloæ–‡ä»¶ä¸­ä¼šç”Ÿæˆä»¥ä¸‹ç›®å½• ç”Ÿæˆé™æ€é¡µé¢åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥ä»¥ä¸‹å‘½ä»¤ hexo g è¿è¡ŒæœåŠ¡ hexo s è®¿é—®æµè§ˆ http://localhost:4000ä¸€ä¸ªç®€å•çš„åšå®¢ç½‘ç«™å°±æ­å»ºå®Œæˆäº†ã€‚æŒºç®€å•çš„ ç½‘ç«™ä¸­çš„ç›¸å…³ç›®å½•è¯¦ç»†ä»‹ç»_config.yml é…ç½®æ–‡ä»¶ é…ç½®ç«™ç‚¹ç›¸å…³ä¿¡æ¯ # Hexo Configuration ## Docs: https://hexo.io/docs/configuration.html ## Source: https://github.com/hexojs/hexo/ # Site ç½‘ç«™ç›¸å…³ä¿¡æ¯ title: Hexo. # ç½‘ç«™æ ‡é¢˜ subtitle: &#39;&#39; description: &#39;&#39; keywords: author: John Doe #ä½œè€… language: en timezone: &#39;&#39; # URL ## Set your site url here. For example, if you use GitHub Page, set url as &#39;https://username.github.io/project&#39; url: http://example.com # éƒ¨ç½²çš„ç½‘ç«™åœ°å€ permalink: :year/:month/:day/:title/ permalink_defaults: pretty_urls: trailing_index: true # Set to false to remove trailing &#39;index.html&#39; from permalinks trailing_html: true # Set to false to remove trailing &#39;.html&#39; from permalinks # Directory source_dir: source public_dir: public tag_dir: tags archive_dir: archives category_dir: categories code_dir: downloads/code i18n_dir: :lang skip_render: # Writing new_post_name: :title.md # File name of new posts default_layout: post titlecase: false # Transform title into titlecase external_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: &#39;&#39; filename_case: 0 render_drafts: false post_asset_folder: false # å»ºè®®ä¸ºtureã€‚ relative_link: false future: true highlight: enable: true line_number: true auto_detect: false tab_replace: &#39;&#39; wrap: true hljs: false prismjs: enable: false preprocess: true line_number: true tab_replace: &#39;&#39; # Home page setting # path: Root path for your blogs index page. (default = &#39;&#39;) # per_page: Posts displayed per page. (0 = disable pagination) # order_by: Posts order. (Order by date descending by default) index_generator: path: &#39;&#39; per_page: 10 order_by: -date # Category &amp; Tag default_category: uncategorized category_map: tag_map: # Metadata elements ## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta meta_generator: true # Date / Time format ## Hexo uses Moment.js to parse and display date ## You can customize the date format as defined in ## http://momentjs.com/docs/#/displaying/format/ date_format: YYYY-MM-DD time_format: HH:mm:ss ## updated_option supports &#39;mtime&#39;, &#39;date&#39;, &#39;empty&#39; updated_option: &#39;mtime&#39; # Pagination ## Set per_page to 0 to disable pagination per_page: 10 pagination_dir: page # Include / Exclude file(s) ## include:/exclude: options only apply to the &#39;source/&#39; folder include: exclude: ignore: # Extensions ## Plugins: https://hexo.io/plugins/ ## Themes: https://hexo.io/themes/ theme: landscape #ä¿®æ”¹ä¸»é¢˜ # Deployment ## Docs: https://hexo.io/docs/one-command-deployment deploy: type: &#39;&#39; é…ç½®æ–‡ä»¶æ¯”è¾ƒé‡è¦çš„å±æ€§theme å±æ€§ ç½‘ä¸Šä¸‹è½½ä¸»é¢˜åæ”¾åˆ°æ ¹ç›®å½•çš„themesæ–‡ä»¶å¤¹ä¸­ ç„¶åæŠŠä¸»é¢˜åå­—å†™åˆ°è¿™é‡Œæ¯”å¦‚ æˆ‘ç”¨çš„æ˜¯Sakura ä¸»é¢˜åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ä¸º post_asset_folder å±æ€§è¿™ä¸ªå±æ€§ä¸º true æ–¹ä¾¿æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡ å½“ä½ æ–°å»ºæ–‡ç« æ—¶ ä¼šè‡ªåŠ¨ç”Ÿæˆæ–‡ç« å¯¹åº”çš„æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾å›¾ç‰‡ç„¶ååœ¨æ–‡ç« ä¸­ç”¨ {% asset_img å›¾ç‰‡1.jpg å›¾ç‰‡æè¿° %} æ’å…¥å›¾ç‰‡ å›¾ç‰‡è·¯å¾„å¼•ç”¨æ–‡ç« å¯¹åº”çš„æ–‡ä»¶å¤¹å¦‚æœæƒ³ç”¨å›mdæ’å…¥å›¾ç‰‡è¯­æ³• å¯ä»¥åœ¨é…ç½®æ–‡ä»¶è¿™æ ·é…ç½® post_asset_folder: true marked: prependRoot: true postAsset: true è¿™æ ·é…ç½®å mdä¸­æ’å…¥å›¾ç‰‡å°±ç®€å•äº† ç›´æ¥å†™å›¾ç‰‡çš„åå­—å¦‚ ![](å›¾ç‰‡.png) deploy å±æ€§å®šä¹‰éƒ¨ç½²çš„gitåœ°å€ä»¥githubä¸ºä¾‹ deploy: type: git repo: # github: git@github.com:honjun/honjun.github.io.git # github: https://github.com/honjun/honjun.github.io.git coding: git@github.com:lingdas/lingdas.github.io.git branch: master public ç¨‹åºç”Ÿæˆçš„é™æ€é¡µé¢ ä½†ä½ æ‰§è¡Œ hexo g çš„æ—¶å€™ ä¼šç”Ÿæˆthemes å­˜æ”¾ä¸»é¢˜çš„åœ°æ–¹ ä¸»é¢˜æ”¾å¥½äº†è®°å¾—åœ¨_config.yml ä¸­ä¿®æ”¹themeå±æ€§scaffolds æ¨¡ç‰ˆ å½“ä½ æ‰§è¡Œå‘½ä»¤ hexo n æ—¶å€™ å®ƒé»˜è®¤ç”Ÿæˆ _postä¸­çš„æ¨¡ç‰ˆsource æœ€é‡è¦çš„ä¸€ä¸ªæ–‡ä»¶ æ”¾ä½ çš„æ–‡ç«  å…¶ä»–æ–‡ä»¶å¯ä»¥ä¸¢ è¿™ä¸ªæ–‡ä»¶å¯ä¸èƒ½ä¸¢ éƒ½æ˜¯ä½ çš„å¿ƒè¡€ æ—¥å¸¸ç»å¸¸ä½¿ç”¨çš„hexoå‘½ä»¤æ¸…é™¤å·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶è¿™ä¸ªæ­¥éª¤æ˜¯ é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ– æˆ–åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚ hexo clean ç”Ÿæˆé™æ€æ–‡ä»¶ å½“æ–°å¢æ–‡ç«  æ–‡ç« å˜åŠ¨æ—¶ä½¿ç”¨å®ƒ hexo g è¿è¡ŒæœåŠ¡ åœ¨æœ¬åœ°è¿è¡Œç½‘ç«™ hexo s æ–°å»ºæ–‡ç«  hexo n æ–‡ç« æ ‡é¢˜ ä¼šåœ¨ sourceä¸­çš„_postsä¸­ç”Ÿæˆä¸€ä¸ªmdæ–‡ä»¶ æ–‡ç« å¤´éƒ¨åˆ† å®šä¹‰æ ‡é¢˜ å›¾ç‰‡ æè¿°ç­‰ç­‰ å¦‚ --- title: AOP date: 2021-06-14 09:42:14 author: lovelves avatar: https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1441836571,2166773131&amp;fm=26&amp;gp=0.jpg authorLink: authorAbout: ä¸€ä¸ªå¥½å¥‡çš„äºº authorDesc: ä¸€ä¸ªå¥½å¥‡çš„äºº categories: æŠ€æœ¯ comments: true tags: springboot keywords: aop description: photos: https://cdn.jsdelivr.net/gh/lingdas/note/img/6.jpg --- ä»¥ä¸Šè¿™æ®µæ¯ä¸ªæ–‡ç« å¿…é¡»å¸¦ä¸Š å¯ä»¥é€šè¿‡ä¿®æ”¹scaffolds/post_md æ¥å®šä¹‰æ¯æ¬¡æ–°å¢çš„æ–‡ç« æ ¼å¼ éƒ¨ç½²å‘½ä»¤ hexo d ä¸€é”®éƒ¨ç½² hexo clean &amp;&amp; hexo g -d å°æç¤º éƒ¨ç½²åˆ°githubå‰ è¦å®‰è£…æ­¤æ’ä»¶ å¦åˆ™éƒ¨ç½²ä¸æˆåŠŸ cnpm install hexo-deployer-git --save çœ‹å®Œä»¥ä¸Š å»ºè®®å»å®˜æ–¹https://hexo.io/zh-cn/docs/ çœ‹çœ‹ åŠ å¼ºå°è±¡ å°æŠ€å·§ç”¨githubåšå›¾åºŠ è®¿é—®çš„æ—¶å€™ç”¨è¿™ä¸ªé“¾æ¥åŠ é€Ÿhttps://cdn.jsdelivr.net/gh/githubçš„åå­—/é¡¹ç›®åå­—/å…·ä½“å›¾ç‰‡è·¯å¾„ å¦‚ä¸‹é¢ æˆ‘çš„åå­—æ˜¯lingdas é¡¹ç›®æ˜¯note å…·ä½“è·¯å¾„ /img/7.jpg https://cdn.jsdelivr.net/gh/lingdas/note/img/7.jpg å®‰è£…çœ‹ç‰ˆå¨˜cnpm install --save hexo-helper-live2d æ¨¡å‹ä¸‹è½½ cnpm install live2d-widget-model-tsumiki æ¨¡å‹åˆ—è¡¨ live2d-widget-model-chitose live2d-widget-model-epsilon2_1 live2d-widget-model-gf live2d-widget-model-haru/01 live2d-widget-model-haru/02 live2d-widget-model-haruto live2d-widget-model-hibiki live2d-widget-model-hijiki live2d-widget-model-izumi live2d-widget-model-koharu live2d-widget-model-miku live2d-widget-model-ni-j live2d-widget-model-nico live2d-widget-model-nietzsche live2d-widget-model-nipsilon live2d-widget-model-nito live2d-widget-model-shizuku live2d-widget-model-tororo live2d-widget-model-tsumiki live2d-widget-model-unitychan live2d-widget-model-wanko live2d-widget-model-z16 æ¨¡å‹é…ç½®ï¼ˆåœ¨æ ¹ç›®å½•_config.ymlåé¢åŠ ä¸Šè¿™ä¸ªé…ç½®ï¼‰ # Live2D ## https://github.com/EYHN/hexo-helper-live2d live2d: enable: true # enable: false scriptFrom: local # é»˜è®¤ pluginRootPath: live2dw/ # æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„) pluginJsPath: lib/ # è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„ pluginModelPath: assets/ # æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„ # scriptFrom: jsdelivr # jsdelivr CDN # scriptFrom: unpkg # unpkg CDN # scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # ä½ çš„è‡ªå®šä¹‰ url tagMode: false # æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­ debug: false # è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿— model: use: live2d-widget-model-haru # ä½ ä¸‹è½½çš„æ¨¡å‹åå­— scale: 1 hHeadPos: 0.5 vHeadPos: 0.618 # use: live2d-widget-model-wanko # npm-module package name # use: wanko # åšå®¢æ ¹ç›®å½•/live2d_models/ ä¸‹çš„ç›®å½•å # use: ./wives/wanko # ç›¸å¯¹äºåšå®¢æ ¹ç›®å½•çš„è·¯å¾„ # use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # ä½ çš„è‡ªå®šä¹‰ url display: superSample: 2 width: 280 height: 480 position: right hOffset: 0 vOffset: -20 mobile: show: true # æ˜¯å¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤º scale: 0.5 # ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç¼©æ”¾ react: opacityDefault: 0.7 opacityOnHover: 0.8 åœ¨æˆ‘ä»¬çš„Hexoæ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªlive2d_modelsæ–‡ä»¶å¤¹ï¼Œæ³¨æ„ï¼šæ–‡ä»¶å¤¹å¿…é¡»ä¸ºè¯¥åå­—æŠŠä¸‹è½½çš„æ¨¡å‹å¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ live2d_modelsæ¯”å¦‚æˆ‘ä¸‹è½½äº†è¿™ä¸ªæ¨¡å‹ åœ¨node_modules ä¸­ æŠŠä¸Šæ–‡ä»¶å¤åˆ¶åˆ°åˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­æ¯”å¦‚ æˆ‘æƒ³ç”¨ Bronyaè¿™ä¸ªæ¨¡å‹ æˆ‘å°±ä¿®æ”¹é…ç½®ä¸­çš„ model: use: live2d-widget-model-haru # è¿™é‡Œä¿®æ”¹ä¸ºBronya scale: 1 hHeadPos: 0.5 vHeadPos: 0.618 åŠ å¼ºç‰ˆçœ‹æ¿å¨˜å¦‚æœå·²ç»å®‰è£…è¿‡å®˜æ–¹æä¾›çš„live2dï¼Œéœ€è¦å…ˆå¸è½½ï¼ cnpm uninstall hexo-helper-live2d ç»è¿‡å¼ ä¹¦æ¨µå¤§ç¥é­”æ”¹åçš„é¡¹ç›®ä¸‹è½½åœ°å€ï¼šhttps://github.com/stevenjoezhang/live2d-widgetæŠŠé¡¹ç›®æ–‡ä»¶ä¸‹è½½è§£å‹åˆ°ï¼šthemes\\ä¸»é¢˜åå­—\\source\\æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€é¡¹ç›®ç›®å½•è¿›å…¥ä¿®æ”¹autoload.jsæ–‡ä»¶ï¼Œå°†live2d_pathè®¾ä¸ºè‡ªå·±çš„è·¯å¾„ï¼Œä¸€èˆ¬æ²¡ä»€ä¹ˆå¤ªå¤§å˜åŒ–éƒ½ä¸ºï¼š/live2d-widget/ç„¶ååœ¨ header æ¨¡ç‰ˆçš„headerä¸­ä¸­å¼•å…¥ &lt;!--è‡ªå®šä¹‰çœ‹æ¿å¨˜--&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;/&gt; è¿™æ ·å°±å¯ä»¥äº†çœ‹åˆ°æ•ˆæœäº†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://www.lovelves.cn/tags/hexo/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"Springå­¦ä¹ ä¹‹æ—…-01","slug":"springbootç¬”è®°","date":"2021-06-14T00:46:12.000Z","updated":"2021-06-19T13:22:57.786Z","comments":true,"path":"2021/06/14/springbootç¬”è®°/","link":"","permalink":"https://www.lovelves.cn/2021/06/14/springbootç¬”è®°/","excerpt":"","text":"1. springæ¦‚è¿°1.1 Springæ˜¯ä»€ä¹ˆï¼ˆç†è§£ï¼‰Springæ˜¯åˆ†å±‚çš„ Java SE/EEåº”ç”¨ full-stack è½»é‡çº§å¼€æºæ¡†æ¶ï¼Œä»¥ IoCï¼ˆInverse Of Controlï¼šåè½¬æ§åˆ¶ï¼‰å’Œ AOPï¼ˆAspect Oriented Programmingï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ä¸ºå†…æ ¸ã€‚ æä¾›äº†å±•ç°å±‚ SpringMVCå’ŒæŒä¹…å±‚ Spring JDBCTemplateä»¥åŠä¸šåŠ¡å±‚äº‹åŠ¡ç®¡ç†ç­‰ä¼—å¤šçš„ä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œè¿˜èƒ½æ•´åˆå¼€æºä¸–ç•Œä¼—å¤šè‘—åçš„ç¬¬ä¸‰æ–¹æ¡†æ¶å’Œç±»åº“ï¼Œé€æ¸æˆä¸ºä½¿ç”¨æœ€å¤šçš„Java EE ä¼ä¸šåº”ç”¨å¼€æºæ¡†æ¶ 1.2 Springå‘å±•å†ç¨‹ ï¼ˆäº†è§£ï¼‰Rod Johnson ï¼ˆ Spring ä¹‹çˆ¶ï¼‰ 2017 å¹´9 æœˆä»½å‘å¸ƒäº† Spring çš„æœ€æ–°ç‰ˆæœ¬ Spring5.0é€šç”¨ç‰ˆï¼ˆGAï¼‰ 1.3 Springçš„ä¼˜åŠ¿ï¼ˆç†è§£ï¼‰æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ AOP ç¼–ç¨‹çš„æ”¯æŒ å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯• 1.4 Springçš„ä½“ç³»ç»“æ„ï¼ˆäº†è§£ï¼‰ 2. springå¿«é€Ÿå…¥é—¨2.1 Springç¨‹åºå¼€å‘æ­¥éª¤â‘ å¯¼å…¥ Spring å¼€å‘çš„åŸºæœ¬åŒ…åæ ‡ â‘¡ç¼–å†™ Dao æ¥å£å’Œå®ç°ç±» â‘¢åˆ›å»º Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ â‘£åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­é…ç½® UserDaoImpl â‘¤ä½¿ç”¨ Spring çš„ API è·å¾— Bean å®ä¾‹ 2.2 å¯¼å…¥Springå¼€å‘çš„åŸºæœ¬åŒ…åæ ‡ å•å…ƒæµ‹è¯•&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;artifactId&gt;spring_01&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;aliyun&lt;/id&gt; &lt;name&gt;aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/repository/public&lt;/url&gt; &lt;/repository&gt; &lt;/repositories&gt; &lt;!--å¯¼å…¥springçš„contextåæ ‡ï¼Œcontextä¾èµ–coreã€beansã€expression--&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.3.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;!-- junitçš„ç‰ˆæœ¬æœ‰3.x, 4.x, 5.x 5.xè¿˜æ²¡æœ‰å‘å¸ƒ, ç°åœ¨éƒ½ç”¨æ˜¯4.x --&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; 2.3 ç¼–å†™Daoæ¥å£å’Œå®ç°ç±»public interface UserDao { public void save(); } public class UserDaoImpl implements UserDao { @Override public void save() { System.out.println(&quot;UserDao save method running....&quot;); } } 2.4 åˆ›å»ºSpringæ ¸å¿ƒé…ç½®æ–‡ä»¶åœ¨ç±»è·¯å¾„ä¸‹ï¼ˆresourcesï¼‰åˆ›å»ºapplicationContext.xmlé…ç½®æ–‡ä»¶ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;/beans&gt; 2.5 åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®UserDaoImpl&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;bean id=&quot;userDao&quot; class=&quot;com.lovelves.UserDaoimpl&quot;&gt;&lt;/bean&gt; &lt;/beans&gt; 2.6 ä½¿ç”¨Springçš„APIè·å¾—Beanå®ä¾‹@Test public void test1(){ ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); UserDao userDao = (UserDao) applicationContext.getBean(&quot;userDao&quot;); userDao.save(); } 3. Springé…ç½®æ–‡ä»¶3.1 Beanæ ‡ç­¾åŸºæœ¬é…ç½®ç”¨äºé…ç½®å¯¹è±¡äº¤ç”±Spring æ¥åˆ›å»ºã€‚ é»˜è®¤æƒ…å†µä¸‹å®ƒè°ƒç”¨çš„æ˜¯ç±»ä¸­çš„æ— å‚æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°åˆ™ä¸èƒ½åˆ›å»ºæˆåŠŸã€‚ åŸºæœ¬å±æ€§ï¼š idï¼šBeanå®ä¾‹åœ¨Springå®¹å™¨ä¸­çš„å”¯ä¸€æ ‡è¯† classï¼šBeançš„å…¨é™å®šåç§° 3.2 Beanæ ‡ç­¾èŒƒå›´é…ç½®scope:æŒ‡å¯¹è±¡çš„ä½œç”¨èŒƒå›´ï¼Œå–å€¼å¦‚ä¸‹ï¼š å–å€¼èŒƒå›´ è¯´æ˜ singleton é»˜è®¤å€¼ï¼Œå•ä¾‹çš„ prototype å¤šä¾‹çš„ request WEB é¡¹ç›®ä¸­ï¼ŒSpring åˆ›å»ºä¸€ä¸ª Bean çš„å¯¹è±¡ï¼Œå°†å¯¹è±¡å­˜å…¥åˆ° request åŸŸä¸­ session WEB é¡¹ç›®ä¸­ï¼ŒSpring åˆ›å»ºä¸€ä¸ª Bean çš„å¯¹è±¡ï¼Œå°†å¯¹è±¡å­˜å…¥åˆ° session åŸŸä¸­ global session WEB é¡¹ç›®ä¸­ï¼Œåº”ç”¨åœ¨ Portlet ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ Portlet ç¯å¢ƒé‚£ä¹ˆglobalSession ç›¸å½“äº session 1ï¼‰å½“scopeçš„å–å€¼ä¸ºsingletonæ—¶ â€‹ Beançš„å®ä¾‹åŒ–ä¸ªæ•°ï¼š1ä¸ª â€‹ Beançš„å®ä¾‹åŒ–æ—¶æœºï¼šå½“Springæ ¸å¿ƒæ–‡ä»¶è¢«åŠ è½½æ—¶ï¼Œå®ä¾‹åŒ–é…ç½®çš„Beanå®ä¾‹ â€‹ Beançš„ç”Ÿå‘½å‘¨æœŸï¼š å¯¹è±¡åˆ›å»ºï¼šå½“åº”ç”¨åŠ è½½ï¼Œåˆ›å»ºå®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«åˆ›å»ºäº† å¯¹è±¡è¿è¡Œï¼šåªè¦å®¹å™¨åœ¨ï¼Œå¯¹è±¡ä¸€ç›´æ´»ç€ å¯¹è±¡é”€æ¯ï¼šå½“åº”ç”¨å¸è½½ï¼Œé”€æ¯å®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«é”€æ¯äº† 2ï¼‰å½“scopeçš„å–å€¼ä¸ºprototypeæ—¶ â€‹ Beançš„å®ä¾‹åŒ–ä¸ªæ•°ï¼šå¤šä¸ª â€‹ Beançš„å®ä¾‹åŒ–æ—¶æœºï¼šå½“è°ƒç”¨getBean()æ–¹æ³•æ—¶å®ä¾‹åŒ–Bean å¯¹è±¡åˆ›å»ºï¼šå½“ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œåˆ›å»ºæ–°çš„å¯¹è±¡å®ä¾‹ å¯¹è±¡è¿è¡Œï¼šåªè¦å¯¹è±¡åœ¨ä½¿ç”¨ä¸­ï¼Œå°±ä¸€ç›´æ´»ç€ å¯¹è±¡é”€æ¯ï¼šå½“å¯¹è±¡é•¿æ—¶é—´ä¸ç”¨æ—¶ï¼Œè¢« Java çš„åƒåœ¾å›æ”¶å™¨å›æ”¶äº† 3.3 Beanç”Ÿå‘½å‘¨æœŸé…ç½®init-methodï¼šæŒ‡å®šç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•åç§° destroy-methodï¼šæŒ‡å®šç±»ä¸­é”€æ¯æ–¹æ³•åç§° 3.4 Beanå®ä¾‹åŒ–ä¸‰ç§æ–¹å¼1ï¼‰ ä½¿ç”¨æ— å‚æ„é€ æ–¹æ³•å®ä¾‹åŒ– â€‹ å®ƒä¼šæ ¹æ®é»˜è®¤æ— å‚æ„é€ æ–¹æ³•æ¥åˆ›å»ºç±»å¯¹è±¡ï¼Œå¦‚æœbeanä¸­æ²¡æœ‰é»˜è®¤æ— å‚æ„é€ å‡½æ•°ï¼Œå°†ä¼šåˆ›å»ºå¤±è´¥ &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;/&gt; 2ï¼‰ å·¥å‚é™æ€æ–¹æ³•å®ä¾‹åŒ– â€‹ å·¥å‚çš„é™æ€æ–¹æ³•è¿”å›Beanå®ä¾‹ public class StaticFactoryBean { public static UserDao createUserDao(){ return new UserDaoImpl(); } } &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.factory.StaticFactoryBean&quot; factory-method=&quot;createUserDao&quot; /&gt; 3ï¼‰ å·¥å‚å®ä¾‹æ–¹æ³•å®ä¾‹åŒ– â€‹ å·¥å‚çš„éé™æ€æ–¹æ³•è¿”å›Beanå®ä¾‹ public class DynamicFactoryBean { public UserDao createUserDao(){ return new UserDaoImpl(); } } &lt;bean id=&quot;factoryBean&quot; class=&quot;com.itheima.factory.DynamicFactoryBean&quot;/&gt; &lt;bean id=&quot;userDao&quot; factory-bean=&quot;factoryBean&quot; factory-method=&quot;createUserDao&quot;/&gt; 3.5 Beançš„ä¾èµ–æ³¨å…¥å…¥é—¨â‘ åˆ›å»º UserServiceï¼ŒUserService å†…éƒ¨åœ¨è°ƒç”¨ UserDaoçš„save() æ–¹æ³• public class UserServiceImpl implements UserService { @Override public void save() { ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); UserDao userDao = (UserDao) applicationContext.getBean(&quot;userDao&quot;); userDao.save(); } } â‘¡å°† UserServiceImpl çš„åˆ›å»ºæƒäº¤ç»™ Spring &lt;bean id=&quot;userService&quot; class=&quot;com.itheima.service.impl.UserServiceImpl&quot;/&gt; â‘¢ä» Spring å®¹å™¨ä¸­è·å¾— UserService è¿›è¡Œæ“ä½œ ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); UserService userService = (UserService) applicationContext.getBean(&quot;userService&quot;); userService.save(); 3.6 Beançš„ä¾èµ–æ³¨å…¥æ¦‚å¿µä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰ï¼šå®ƒæ˜¯ Spring æ¡†æ¶æ ¸å¿ƒ IOC çš„å…·ä½“å®ç°ã€‚ åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œé€šè¿‡æ§åˆ¶åè½¬ï¼ŒæŠŠå¯¹è±¡çš„åˆ›å»ºäº¤ç»™äº† Springï¼Œä½†æ˜¯ä»£ç ä¸­ä¸å¯èƒ½å‡ºç°æ²¡æœ‰ä¾èµ–çš„æƒ…å†µã€‚ IOC è§£è€¦åªæ˜¯é™ä½ä»–ä»¬çš„ä¾èµ–å…³ç³»ï¼Œä½†ä¸ä¼šæ¶ˆé™¤ã€‚ä¾‹å¦‚ï¼šä¸šåŠ¡å±‚ä»ä¼šè°ƒç”¨æŒä¹…å±‚çš„æ–¹æ³•ã€‚ é‚£è¿™ç§ä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚çš„ä¾èµ–å…³ç³»ï¼Œåœ¨ä½¿ç”¨ Spring ä¹‹åï¼Œå°±è®© Spring æ¥ç»´æŠ¤äº†ã€‚ ç®€å•çš„è¯´ï¼Œå°±æ˜¯åç­‰æ¡†æ¶æŠŠæŒä¹…å±‚å¯¹è±¡ä¼ å…¥ä¸šåŠ¡å±‚ï¼Œè€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»è·å– 3.7 Beançš„ä¾èµ–æ³¨å…¥æ–¹å¼â‘ æ„é€ æ–¹æ³• â€‹ åˆ›å»ºæœ‰å‚æ„é€  public class UserServiceImpl implements UserService { @Override public void save() { ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); UserDao userDao = (UserDao) applicationContext.getBean(&quot;userDao&quot;); userDao.save(); } } â€‹ é…ç½®Springå®¹å™¨è°ƒç”¨æœ‰å‚æ„é€ æ—¶è¿›è¡Œæ³¨å…¥ &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;/&gt; &lt;bean id=&quot;userService&quot; class=&quot;com.itheima.service.impl.UserServiceImpl&quot;&gt; &lt;constructor-arg name=&quot;userDao&quot; ref=&quot;userDao&quot;&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; â‘¡setæ–¹æ³• â€‹ åœ¨UserServiceImplä¸­æ·»åŠ setUserDaoæ–¹æ³• public class UserServiceImpl implements UserService { private UserDao userDao; public void setUserDao(UserDao userDao) { this.userDao = userDao; } @Override public void save() { userDao.save(); } } â€‹ é…ç½®Springå®¹å™¨è°ƒç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥ &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;/&gt; &lt;bean id=&quot;userService&quot; class=&quot;com.itheima.service.impl.UserServiceImpl&quot;&gt; &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;/&gt; &lt;/bean&gt; setæ–¹æ³•:På‘½åç©ºé—´æ³¨å…¥ â€‹ På‘½åç©ºé—´æ³¨å…¥æœ¬è´¨ä¹Ÿæ˜¯setæ–¹æ³•æ³¨å…¥ï¼Œä½†æ¯”èµ·ä¸Šè¿°çš„setæ–¹æ³•æ³¨å…¥æ›´åŠ æ–¹ä¾¿ï¼Œä¸»è¦ä½“ç°åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹ï¼š â€‹ é¦–å…ˆï¼Œéœ€è¦å¼•å…¥På‘½åç©ºé—´ï¼š xmlns:p=&quot;http://www.springframework.org/schema/p&quot; å…¶æ¬¡ï¼Œéœ€è¦ä¿®æ”¹æ³¨å…¥æ–¹å¼ &lt;bean id=&quot;userService&quot; class=&quot;com.itheima.service.impl.UserServiceImpl&quot; p:userDao-ref=&quot;userDao&quot;/&gt; 3.8 Beançš„ä¾èµ–æ³¨å…¥çš„æ•°æ®ç±»å‹ä¸Šé¢çš„æ“ä½œï¼Œéƒ½æ˜¯æ³¨å…¥çš„å¼•ç”¨Beanï¼Œå¤„äº†å¯¹è±¡çš„å¼•ç”¨å¯ä»¥æ³¨å…¥ï¼Œæ™®é€šæ•°æ®ç±»å‹ï¼Œé›†åˆç­‰éƒ½å¯ä»¥åœ¨å®¹å™¨ä¸­è¿›è¡Œæ³¨å…¥ã€‚ æ³¨å…¥æ•°æ®çš„ä¸‰ç§æ•°æ®ç±»å‹ æ™®é€šæ•°æ®ç±»å‹ å¼•ç”¨æ•°æ®ç±»å‹ é›†åˆæ•°æ®ç±»å‹ å…¶ä¸­å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ­¤å¤„å°±ä¸å†èµ˜è¿°äº†ï¼Œä¹‹å‰çš„æ“ä½œéƒ½æ˜¯å¯¹UserDaoå¯¹è±¡çš„å¼•ç”¨è¿›è¡Œæ³¨å…¥çš„ï¼Œä¸‹é¢å°†ä»¥setæ–¹æ³•æ³¨å…¥ä¸ºä¾‹ï¼Œæ¼”ç¤ºæ™®é€šæ•°æ®ç±»å‹å’Œé›†åˆæ•°æ®ç±»å‹çš„æ³¨å…¥ã€‚ Beançš„ä¾èµ–æ³¨å…¥çš„æ•°æ®ç±»å‹ ï¼ˆ1ï¼‰æ™®é€šæ•°æ®ç±»å‹çš„æ³¨å…¥ public class UserDaoImpl implements UserDao { private String company; private int age; public void setCompany(String company) { this.company = company; } public void setAge(int age) { this.age = age; } public void save() { System.out.println(company+&quot;===&quot;+age); System.out.println(&quot;UserDao save method running....&quot;); } } &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt; &lt;property name=&quot;company&quot; value=&quot;ä¼ æ™ºæ’­å®¢&quot;&gt;&lt;/property&gt; &lt;property name=&quot;age&quot; value=&quot;15&quot;&gt;&lt;/property&gt; &lt;/bean&gt; ï¼ˆ2ï¼‰é›†åˆæ•°æ®ç±»å‹ï¼ˆListï¼‰çš„æ³¨å…¥ public class UserDaoImpl implements UserDao { private List&lt;String&gt; strList; public void setStrList(List&lt;String&gt; strList) { this.strList = strList; } public void save() { System.out.println(strList); System.out.println(&quot;UserDao save method running....&quot;); } } &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt; &lt;property name=&quot;strList&quot;&gt; &lt;list&gt; &lt;value&gt;aaa&lt;/value&gt; &lt;value&gt;bbb&lt;/value&gt; &lt;value&gt;ccc&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; ï¼ˆ3ï¼‰é›†åˆæ•°æ®ç±»å‹ï¼ˆListï¼‰çš„æ³¨å…¥ public class UserDaoImpl implements UserDao { private List&lt;User&gt; userList; public void setUserList(List&lt;User&gt; userList) { this.userList = userList; } public void save() { System.out.println(userList); System.out.println(&quot;UserDao save method running....&quot;); } } &lt;bean id=&quot;u1&quot; class=&quot;com.itheima.domain.User&quot;/&gt; &lt;bean id=&quot;u2&quot; class=&quot;com.itheima.domain.User&quot;/&gt; &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt; &lt;property name=&quot;userList&quot;&gt; &lt;list&gt; &lt;bean class=&quot;com.itheima.domain.User&quot;/&gt; &lt;bean class=&quot;com.itheima.domain.User&quot;/&gt; &lt;ref bean=&quot;u1&quot;/&gt; &lt;ref bean=&quot;u2&quot;/&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; ï¼ˆ4ï¼‰é›†åˆæ•°æ®ç±»å‹ï¼ˆ Map&lt;String,User&gt; ï¼‰çš„æ³¨å…¥ public class UserDaoImpl implements UserDao { private Map&lt;String,User&gt; userMap; public void setUserMap(Map&lt;String, User&gt; userMap) { this.userMap = userMap; } public void save() { System.out.println(userMap); System.out.println(&quot;UserDao save method running....&quot;); } } &lt;bean id=&quot;u1&quot; class=&quot;com.itheima.domain.User&quot;/&gt; &lt;bean id=&quot;u2&quot; class=&quot;com.itheima.domain.User&quot;/&gt; &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt; &lt;property name=&quot;userMap&quot;&gt; &lt;map&gt; &lt;entry key=&quot;user1&quot; value-ref=&quot;u1&quot;/&gt; &lt;entry key=&quot;user2&quot; value-ref=&quot;u2&quot;/&gt; &lt;/map&gt; &lt;/property&gt; &lt;/bean&gt; ï¼ˆ5ï¼‰é›†åˆæ•°æ®ç±»å‹ï¼ˆPropertiesï¼‰çš„æ³¨å…¥ public class UserDaoImpl implements UserDao { private Properties properties; public void setProperties(Properties properties) { this.properties = properties; } public void save() { System.out.println(properties); System.out.println(&quot;UserDao save method running....&quot;); } } &lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt; &lt;property name=&quot;properties&quot;&gt; &lt;props&gt; &lt;prop key=&quot;p1&quot;&gt;aaa&lt;/prop&gt; &lt;prop key=&quot;p2&quot;&gt;bbb&lt;/prop&gt; &lt;prop key=&quot;p3&quot;&gt;ccc&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; 3.9 å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶ï¼ˆåˆ†æ¨¡å—å¼€å‘ï¼‰å®é™…å¼€å‘ä¸­ï¼ŒSpringçš„é…ç½®å†…å®¹éå¸¸å¤šï¼Œè¿™å°±å¯¼è‡´Springé…ç½®å¾ˆç¹æ‚ä¸”ä½“ç§¯å¾ˆå¤§ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥å°†éƒ¨åˆ†é…ç½®æ‹†è§£åˆ°å…¶ä»–é…ç½®æ–‡ä»¶ä¸­ï¼Œè€Œåœ¨Springä¸»é…ç½®æ–‡ä»¶é€šè¿‡importæ ‡ç­¾è¿›è¡ŒåŠ è½½ &lt;import resource=&quot;applicationContext-xxx.xml&quot;/&gt; 4. springç›¸å…³API4.1 ApplicationContextçš„ç»§æ‰¿ä½“ç³»applicationContextï¼šæ¥å£ç±»å‹ï¼Œä»£è¡¨åº”ç”¨ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥é€šè¿‡å…¶å®ä¾‹è·å¾— Spring å®¹å™¨ä¸­çš„ Bean å¯¹è±¡ 4.2 ApplicationContextçš„å®ç°ç±»1ï¼‰ClassPathXmlApplicationContext â€‹ å®ƒæ˜¯ä»ç±»çš„æ ¹è·¯å¾„ä¸‹åŠ è½½é…ç½®æ–‡ä»¶ æ¨èä½¿ç”¨è¿™ç§ 2ï¼‰FileSystemXmlApplicationContext â€‹ å®ƒæ˜¯ä»ç£ç›˜è·¯å¾„ä¸ŠåŠ è½½é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥åœ¨ç£ç›˜çš„ä»»æ„ä½ç½®ã€‚ 3ï¼‰AnnotationConfigApplicationContext â€‹ å½“ä½¿ç”¨æ³¨è§£é…ç½®å®¹å™¨å¯¹è±¡æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤ç±»æ¥åˆ›å»º spring å®¹å™¨ã€‚å®ƒç”¨æ¥è¯»å–æ³¨è§£ã€‚ 4.3 getBean()æ–¹æ³•ä½¿ç”¨public Object getBean(String name) throws BeansException { assertBeanFactoryActive(); return getBeanFactory().getBean(name); } public &lt;T&gt; T getBean(Class&lt;T&gt; requiredType) throws BeansException { assertBeanFactoryActive(); return getBeanFactory().getBean(requiredType); } å…¶ä¸­ï¼Œå½“å‚æ•°çš„æ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œè¡¨ç¤ºæ ¹æ®Beançš„idä»å®¹å™¨ä¸­è·å¾—Beanå®ä¾‹ï¼Œè¿”å›æ˜¯Objectï¼Œéœ€è¦å¼ºè½¬ã€‚ å½“å‚æ•°çš„æ•°æ®ç±»å‹æ˜¯Classç±»å‹æ—¶ï¼Œè¡¨ç¤ºæ ¹æ®ç±»å‹ä»å®¹å™¨ä¸­åŒ¹é…Beanå®ä¾‹ï¼Œå½“å®¹å™¨ä¸­ç›¸åŒç±»å‹çš„Beanæœ‰å¤šä¸ªæ—¶ï¼Œåˆ™æ­¤æ–¹æ³•ä¼šæŠ¥é”™ getBean()æ–¹æ³•ä½¿ç”¨ ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); UserService userService1 = (UserService) applicationContext.getBean(&quot;userService&quot;); UserService userService2 = applicationContext.getBean(UserService.class); å¯ä»¥ç”¨gitä¸‹è½½ç›¸å…³ä»£ç  git clone https://gitee.com/lovelves/learning-code-warehouse.git","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"spring","slug":"spring","permalink":"https://www.lovelves.cn/tags/spring/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]},{"title":"Hexo-Theme-Sakura","slug":"Hexo-Theme-Sakura","date":"2018-12-12T14:16:01.000Z","updated":"2021-06-21T13:31:02.642Z","comments":true,"path":"2018/12/12/Hexo-Theme-Sakura/","link":"","permalink":"https://www.lovelves.cn/2018/12/12/Hexo-Theme-Sakura/","excerpt":"","text":"hexo-theme-sakuraä¸»é¢˜ English document åŸºäºWordPressä¸»é¢˜Sakuraä¿®æ”¹æˆHexoçš„ä¸»é¢˜ã€‚ demoé¢„è§ˆ æ­£åœ¨å¼€å‘ä¸­â€¦â€¦ äº¤æµç¾¤è‹¥ä½ æ˜¯ä½¿ç”¨è€…ï¼ŒåŠ ç¾¤QQ: 801511924 è‹¥ä½ æ˜¯åˆ›ä½œè€…ï¼ŒåŠ ç¾¤QQ: 194472590 ä¸»é¢˜ç‰¹æ€§ é¦–é¡µå¤§å±è§†é¢‘ é¦–é¡µéšæœºå°é¢ å›¾ç‰‡æ‡’åŠ è½½ valineè¯„è®º fancy-boxç›¸å†Œ pjaxæ”¯æŒï¼ŒéŸ³ä¹ä¸é—´æ–­ aplayeréŸ³ä¹æ’­æ”¾å™¨ å¤šçº§å¯¼èˆªèœå•ï¼ˆæŒ‰ç°åœ¨å¤§éƒ¨åˆ†hexoä¸»é¢˜æ¥è¯´ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸ªç‰¹æ€§äº†ï¼‰ èµèµä½œè€…å¦‚æœå–œæ¬¢hexo-theme-sakuraä¸»é¢˜ï¼Œå¯ä»¥è€ƒè™‘èµ„åŠ©ä¸€ä¸‹å“¦~éå¸¸æ„Ÿæ¿€ï¼ paypal | Alipay æ”¯ä»˜å® | WeChat Pay å¾®ä¿¡æ”¯ä»˜ æœªå®Œå–„çš„ä½¿ç”¨æ•™ç¨‹é‚£å•¥ï¼Ÿè€å®è¯´æˆ‘ç›®å‰ä¹Ÿä¸æ˜¯å¾ˆæœ‰æ¡ç†233333333~ 1ã€ä¸»é¢˜ä¸‹è½½å®‰è£…hexo-theme-sakuraå»ºè®®ä¸‹è½½å‹ç¼©åŒ…æ ¼å¼ï¼Œå› ä¸ºé™¤äº†ä¸»é¢˜å†…å®¹è¿˜æœ‰äº›sourceçš„é…ç½®å¯¹æ–°æ‰‹æ¥è¯´æ¯”è¾ƒå¤ªéº»çƒ¦ï¼Œç›´æ¥ä¸‹è½½è§£å‹å°±çœå»è¿™äº›éº»çƒ¦å’¯ã€‚ ä¸‹è½½å¥½åè§£å‹åˆ°åšå®¢æ ¹ç›®å½•ï¼ˆä¸æ˜¯ä¸»é¢˜ç›®å½•å“¦ï¼Œé‡å¤çš„é€‰æ‹©æ›¿æ¢ï¼‰ã€‚æ¥ç€åœ¨å‘½ä»¤è¡Œï¼ˆcmdã€bashï¼‰è¿è¡Œnpm iå®‰è£…ä¾èµ–ã€‚ 2ã€ä¸»é¢˜é…ç½®åšå®¢æ ¹ç›®å½•ä¸‹çš„_configé…ç½®ç«™ç‚¹ # Site title: ä½ çš„ç«™ç‚¹å subtitle: description: ç«™ç‚¹ç®€ä»‹ keywords: author: ä½œè€…å language: zh-cn timezone: éƒ¨ç½² deploy: type: git repo: github: ä½ çš„githubä»“åº“åœ°å€ # coding: ä½ çš„codingä»“åº“åœ°å€ branch: master å¤‡ä»½ ï¼ˆä½¿ç”¨hexo bå‘å¸ƒå¤‡ä»½åˆ°è¿œç¨‹ä»“åº“ï¼‰ backup: type: git message: backup my blog of https://honjun.github.io/ repository: # ä½ çš„githubä»“åº“åœ°å€,å¤‡ä»½åˆ†æ”¯å ï¼ˆå»ºè®®æ–°å»ºbackupåˆ†æ”¯ï¼‰ github: https://github.com/honjun/honjun.github.io.git,backup # coding: https://git.coding.net/hojun/hojun.git,backup ä¸»é¢˜ç›®å½•ä¸‹çš„_configé…ç½®å…¶ä¸­æ ‡æ˜ã€æ”¹ã€‘çš„æ˜¯éœ€è¦ä¿®æ”¹éƒ¨é—¨ï¼Œæ ‡æ˜ã€é€‰ã€‘æ˜¯å¯æ”¹å¯ä¸æ”¹ï¼Œæ ‡æ˜ã€éã€‘æ˜¯ä¸ç”¨æ”¹çš„éƒ¨åˆ† # site name # ç«™ç‚¹å ã€æ”¹ã€‘ prefixName: ã•ãã‚‰è˜ãã® siteName: hojun # favicon and site master avatar # ç«™ç‚¹çš„faviconå’Œå¤´åƒ è¾“å…¥å›¾ç‰‡è·¯å¾„ï¼ˆä¸‹é¢çš„é…ç½®æ˜¯éƒ½æ˜¯cdnçš„ç›¸å¯¹è·¯å¾„ï¼Œæ²¡æœ‰cdnè¯·å¡«å†™å®Œæ•´è·¯å¾„ï¼Œå»ºè®®ä½¿ç”¨jsdeliveræ­å»ºä¸€ä¸ªcdnå•¦ï¼Œå…ˆå»ä¸‹è½½æˆ‘çš„cdnæ›¿æ¢ä¸‹å›¾ç‰‡å°±è¡Œäº†ï¼Œç®€å•æ–¹ä¾¿~ï¼‰ã€æ”¹ã€‘ favicon: /images/favicon.ico avatar: /img/custom/avatar.jpg # ç«™ç‚¹url ã€æ”¹ã€‘ url: https://sakura.hojun.cn # ç«™ç‚¹ä»‹ç»ï¼ˆæˆ–è€…è¯´æ˜¯ä¸ªäººç­¾åï¼‰ã€æ”¹ã€‘ description: Live your life with passion! With some drive! # ç«™ç‚¹cdnï¼Œæ²¡æœ‰å°±ä¸ºç©º ã€æ”¹ã€‘ è‹¥æ˜¯cdnä¸ºç©ºï¼Œä¸€äº›å›¾ç‰‡åœ°å€å°±è¦å¡«å®Œæ•´åœ°å€äº†ï¼Œæ¯”å¦‚ä¹‹å‰avatarå°±è¦å¡«https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg cdn: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6 # å¼€å¯pjax ã€é€‰ã€‘ pjax: 1 # ç«™ç‚¹é¦–é¡µçš„å…¬å‘Šä¿¡æ¯ ã€æ”¹ã€‘ notice: hexo-Sakuraä¸»é¢˜å·²ç»å¼€æºï¼Œç›®å‰æ­£åœ¨å¼€å‘ä¸­... # æ‡’åŠ è½½çš„åŠ è½½ä¸­å›¾ç‰‡ ã€é€‰ã€‘ lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # ç«™ç‚¹èœå•é…ç½® ã€é€‰ã€‘ menus: é¦–é¡µ: { path: /, fa: fa-fort-awesome faa-shake } å½’æ¡£: { path: /archives, fa: fa-archive faa-shake, submenus: { æŠ€æœ¯: {path: /categories/æŠ€æœ¯/, fa: fa-code }, ç”Ÿæ´»: {path: /categories/ç”Ÿæ´»/, fa: fa-file-text-o }, èµ„æº: {path: /categories/èµ„æº/, fa: fa-cloud-download }, éšæƒ³: {path: /categories/éšæƒ³/, fa: fa-commenting-o }, è½¬è½½: {path: /categories/è½¬è½½/, fa: fa-book } } } æ¸…å•: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { ä¹¦å•: {path: /tags/æ‚¦è¯»/, fa: fa-th-list faa-bounce }, ç•ªç»„: {path: /bangumi/, fa: fa-film faa-vertical }, æ­Œå•: {path: /music/, fa: fa-headphones }, å›¾é›†: {path: /tags/å›¾é›†/, fa: fa-photo } } } ç•™è¨€æ¿: { path: /comment/, fa: fa-pencil-square-o faa-tada } å‹äººå¸: { path: /links/, fa: fa-link faa-shake } èµèµ: { path: /donate/, fa: fa-heart faa-pulse } å…³äº: { path: /, fa: fa-leaf faa-wrench , submenus: { æˆ‘ï¼Ÿ: {path: /about/, fa: fa-meetup}, ä¸»é¢˜: {path: /theme-sakura/, fa: iconfont icon-sakura }, Lab: {path: /lab/, fa: fa-cogs }, } } å®¢æˆ·ç«¯: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # Home page sort type: -1: newer firstï¼Œ1: older first. ã€éã€‘ homePageSortType: -1 # Home page article shown number) ã€éã€‘ homeArticleShown: 10 # èƒŒæ™¯å›¾ç‰‡ ã€é€‰ã€‘ bgn: 8 # startdashé¢æ¿ url, title, desc img ã€æ”¹ã€‘ startdash: - {url: /theme-sakura/, title: Sakura, desc: æœ¬ç«™ hexo ä¸»é¢˜, img: /img/startdash/sakura.md.png} - {url: http://space.bilibili.com/271849279, title: Bilibili, desc: åšä¸»çš„bç«™è§†é¢‘, img: /img/startdash/bilibili.jpg} - {url: /, title: hojunçš„ä¸‡äº‹å±‹, desc: æŠ€æœ¯æœåŠ¡, img: /img/startdash/wangshiwu.jpg} # your site build time or founded date # ä½ çš„ç«™ç‚¹å»ºç«‹æ—¥æœŸ ã€æ”¹ã€‘ siteBuildingTime: 07/17/2018 # ç¤¾äº¤æŒ‰é’®(social) url, img PCç«¯é…ç½® ã€æ”¹ã€‘ social: github: {url: http://github.com/honjun, img: /img/social/github.png} sina: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/sina.png} wangyiyun: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/wangyiyun.png} zhihu: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/zhihu.png} email: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/email.svg} wechat: {url: /#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png} # ç¤¾äº¤æŒ‰é’®(msocial) url, img ç§»åŠ¨ç«¯é…ç½® ã€æ”¹ã€‘ msocial: github: {url: http://github.com/honjun, fa: fa-github, color: 333} weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # èµèµäºŒç»´ç ï¼ˆå…¶ä¸­wechatSQæ˜¯èµèµå•é¡µé¢çš„èµèµç å›¾ç‰‡ï¼‰ã€æ”¹ã€‘ donate: alipay: /img/custom/donate/AliPayQR.jpg wechat: /img/custom/donate/WeChanQR.jpg wechatSQ: /img/custom/donate/WeChanSQ.jpg # é¦–é¡µè§†é¢‘åœ°å€ä¸ºhttps://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4ï¼Œé…ç½®å¦‚ä¸‹ ã€æ”¹ã€‘ movies: url: https://cdn.jsdelivr.net/gh/honjun/hojun@1.2 # å¤šä¸ªè§†é¢‘ç”¨é€—å·éš”å¼€ï¼Œéšæœºè·å–ã€‚æ”¯æŒçš„æ ¼å¼ç›®å‰å·²çŸ¥MP4,Flvã€‚å…¶ä»–çš„å¯ä»¥è¯•ä¸‹ï¼Œä¸ä¿è¯æœ‰ç”¨ name: Unbroken.mp4 # å·¦ä¸‹è§’aplayeræ’­æ”¾å™¨é…ç½® ä¸»è¦æ”¹idå’Œserverè¿™ä¸¤é¡¹ï¼Œä¿®æ”¹è¯¦è§[aplayeræ–‡æ¡£] ã€æ”¹ã€‘ aplayer: id: 2660651585 server: netease type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valineè¯„è®ºé…ç½®ã€æ”¹ã€‘ valine: true v_appId: GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz v_appKey: mgOpfzbkHYqU92CV4IDlAUHQ åˆ†ç±»é¡µå’Œæ ‡ç­¾é¡µé…ç½®åˆ†ç±»é¡µ æ ‡ç­¾é¡µ é…ç½®é¡¹åœ¨\\themes\\Sakura\\languages\\zh-cn.ymlé‡Œã€‚æ–°å¢ä¸€ä¸ªåˆ†ç±»æˆ–æ ‡ç­¾æœ€å¥½åŠ ä¸‹å“¦ï¼Œå½“ç„¶å«Œéº»çƒ¦å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€å¼ é»˜è®¤å›¾ç‰‡ï¼ˆå¯ä»¥æ”¹ä¸»é¢˜æˆ–è€…ç›´æ¥æŠŠ404å›¾ç‰‡æ›¿æ¢ä¸‹ï¼Œå¾æ±‚ä¸‹æ„è§è¦ä¸è¦ç»™è¿™ä¸ªåœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸ªå¼€å…³ï¼Œå¯ä»¥issueæˆ–ç¾¤é‡Œæå‡ºæ¥ï¼‰ï¼Œç°åœ¨æ˜¯æ²¡è®¾ç½®çš„è¯ä¼šä½¿ç”¨é‚£ç§å€’ç«‹å°ç‹—404å“¦ã€‚ #category # æŒ‰åˆ†ç±»ååˆ›å»º æŠ€æœ¯: #ä¸­æ–‡æ ‡é¢˜ zh: é‡ç”ŸæŠ€æœ¯åä¼š # è‹±æ–‡æ ‡é¢˜ en: Geek â€“ Only for Love # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg ç”Ÿæ´»: zh: ç”Ÿæ´» en: live img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg #tag # æ ‡ç­¾åå³æ˜¯æ ‡é¢˜ æ‚¦è¯»: # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg å•é¡µé¢å°é¢é…ç½®å¦‚ç•™è¨€æ¿é¡µé¢é¡µé¢ï¼Œä½äºsourceä¸‹çš„commentä¸‹ï¼Œæ‰“å¼€index.mdå¦‚ä¸‹ï¼š --- title: comment date: 2018-12-20 23:13:48 keywords: ç•™è¨€æ¿ description: comments: true # åœ¨è¿™é‡Œé…ç½®å•é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰æ›¿æ¢å“¦~ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg --- å•é¡µé¢é…ç½®ç•ªç»„è®¡åˆ’é¡µ ï¼ˆè¯·ç›´æ¥åœ¨ä¸‹è½½åçš„æ–‡ä»¶ä¸­æ”¹ï¼Œä¸‹é¢çš„æ·»åŠ äº†æ³¨é‡Šå¯èƒ½ä¼šæœ‰äº›å½±å“ï¼‰ --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: # ç•ªç»„å›¾ç‰‡ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg # ç•ªç»„å title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± # è¿½ç•ªçŠ¶æ€ ï¼ˆè¿½ç•ªing/å·²è¿½å®Œï¼‰ status: å·²è¿½å®Œ # è¿½ç•ªè¿›åº¦ progress: 100 # ç•ªå‰§æ—¥æ–‡åç§° jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† # æ”¾é€æ—¶é—´ time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. # ç•ªå‰§ä»‹ç» desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± status: å·²è¿½å®Œ progress: 50 jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ --- å‹é“¾é¡µ ï¼ˆè¯·ç›´æ¥åœ¨ä¸‹è½½åçš„æ–‡ä»¶ä¸­æ”¹ï¼Œä¸‹é¢çš„æ·»åŠ äº†æ³¨é‡Šå¯èƒ½ä¼šæœ‰äº›å½±å“ï¼‰ --- layout: links title: links # åˆ›å»ºæ—¥æœŸï¼Œå¯ä»¥æ”¹ä¸‹ date: 2018-12-19 23:11:06 # å›¾ç‰‡ä¸Šçš„æ ‡é¢˜ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ keywords: å‹äººå¸ description: # true/false å¼€å¯/å…³é—­è¯„è®º comments: true # é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg # å‹é“¾é…ç½® links: # ç±»å‹åˆ†ç»„ - group: ä¸ªäººé¡¹ç›® # ç±»å‹ç®€ä»‹ desc: å……åˆ†è¯´æ˜è¿™å®¶ä¼™æ˜¯æ¡å’¸é±¼ &lt; (ï¿£ï¸¶ï¿£)&gt; items: # å‹é“¾é“¾æ¥ - url: https://shino.cc/fgvf # å‹é“¾å¤´åƒ img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg # å‹é“¾ç«™ç‚¹å name: Google # å‹é“¾ä»‹ç» ä¸‹é¢é›·åŒ desc: Google é•œåƒ - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ # ç±»å‹åˆ†ç»„... - group: å°ä¼™ä¼´ä»¬ desc: æ¬¢è¿äº¤æ¢å‹é“¾ ê‰‚(ËŠá—œË‹) items: - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ --- å†™æ–‡ç« é…ç½®ä¸»é¢˜é›†æˆäº†ä¸ªäººæ’ä»¶hexo-tag-biliå’Œhexo-tag-fancybox_imgã€‚å…¶ä¸­hexo-tag-biliç”¨æ¥åœ¨æ–‡ç« æˆ–å•é¡µé¢ä¸­æ’å…¥Bç«™å¤–é“¾è§†é¢‘ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š {% bili video_id [page] %} è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯¦è§hexo-tag-biliã€‚ hexo-tag-fancybox_imgç”¨æ¥åœ¨æ–‡ç« æˆ–å•é¡µé¢ä¸­å›¾ç‰‡ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š {% fb_img src [caption] %} è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯¦è§hexo-tag-fancybox_img è¿˜æœ‰å•¥ï¼Œä¸€æ—¶æƒ³ä¸èµ·æ¥â€¦â€¦To be continuedâ€¦","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"https://www.lovelves.cn/tags/web/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://www.lovelves.cn/categories/æŠ€æœ¯/"}]}]}