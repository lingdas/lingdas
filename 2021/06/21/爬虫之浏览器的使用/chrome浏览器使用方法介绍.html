<h2 id="chrome浏览器使用方法介绍"><a href="#chrome浏览器使用方法介绍" class="headerlink" title="chrome浏览器使用方法介绍"></a>chrome浏览器使用方法介绍</h2><h5 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h5><ol>
<li>了解 新建隐身窗口的目的</li>
<li>了解 chrome中network的使用</li>
<li>了解 寻找登录接口的方法</li>
</ol>
<hr>
<h3 id="1-新建隐身窗口"><a href="#1-新建隐身窗口" class="headerlink" title="1 新建隐身窗口"></a>1 新建隐身窗口</h3><blockquote>
<p>浏览器中直接打开网站，会自动带上之前网站时保存的cookie，但是在爬虫中首次获取页面是没有携带cookie的，这种情况如何解决呢？</p>
</blockquote>
<p>使用隐身窗口，首次打开网站，不会带上cookie，能够观察页面的获取情况，包括对方服务器如何设置cookie在本地</p>
<p><img data-action="zoom" src="./新建隐身窗口.png" alt="Alt text"></p>
<h3 id="2-chrome中network的更多功能"><a href="#2-chrome中network的更多功能" class="headerlink" title="2 chrome中network的更多功能"></a>2 chrome中network的更多功能</h3><p><img data-action="zoom" src="./chrome中network更多用途.png" alt="Alt text"></p>
<h5 id="2-1-Perserve-log"><a href="#2-1-Perserve-log" class="headerlink" title="2.1 Perserve log"></a>2.1 Perserve log</h5><p>默认情况下，页面发生跳转之后，之前的请求url地址等信息都会消失，勾选perserve log后之前的请求都会被保留<br><img data-action="zoom" src="./勾选perservelog的效果.png" alt="Alt text"></p>
<h5 id="2-2-filter过滤"><a href="#2-2-filter过滤" class="headerlink" title="2.2 filter过滤"></a>2.2 filter过滤</h5><p>在url地址很多的时候，可以在filter中输入部分url地址，对所有的url地址起到一定的过滤效果，具体位置在上面第二幅图中的2的位置</p>
<h5 id="2-3-观察特定种类的请求"><a href="#2-3-观察特定种类的请求" class="headerlink" title="2.3 观察特定种类的请求"></a>2.3 观察特定种类的请求</h5><p>在上面第二幅图中的3的位置，有很多选项，默认是选择的<code>all</code>，即会观察到所有种类的请求</p>
<p>很多时候处于自己的目的可以选择<code>all</code>右边的其他选项，比如常见的选项：</p>
<ul>
<li>XHR:大部分情况表示ajax请求</li>
<li>JS:js请求</li>
<li>CSS:css请求</li>
</ul>
<p>但是很多时候我们并不能保证我们需要的请求是什么类型，特别是我们不清楚一个请求是否为ajax请求的时候，直接选择<code>all</code>,从前往后观察即可，其中js，css，图片等不去观察即可</p>
<p>不要被浏览器中的一堆请求吓到了，这些请求中除了js，css，图片的请求外，其他的请求并没有多少个</p>
<h3 id="3-寻找登录接口"><a href="#3-寻找登录接口" class="headerlink" title="3 寻找登录接口"></a>3 寻找登录接口</h3><blockquote>
<p>回顾之前人人网的爬虫我们找到了一个登陆接口，那么这个接口从哪里找到的呢？</p>
</blockquote>
<blockquote>
<p><a href="http://www.renren.com">http://www.renren.com</a></p>
</blockquote>
<h5 id="3-1-寻找action对的url地址"><a href="#3-1-寻找action对的url地址" class="headerlink" title="3.1 寻找action对的url地址"></a>3.1 寻找action对的url地址</h5><p><img data-action="zoom" src="./人人网登录的地址.png" alt="Alt text"></p>
<p>可以发现，这个地址就是在登录的form表单中action对应的url地址，回顾前端的知识点，可以发现就是进行表单提交的地址，对应的，提交的数据，仅仅需要：<code>用户名的input标签中，name的值作为键，用户名作为值，密码的input标签中，name的值作为键，密码作为值即可</code></p>
<h5 id="思考："><a href="#思考：" class="headerlink" title="思考："></a>思考：</h5><p>如果action对应的没有url地址的时候可以怎么做？</p>
<h5 id="3-2-通过抓包寻找登录的url地址"><a href="#3-2-通过抓包寻找登录的url地址" class="headerlink" title="3.2 通过抓包寻找登录的url地址"></a>3.2 通过抓包寻找登录的url地址</h5><p><img data-action="zoom" src="./人人网抓包寻找url地址.png" alt="Alt text"></p>
<p>通过抓包可以发现，在这个url地址和请求体中均有参数，比如<code>uniqueTimestamp</code>和<code>rkey</code>以及加密之后的<code>password</code></p>
<p>这个时候我们可以观察手机版的登录接口，是否也是一样的</p>
<p><img data-action="zoom" src="./人人网手机版登录.png" alt="Alt text"></p>
<p>可以发现在手机版中，依然有参数，但是参数的个数少一些，这个时候，我们可以<strong>使用手机版作为参考，下一节来学习如何分析js</strong></p>
<hr>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ol>
<li>使用隐身窗口的主要目的是为了避免首次打开网站携带cookie的问题</li>
<li>chrome的network中，perserve log选项能够在页面发生跳转之后任然能够观察之前的请求</li>
<li>确定登录的地址有两种方法：<ul>
<li>寻找from表单action的url地址</li>
<li>通过抓包获取</li>
</ul>
</li>
</ol>
